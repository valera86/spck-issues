/*

ace
---
Copyright (c) 2010, Ajax.org B.V.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of Ajax.org B.V. nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


buffer
---
The MIT License (MIT)

Copyright (c) Feross Aboukhadijeh, and other contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


Dexie.js
---
Copyright (c) 2014-2017 David Fahlander

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.


dot
---
Copyright (c) 2011 Laura Doktorova

Software includes portions from jQote2 Copyright (c) 2010 aefxx,
http://aefxx.com/ licensed under the MIT license.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


eruda
---
The MIT License (MIT)

Copyright (c) 2016-present liriliri

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


isomorphic-git
---
Copyright 2017-2018 the 'isomorphic-git' authors

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


Jdenticon
---
MIT License

Copyright (c) 2014-2018 Daniel Mester Pirttijärvi

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


jquery
---
Copyright 2014 jQuery Foundation and other contributors
http://jquery.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


diff
---
Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


spck-module
---
The MIT License (MIT)
=====================

Copyright © `2018` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the “Software”), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


js-beautify
---
The MIT License (MIT)

Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


spck-ui
---
The MIT License (MIT)
=====================

Copyright © `2017` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the “Software”), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


uikit
---
The MIT License (MIT)

Copyright (c) YOOtheme GmbH

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


minimatch
---
The ISC License

Copyright (c) Isaac Z. Schlueter and Contributors

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

is-utf8
---
The MIT License (MIT)

Copyright (C) 2014 Wei Fanzhe

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
　　
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


jaro-winkler
---
The MIT License (MIT)

Copyright (c) 2015 Jordan Thomas

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


typescript
---

*****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************

----------------- TypeScript ThirdPartyNotices -------------------------------------------------------

The TypeScript software is based on or incorporates material and code from the projects listed below
(collectively "Third Party Code"). Microsoft is not the original author of the
Third Party Code. The original copyright notice and the license, under which
Microsoft received such Third Party Code, are set forth below. Such license and
notices are provided for informational purposes only. Microsoft licenses the Third
Party Code to you under the terms of the Apache 2.0 License.
All Third Party Code licensed by Microsoft under the Apache License, Version 2.0 (the "License"); you
may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR
CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions and
limitations under the License.
---------------------------------------------
Third Party Code Components
--------------------------------------------

------------------- DefinitelyTyped --------------------
This file is based on or incorporates material from the projects listed below (collectively "Third Party Code"). Microsoft is not the original author of the Third Party Code. The original copyright notice and the license, under which Microsoft received such Third Party Code, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft, not the third party, licenses the Third Party Code to you under the terms set forth in the EULA for the Microsoft Product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise.
DefinitelyTyped
This project is licensed under the MIT license.
Copyrights are respective of each contributor listed at the beginning of each definition file.
Provided for Informational Purposes Only

MIT License
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--------------------------------------------------------------------------------------

------------------- Unicode --------------------
UNICODE, INC. LICENSE AGREEMENT - DATA FILES AND SOFTWARE

Unicode Data Files include all data files under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

Unicode Data Files do not include PDF online code charts under the
directory http://www.unicode.org/Public/.

Software includes any source code published in the Unicode Standard
or under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

NOTICE TO USER: Carefully read the following legal agreement.
BY DOWNLOADING, INSTALLING, COPYING OR OTHERWISE USING UNICODE INC.'S
DATA FILES ("DATA FILES"), AND/OR SOFTWARE ("SOFTWARE"),
YOU UNEQUIVOCALLY ACCEPT, AND AGREE TO BE BOUND BY, ALL OF THE
TERMS AND CONDITIONS OF THIS AGREEMENT.
IF YOU DO NOT AGREE, DO NOT DOWNLOAD, INSTALL, COPY, DISTRIBUTE OR USE
THE DATA FILES OR SOFTWARE.

COPYRIGHT AND PERMISSION NOTICE

Copyright (c) 1991-2017 Unicode, Inc. All rights reserved.
Distributed under the Terms of Use in http://www.unicode.org/copyright.html.

Permission is hereby granted, free of charge, to any person obtaining
a copy of the Unicode data files and any associated documentation
(the "Data Files") or Unicode software and any associated documentation
(the "Software") to deal in the Data Files or Software
without restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, and/or sell copies of
the Data Files or Software, and to permit persons to whom the Data Files
or Software are furnished to do so, provided that either
(a) this copyright and permission notice appear with all copies
of the Data Files or Software, or
(b) this copyright and permission notice appear in associated
Documentation.

THE DATA FILES AND SOFTWARE ARE PROVIDED "AS IS", WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT OF THIRD PARTY RIGHTS.
IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS
NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT OR CONSEQUENTIAL
DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THE DATA FILES OR SOFTWARE.

Except as contained in this notice, the name of a copyright holder
shall not be used in advertising or otherwise to promote the sale,
use or other dealings in these Data Files or Software without prior
written authorization of the copyright holder.
--------------------------------------------------------------------------------------

------------- End of ThirdPartyNotices ---------------------------------------------------


vscode-css-languageservice, vscode-nls
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


vscode-html-languageservice
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

THIRD-PARTY SOFTWARE NOTICES AND INFORMATION

vscode-html-languageservice incorporates third party material from the projects listed below. The original copyright
notice and the license under which Microsoft received such third party material are set forth below. Microsoft
reserves all other rights not expressly granted, whether by implication, estoppel or otherwise.

1. JS Beautifier (https://github.com/beautify-web/js-beautify)

The MIT License (MIT)

Copyright (c) 2007-2017 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

2.	HTML 5.1 W3C Working Draft version 08 October 2015 (http://www.w3.org/TR/2015/WD-html51-20151008/)

%% HTML 5.1 W3C Working Draft NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright © 2015 W3C® (MIT, ERCIM, Keio, Beihang). This software or document includes material copied
from or derived from HTML 5.1 W3C Working Draft (http://www.w3.org/TR/2015/WD-html51-20151008/.)

THIS DOCUMENT IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT
NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF
THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY
PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE
DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to this document or its contents
without specific, written prior permission. Title to copyright in this document will at all times remain with copyright holders.
=========================================
END OF HTML 5.1 W3C Working Draft NOTICES AND INFORMATION

3. Ionic documentation version 1.2.4 (https://github.com/driftyco/ionic-site)

%% Ionic documentation NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright Drifty Co. http://drifty.com/.

Apache License

Version 2.0, January 2004

http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

"License" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.

"Licensor" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.

"Legal Entity" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, "control" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.

"You" (or "Your") shall mean an individual or Legal Entity exercising permissions granted by this License.

"Source" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.

"Object" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.

"Work" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).

"Derivative Works" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.

"Contribution" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, "submitted" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as "Not a Contribution."

"Contributor" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:

You must give any other recipients of the Work or Derivative Works a copy of this License; and

You must cause any modified files to carry prominent notices stating that You changed the files; and

You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and

If the Work includes a "NOTICE" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License. You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS
=========================================
END OF Ionic documentation NOTICES AND INFORMATION


vscode-languageserver-types, vscode-uri
---
Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


themify
---
LICENSE

- Themify Icons font licensed under: http://scripts.sil.org/OFL
- Code licensed under: http://opensource.org/licenses/mit-license.html
- All brand icons are copyright/trademarks of their respective owners.


file-saver
---
The MIT License

Copyright © 2016 [Eli Grey][1].

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

  [1]: http://eligrey.com


babel
---
MIT License

Copyright (c) 2014-present Sebastian McKenzie and other contributors

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


core-js
---
Copyright (c) 2014-2020 Denis Pushkarev

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


whatwg-fetch
---
Copyright (c) 2014-2016 GitHub, Inc.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

zip.js
---
Copyright (c) 2013 Gildas Lormeau. All rights reserved.
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
1. Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the distribution.
3. The names of the authors may not be used to endorse or promote products
derived from this software without specific prior written permission.
THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,r,n,i,a,o){try{var u=e[a](o),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function r(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,r){return(d=h()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i}).apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function b(e){return function(){var t,r=f(e);if(h()){var n=f(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return g(this,t)}}function w(e,t,r){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=R(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function S(e,t){return e(t={exports:{}},t.exports),t.exports}var C=S((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),T=S((function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)})),_=(T.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),E=function(e){if(!_(e))throw TypeError(e+" is not an object!");return e},I=function(e){try{return!!e()}catch(e){return!0}},j=!I((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),z=C.document,O=_(z)&&_(z.createElement),F=function(e){return O?z.createElement(e):{}},P=!j&&!I((function(){return 7!=Object.defineProperty(F("div"),"a",{get:function(){return 7}}).a})),M=function(e,t){if(!_(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!_(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!_(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!_(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},L=Object.defineProperty,B={f:j?Object.defineProperty:function(e,t,r){if(E(e),t=M(t,!0),E(r),P)try{return L(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},D=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},U=j?function(e,t,r){return B.f(e,t,D(1,r))}:function(e,t,r){return e[t]=r,e},N={}.hasOwnProperty,G=function(e,t){return N.call(e,t)},W=0,H=Math.random(),V=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++W+H).toString(36))},K=S((function(e){var t=C["__core-js_shared__"]||(C["__core-js_shared__"]={});(e.exports=function(e,r){return t[e]||(t[e]=void 0!==r?r:{})})("versions",[]).push({version:T.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),q=K("native-function-to-string",Function.toString),Z=S((function(e){var t=V("src"),r=(""+q).split("toString");T.inspectSource=function(e){return q.call(e)},(e.exports=function(e,n,i,a){var o="function"==typeof i;o&&(G(i,"name")||U(i,"name",n)),e[n]!==i&&(o&&(G(i,t)||U(i,t,e[n]?""+e[n]:r.join(String(n)))),e===C?e[n]=i:a?e[n]?e[n]=i:U(e,n,i):(delete e[n],U(e,n,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[t]||q.call(this)}))})),Y=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},J=function(e,t,r){if(Y(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},Q=function(e,t,r){var n,i,a,o,u=e&Q.F,s=e&Q.G,c=e&Q.S,f=e&Q.P,l=e&Q.B,h=s?C:c?C[t]||(C[t]={}):(C[t]||{}).prototype,d=s?T:T[t]||(T[t]={}),m=d.prototype||(d.prototype={});for(n in s&&(r=t),r)a=((i=!u&&h&&void 0!==h[n])?h:r)[n],o=l&&i?J(a,C):f&&"function"==typeof a?J(Function.call,a):a,h&&Z(h,n,a,e&Q.U),d[n]!=a&&U(d,n,o),f&&m[n]!=a&&(m[n]=a)};C.core=T,Q.F=1,Q.G=2,Q.S=4,Q.P=8,Q.B=16,Q.W=32,Q.U=64,Q.R=128;var X=Q,ee={}.toString,te=function(e){return ee.call(e).slice(8,-1)},re=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==te(e)?e.split(""):Object(e)},ne=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},ie=function(e){return Object(ne(e))},ae=Math.ceil,oe=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?oe:ae)(e)},se=Math.min,ce=function(e){return e>0?se(ue(e),9007199254740991):0},fe=Array.isArray||function(e){return"Array"==te(e)},le=S((function(e){var t=K("wks"),r=C.Symbol,n="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=n&&r[e]||(n?r:V)("Symbol."+e))}).store=t})),he=le("species"),de=function(e,t){return new(function(e){var t;return fe(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!fe(t.prototype)||(t=void 0),_(t)&&null===(t=t[he])&&(t=void 0)),void 0===t?Array:t}(e))(t)},me=function(e,t){var r=1==e,n=2==e,i=3==e,a=4==e,o=6==e,u=5==e||o,s=t||de;return function(t,c,f){for(var l,h,d=ie(t),m=re(d),v=J(c,f,3),p=ce(m.length),g=0,b=r?s(t,p):n?s(t,0):void 0;p>g;g++)if((u||g in m)&&(h=v(l=m[g],g,d),e))if(r)b[g]=h;else if(h)switch(e){case 3:return!0;case 5:return l;case 6:return g;case 2:b.push(l)}else if(a)return!1;return o?-1:i||a?a:b}},ve=le("unscopables"),pe=Array.prototype;null==pe[ve]&&U(pe,ve,{});var ge=function(e){pe[ve][e]=!0},be=me(6),we="findIndex",ke=!0;we in[]&&Array(1)[we]((function(){ke=!1})),X(X.P+X.F*ke,"Array",{findIndex:function(e){return be(this,e,arguments.length>1?arguments[1]:void 0)}}),ge(we);var ye={f:{}.propertyIsEnumerable},Re=function(e){return re(ne(e))},xe=Object.getOwnPropertyDescriptor,Ae={f:j?xe:function(e,t){if(e=Re(e),t=M(t,!0),P)try{return xe(e,t)}catch(e){}if(G(e,t))return D(!ye.f.call(e,t),e[t])}},Se=function(e,t){if(E(e),!_(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},Ce={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=J(Function.call,Ae.f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return Se(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:Se},Te=Ce.set,_e=function(e,t,r){var n,i=t.constructor;return i!==r&&"function"==typeof i&&(n=i.prototype)!==r.prototype&&_(n)&&Te&&Te(e,n),e},Ee=Math.max,Ie=Math.min,je=function(e,t){return(e=ue(e))<0?Ee(e+t,0):Ie(e,t)},ze=function(e){return function(t,r,n){var i,a=Re(t),o=ce(a.length),u=je(n,o);if(e&&r!=r){for(;o>u;)if((i=a[u++])!=i)return!0}else for(;o>u;u++)if((e||u in a)&&a[u]===r)return e||u||0;return!e&&-1}},Oe=K("keys"),Fe=function(e){return Oe[e]||(Oe[e]=V(e))},Pe=ze(!1),Me=Fe("IE_PROTO"),Le=function(e,t){var r,n=Re(e),i=0,a=[];for(r in n)r!=Me&&G(n,r)&&a.push(r);for(;t.length>i;)G(n,r=t[i++])&&(~Pe(a,r)||a.push(r));return a},Be="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),De=Be.concat("length","prototype"),Ue={f:Object.getOwnPropertyNames||function(e){return Le(e,De)}},$e="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Ne="["+$e+"]",Ge=RegExp("^"+Ne+Ne+"*"),We=RegExp(Ne+Ne+"*$"),He=function(e,t,r){var n={},i=I((function(){return!!$e[e]()||"​"!="​"[e]()})),a=n[e]=i?t(Ve):$e[e];r&&(n[r]=a),X(X.P+X.F*i,"String",n)},Ve=He.trim=function(e,t){return e=String(ne(e)),1&t&&(e=e.replace(Ge,"")),2&t&&(e=e.replace(We,"")),e},Ke=He,qe=Object.keys||function(e){return Le(e,Be)},Ze=j?Object.defineProperties:function(e,t){E(e);for(var r,n=qe(t),i=n.length,a=0;i>a;)B.f(e,r=n[a++],t[r]);return e},Ye=C.document,Je=Ye&&Ye.documentElement,Qe=Fe("IE_PROTO"),Xe=function(){},et=function(){var e,t=F("iframe"),r=Be.length;for(t.style.display="none",Je.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),et=e.F;r--;)delete et.prototype[Be[r]];return et()},tt=Object.create||function(e,t){var r;return null!==e?(Xe.prototype=E(e),r=new Xe,Xe.prototype=null,r[Qe]=e):r=et(),void 0===t?r:Ze(r,t)},rt=Ue.f,nt=Ae.f,it=B.f,at=Ke.trim,ot=C.Number,ut=ot,st=ot.prototype,ct="Number"==te(tt(st)),ft="trim"in String.prototype,lt=function(e){var t=M(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,a=(t=ft?t.trim():at(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var o,u=t.slice(2),s=0,c=u.length;s<c;s++)if((o=u.charCodeAt(s))<48||o>i)return NaN;return parseInt(u,n)}}return+t};if(!ot(" 0o1")||!ot("0b1")||ot("+0x1")){ot=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof ot&&(ct?I((function(){st.valueOf.call(r)})):"Number"!=te(r))?_e(new ut(lt(t)),r,ot):lt(t)};for(var ht,dt=j?rt(ut):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),mt=0;dt.length>mt;mt++)G(ut,ht=dt[mt])&&!G(ot,ht)&&it(ot,ht,nt(ut,ht));ot.prototype=st,st.constructor=ot,Z(C,"Number",ot)}var vt=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},pt=le("toStringTag"),gt="Arguments"==te(function(){return arguments}()),bt=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),pt))?r:gt?te(t):"Object"==(n=te(t))&&"function"==typeof t.callee?"Arguments":n},wt=RegExp.prototype.exec,kt=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==bt(e))throw new TypeError("RegExp#exec called on incompatible receiver");return wt.call(e,t)},yt=function(){var e=E(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Rt=RegExp.prototype.exec,xt=String.prototype.replace,At=Rt,St=function(){var e=/a/,t=/b*/g;return Rt.call(e,"a"),Rt.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Ct=void 0!==/()??/.exec("")[1];(St||Ct)&&(At=function(e){var t,r,n,i,a=this;return Ct&&(r=new RegExp("^"+a.source+"$(?!\\s)",yt.call(a))),St&&(t=a.lastIndex),n=Rt.call(a,e),St&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),Ct&&n&&n.length>1&&xt.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var Tt=At;X({target:"RegExp",proto:!0,forced:Tt!==/./.exec},{exec:Tt});var _t=le("species"),Et=!I((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),It=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}(),jt=function(e,t,r){var n=le(e),i=!I((function(){var t={};return t[n]=function(){return 7},7!=""[e](t)})),a=i?!I((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[_t]=function(){return r}),r[n](""),!t})):void 0;if(!i||!a||"replace"===e&&!Et||"split"===e&&!It){var o=/./[n],u=r(ne,n,""[e],(function(e,t,r,n,a){return t.exec===Tt?i&&!a?{done:!0,value:o.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),s=u[0],c=u[1];Z(String.prototype,e,s),U(RegExp.prototype,n,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}};jt("search",1,(function(e,t,r,n){return[function(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=n(r,e,this);if(t.done)return t.value;var i=E(e),a=String(this),o=i.lastIndex;vt(o,0)||(i.lastIndex=0);var u=kt(i,a);return vt(i.lastIndex,o)||(i.lastIndex=o),null===u?-1:u.index}]}));for(var zt,Ot=V("typed_array"),Ft=V("view"),Pt=!(!C.ArrayBuffer||!C.DataView),Mt=Pt,Lt=0,Bt="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");Lt<9;)(zt=C[Bt[Lt++]])?(U(zt.prototype,Ot,!0),U(zt.prototype,Ft,!0)):Mt=!1;var Dt={ABV:Pt,CONSTR:Mt,TYPED:Ot,VIEW:Ft},Ut=function(e,t,r){for(var n in t)Z(e,n,t[n],r);return e},$t=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e},Nt=function(e){if(void 0===e)return 0;var t=ue(e),r=ce(t);if(t!==r)throw RangeError("Wrong length!");return r},Gt=function(e){for(var t=ie(this),r=ce(t.length),n=arguments.length,i=je(n>1?arguments[1]:void 0,r),a=n>2?arguments[2]:void 0,o=void 0===a?r:je(a,r);o>i;)t[i++]=e;return t},Wt=B.f,Ht=le("toStringTag"),Vt=function(e,t,r){e&&!G(e=r?e:e.prototype,Ht)&&Wt(e,Ht,{configurable:!0,value:t})},Kt=S((function(e,t){var r=Ue.f,n=B.f,i=C.ArrayBuffer,a=C.DataView,o=C.Math,u=C.RangeError,s=C.Infinity,c=i,f=o.abs,l=o.pow,h=o.floor,d=o.log,m=o.LN2,v=j?"_b":"buffer",p=j?"_l":"byteLength",g=j?"_o":"byteOffset";function b(e,t,r){var n,i,a,o=new Array(r),u=8*r-t-1,c=(1<<u)-1,v=c>>1,p=23===t?l(2,-24)-l(2,-77):0,g=0,b=e<0||0===e&&1/e<0?1:0;for((e=f(e))!=e||e===s?(i=e!=e?1:0,n=c):(n=h(d(e)/m),e*(a=l(2,-n))<1&&(n--,a*=2),(e+=n+v>=1?p/a:p*l(2,1-v))*a>=2&&(n++,a/=2),n+v>=c?(i=0,n=c):n+v>=1?(i=(e*a-1)*l(2,t),n+=v):(i=e*l(2,v-1)*l(2,t),n=0));t>=8;o[g++]=255&i,i/=256,t-=8);for(n=n<<t|i,u+=t;u>0;o[g++]=255&n,n/=256,u-=8);return o[--g]|=128*b,o}function w(e,t,r){var n,i=8*r-t-1,a=(1<<i)-1,o=a>>1,u=i-7,c=r-1,f=e[c--],h=127&f;for(f>>=7;u>0;h=256*h+e[c],c--,u-=8);for(n=h&(1<<-u)-1,h>>=-u,u+=t;u>0;n=256*n+e[c],c--,u-=8);if(0===h)h=1-o;else{if(h===a)return n?NaN:f?-s:s;n+=l(2,t),h-=o}return(f?-1:1)*n*l(2,h-t)}function k(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function y(e){return[255&e]}function R(e){return[255&e,e>>8&255]}function x(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function A(e){return b(e,52,8)}function S(e){return b(e,23,4)}function T(e,t,r){n(e.prototype,t,{get:function(){return this[r]}})}function _(e,t,r,n){var i=Nt(+r);if(i+t>e[p])throw u("Wrong index!");var a=e[v]._b,o=i+e[g],s=a.slice(o,o+t);return n?s:s.reverse()}function E(e,t,r,n,i,a){var o=Nt(+r);if(o+t>e[p])throw u("Wrong index!");for(var s=e[v]._b,c=o+e[g],f=n(+i),l=0;l<t;l++)s[c+l]=f[a?l:t-l-1]}if(Dt.ABV){if(!I((function(){i(1)}))||!I((function(){new i(-1)}))||I((function(){return new i,new i(1.5),new i(NaN),"ArrayBuffer"!=i.name}))){for(var z,O=(i=function(e){return $t(this,i),new c(Nt(e))}).prototype=c.prototype,F=r(c),P=0;F.length>P;)(z=F[P++])in i||U(i,z,c[z]);O.constructor=i}var M=new a(new i(2)),L=a.prototype.setInt8;M.setInt8(0,2147483648),M.setInt8(1,2147483649),!M.getInt8(0)&&M.getInt8(1)||Ut(a.prototype,{setInt8:function(e,t){L.call(this,e,t<<24>>24)},setUint8:function(e,t){L.call(this,e,t<<24>>24)}},!0)}else i=function(e){$t(this,i,"ArrayBuffer");var t=Nt(e);this._b=Gt.call(new Array(t),0),this[p]=t},a=function(e,t,r){$t(this,a,"DataView"),$t(e,i,"DataView");var n=e[p],o=ue(t);if(o<0||o>n)throw u("Wrong offset!");if(o+(r=void 0===r?n-o:ce(r))>n)throw u("Wrong length!");this[v]=e,this[g]=o,this[p]=r},j&&(T(i,"byteLength","_l"),T(a,"buffer","_b"),T(a,"byteLength","_l"),T(a,"byteOffset","_o")),Ut(a.prototype,{getInt8:function(e){return _(this,1,e)[0]<<24>>24},getUint8:function(e){return _(this,1,e)[0]},getInt16:function(e){var t=_(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=_(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return k(_(this,4,e,arguments[1]))},getUint32:function(e){return k(_(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return w(_(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return w(_(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){E(this,1,e,y,t)},setUint8:function(e,t){E(this,1,e,y,t)},setInt16:function(e,t){E(this,2,e,R,t,arguments[2])},setUint16:function(e,t){E(this,2,e,R,t,arguments[2])},setInt32:function(e,t){E(this,4,e,x,t,arguments[2])},setUint32:function(e,t){E(this,4,e,x,t,arguments[2])},setFloat32:function(e,t){E(this,4,e,S,t,arguments[2])},setFloat64:function(e,t){E(this,8,e,A,t,arguments[2])}});Vt(i,"ArrayBuffer"),Vt(a,"DataView"),U(a.prototype,Dt.VIEW,!0),t.ArrayBuffer=i,t.DataView=a})),qt={},Zt=le("iterator"),Yt=Array.prototype,Jt=function(e){return void 0!==e&&(qt.Array===e||Yt[Zt]===e)},Qt=Fe("IE_PROTO"),Xt=Object.prototype,er=Object.getPrototypeOf||function(e){return e=ie(e),G(e,Qt)?e[Qt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Xt:null},tr=le("iterator"),rr=T.getIteratorMethod=function(e){if(null!=e)return e[tr]||e["@@iterator"]||qt[bt(e)]},nr=le("species"),ir=function(e,t){var r,n=E(e).constructor;return void 0===n||null==(r=E(n)[nr])?t:Y(r)},ar=function(e,t){return{value:t,done:!!e}},or={};U(or,le("iterator"),(function(){return this}));var ur=function(e,t,r){e.prototype=tt(or,{next:D(1,r)}),Vt(e,t+" Iterator")},sr=le("iterator"),cr=!([].keys&&"next"in[].keys()),fr=function(){return this},lr=function(e,t,r,n,i,a,o){ur(r,t,n);var u,s,c,f=function(e){if(!cr&&e in m)return m[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},l=t+" Iterator",h="values"==i,d=!1,m=e.prototype,v=m[sr]||m["@@iterator"]||i&&m[i],p=v||f(i),g=i?h?f("entries"):p:void 0,b="Array"==t&&m.entries||v;if(b&&(c=er(b.call(new e)))!==Object.prototype&&c.next&&(Vt(c,l,!0),"function"!=typeof c[sr]&&U(c,sr,fr)),h&&v&&"values"!==v.name&&(d=!0,p=function(){return v.call(this)}),(cr||d||!m[sr])&&U(m,sr,p),qt[t]=p,qt[l]=fr,i)if(u={values:h?p:f("values"),keys:a?p:f("keys"),entries:g},o)for(s in u)s in m||Z(m,s,u[s]);else X(X.P+X.F*(cr||d),t,u);return u},hr=lr(Array,"Array",(function(e,t){this._t=Re(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,ar(1)):ar(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values");qt.Arguments=qt.Array,ge("keys"),ge("values"),ge("entries");var dr=le("iterator"),mr=!1;try{var vr=[7][dr]();vr.return=function(){mr=!0},Array.from(vr,(function(){throw 2}))}catch(e){}var pr=function(e,t){if(!t&&!mr)return!1;var r=!1;try{var n=[7],i=n[dr]();i.next=function(){return{done:r=!0}},n[dr]=function(){return i},e(n)}catch(e){}return r},gr=le("species"),br=function(e){var t=C[e];j&&t&&!t[gr]&&B.f(t,gr,{configurable:!0,get:function(){return this}})},wr=[].copyWithin||function(e,t){var r=ie(this),n=ce(r.length),i=je(e,n),a=je(t,n),o=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===o?n:je(o,n))-a,n-i),s=1;for(a<i&&i<a+u&&(s=-1,a+=u-1,i+=u-1);u-- >0;)a in r?r[i]=r[a]:delete r[i],i+=s,a+=s;return r},kr=S((function(e){if(j){var t=C,r=I,n=X,i=Dt,a=Kt,o=J,u=$t,s=D,c=U,f=Ut,l=ue,h=ce,d=Nt,m=je,v=M,p=G,g=bt,b=_,w=ie,k=Jt,y=tt,R=er,x=Ue.f,A=rr,S=V,T=le,E=me,z=ze,O=ir,F=hr,P=qt,L=pr,$=br,N=Gt,W=wr,H=B,K=Ae,q=H.f,Z=K.f,Y=t.RangeError,Q=t.TypeError,ee=t.Uint8Array,te=Array.prototype,re=a.ArrayBuffer,ne=a.DataView,ae=E(0),oe=E(2),se=E(3),fe=E(4),he=E(5),de=E(6),ve=z(!0),pe=z(!1),ge=F.values,be=F.keys,we=F.entries,ke=te.lastIndexOf,ye=te.reduce,Re=te.reduceRight,xe=te.join,Se=te.sort,Ce=te.slice,Te=te.toString,_e=te.toLocaleString,Ee=T("iterator"),Ie=T("toStringTag"),Oe=S("typed_constructor"),Fe=S("def_constructor"),Pe=i.CONSTR,Me=i.TYPED,Le=i.VIEW,Be=E(1,(function(e,t){return We(O(e,e[Fe]),t)})),De=r((function(){return 1===new ee(new Uint16Array([1]).buffer)[0]})),$e=!!ee&&!!ee.prototype.set&&r((function(){new ee(1).set({})})),Ne=function(e,t){var r=l(e);if(r<0||r%t)throw Y("Wrong offset!");return r},Ge=function(e){if(b(e)&&Me in e)return e;throw Q(e+" is not a typed array!")},We=function(e,t){if(!(b(e)&&Oe in e))throw Q("It is not a typed array constructor!");return new e(t)},He=function(e,t){return Ve(O(e,e[Fe]),t)},Ve=function(e,t){for(var r=0,n=t.length,i=We(e,n);n>r;)i[r]=t[r++];return i},Ke=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})},qe=function(e){var t,r,n,i,a,u,s=w(e),c=arguments.length,f=c>1?arguments[1]:void 0,l=void 0!==f,d=A(s);if(null!=d&&!k(d)){for(u=d.call(s),n=[],t=0;!(a=u.next()).done;t++)n.push(a.value);s=n}for(l&&c>2&&(f=o(f,arguments[2],2)),t=0,r=h(s.length),i=We(this,r);r>t;t++)i[t]=l?f(s[t],t):s[t];return i},Ze=function(){for(var e=0,t=arguments.length,r=We(this,t);t>e;)r[e]=arguments[e++];return r},Ye=!!ee&&r((function(){_e.call(new ee(1))})),Je=function(){return _e.apply(Ye?Ce.call(Ge(this)):Ge(this),arguments)},Qe={copyWithin:function(e,t){return W.call(Ge(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return fe(Ge(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(Ge(this),arguments)},filter:function(e){return He(this,oe(Ge(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return he(Ge(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return de(Ge(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){ae(Ge(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return pe(Ge(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ve(Ge(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return xe.apply(Ge(this),arguments)},lastIndexOf:function(e){return ke.apply(Ge(this),arguments)},map:function(e){return Be(Ge(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ye.apply(Ge(this),arguments)},reduceRight:function(e){return Re.apply(Ge(this),arguments)},reverse:function(){for(var e,t=Ge(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return se(Ge(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return Se.call(Ge(this),e)},subarray:function(e,t){var r=Ge(this),n=r.length,i=m(e,n);return new(O(r,r[Fe]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,h((void 0===t?n:m(t,n))-i))}},Xe=function(e,t){return He(this,Ce.call(Ge(this),e,t))},et=function(e){Ge(this);var t=Ne(arguments[1],1),r=this.length,n=w(e),i=h(n.length),a=0;if(i+t>r)throw Y("Wrong length!");for(;a<i;)this[t+a]=n[a++]},rt={entries:function(){return we.call(Ge(this))},keys:function(){return be.call(Ge(this))},values:function(){return ge.call(Ge(this))}},nt=function(e,t){return b(e)&&e[Me]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},it=function(e,t){return nt(e,t=v(t,!0))?s(2,e[t]):Z(e,t)},at=function(e,t,r){return!(nt(e,t=v(t,!0))&&b(r)&&p(r,"value"))||p(r,"get")||p(r,"set")||r.configurable||p(r,"writable")&&!r.writable||p(r,"enumerable")&&!r.enumerable?q(e,t,r):(e[t]=r.value,e)};Pe||(K.f=it,H.f=at),n(n.S+n.F*!Pe,"Object",{getOwnPropertyDescriptor:it,defineProperty:at}),r((function(){Te.call({})}))&&(Te=_e=function(){return xe.call(this)});var ot=f({},Qe);f(ot,rt),c(ot,Ee,rt.values),f(ot,{slice:Xe,set:et,constructor:function(){},toString:Te,toLocaleString:Je}),Ke(ot,"buffer","b"),Ke(ot,"byteOffset","o"),Ke(ot,"byteLength","l"),Ke(ot,"length","e"),q(ot,Ie,{get:function(){return this[Me]}}),e.exports=function(e,a,o,s){var f=e+((s=!!s)?"Clamped":"")+"Array",l="get"+e,m="set"+e,v=t[f],p=v||{},w=v&&R(v),k=!v||!i.ABV,A={},S=v&&v.prototype,C=function(e,t){q(e,t,{get:function(){return function(e,t){var r=e._d;return r.v[l](t*a+r.o,De)}(this,t)},set:function(e){return function(e,t,r){var n=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),n.v[m](t*a+n.o,r,De)}(this,t,e)},enumerable:!0})};k?(v=o((function(e,t,r,n){u(e,v,f,"_d");var i,o,s,l,m=0,p=0;if(b(t)){if(!(t instanceof re||"ArrayBuffer"==(l=g(t))||"SharedArrayBuffer"==l))return Me in t?Ve(v,t):qe.call(v,t);i=t,p=Ne(r,a);var w=t.byteLength;if(void 0===n){if(w%a)throw Y("Wrong length!");if((o=w-p)<0)throw Y("Wrong length!")}else if((o=h(n)*a)+p>w)throw Y("Wrong length!");s=o/a}else s=d(t),i=new re(o=s*a);for(c(e,"_d",{b:i,o:p,l:o,e:s,v:new ne(i)});m<s;)C(e,m++)})),S=v.prototype=y(ot),c(S,"constructor",v)):r((function(){v(1)}))&&r((function(){new v(-1)}))&&L((function(e){new v,new v(null),new v(1.5),new v(e)}),!0)||(v=o((function(e,t,r,n){var i;return u(e,v,f),b(t)?t instanceof re||"ArrayBuffer"==(i=g(t))||"SharedArrayBuffer"==i?void 0!==n?new p(t,Ne(r,a),n):void 0!==r?new p(t,Ne(r,a)):new p(t):Me in t?Ve(v,t):qe.call(v,t):new p(d(t))})),ae(w!==Function.prototype?x(p).concat(x(w)):x(p),(function(e){e in v||c(v,e,p[e])})),v.prototype=S,S.constructor=v);var T=S[Ee],_=!!T&&("values"==T.name||null==T.name),E=rt.values;c(v,Oe,!0),c(S,Me,f),c(S,Le,!0),c(S,Fe,v),(s?new v(1)[Ie]==f:Ie in S)||q(S,Ie,{get:function(){return f}}),A[f]=v,n(n.G+n.W+n.F*(v!=p),A),n(n.S,f,{BYTES_PER_ELEMENT:a}),n(n.S+n.F*r((function(){p.of.call(v,1)})),f,{from:qe,of:Ze}),"BYTES_PER_ELEMENT"in S||c(S,"BYTES_PER_ELEMENT",a),n(n.P,f,Qe),$(f),n(n.P+n.F*$e,f,{set:et}),n(n.P+n.F*!_,f,rt),S.toString!=Te&&(S.toString=Te),n(n.P+n.F*r((function(){new v(1).slice()})),f,{slice:Xe}),n(n.P+n.F*(r((function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()}))||!r((function(){S.toLocaleString.call([1,2])}))),f,{toLocaleString:Je}),P[f]=_?T:E,_||c(S,Ee,E)}}else e.exports=function(){}}));kr("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}));var yr,Rr,xr=[].sort,Ar=[1,2,3];X(X.P+X.F*(I((function(){Ar.sort(void 0)}))||!I((function(){Ar.sort(null)}))||!((yr=xr)&&I((function(){Rr?yr.call(null,(function(){}),1):yr.call(null)})))),"Array",{sort:function(e){return void 0===e?xr.call(ie(this)):xr.call(ie(this),Y(e))}});var Sr=le("match"),Cr=function(e){var t;return _(e)&&(void 0!==(t=e[Sr])?!!t:"RegExp"==te(e))},Tr=function(e,t,r){if(Cr(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(ne(e))},_r=le("match"),Er=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[_r]=!1,!"/./"[e](t)}catch(e){}}return!0},Ir="".endsWith;X(X.P+X.F*Er("endsWith"),"String",{endsWith:function(e){var t=Tr(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=ce(t.length),i=void 0===r?n:Math.min(ce(r),n),a=String(e);return Ir?Ir.call(t,a,i):t.slice(i-a.length,i)===a}}),j&&"g"!=/./g.flags&&B.f(RegExp.prototype,"flags",{configurable:!0,get:yt});var jr=/./.toString,zr=function(e){Z(RegExp.prototype,"toString",e,!0)};I((function(){return"/a/b"!=jr.call({source:"a",flags:"b"})}))?zr((function(){var e=E(this);return"/".concat(e.source,"/","flags"in e?e.flags:!j&&e instanceof RegExp?yt.call(e):void 0)})):"toString"!=jr.name&&zr((function(){return jr.call(this)}));var Or=function(e){return function(t,r){var n,i,a=String(ne(t)),o=ue(r),u=a.length;return o<0||o>=u?e?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===u||(i=a.charCodeAt(o+1))<56320||i>57343?e?a.charAt(o):n:e?a.slice(o,o+2):i-56320+(n-55296<<10)+65536}},Fr=Or(!0),Pr=function(e,t,r){return t+(r?Fr(e,t).length:1)},Mr=Math.min,Lr=[].push,Br=!I((function(){RegExp(4294967295,"y")}));jt("split",2,(function(e,t,r,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!Cr(e))return r.call(n,e,t);for(var i,a,o,u=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,f=void 0===t?4294967295:t>>>0,l=new RegExp(e.source,s+"g");(i=Tt.call(l,n))&&!((a=l.lastIndex)>c&&(u.push(n.slice(c,i.index)),i.length>1&&i.index<n.length&&Lr.apply(u,i.slice(1)),o=i[0].length,c=a,u.length>=f));)l.lastIndex===i.index&&l.lastIndex++;return c===n.length?!o&&l.test("")||u.push(""):u.push(n.slice(c)),u.length>f?u.slice(0,f):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,a,n):i.call(String(a),r,n)},function(e,t){var a=n(i,e,this,t,i!==r);if(a.done)return a.value;var o=E(e),u=String(this),s=ir(o,RegExp),c=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Br?"y":"g"),l=new s(Br?o:"^(?:"+o.source+")",f),h=void 0===t?4294967295:t>>>0;if(0===h)return[];if(0===u.length)return null===kt(l,u)?[u]:[];for(var d=0,m=0,v=[];m<u.length;){l.lastIndex=Br?m:0;var p,g=kt(l,Br?u:u.slice(m));if(null===g||(p=Mr(ce(l.lastIndex+(Br?0:m)),u.length))===d)m=Pr(u,m,c);else{if(v.push(u.slice(d,m)),v.length===h)return v;for(var b=1;b<=g.length-1;b++)if(v.push(g[b]),v.length===h)return v;m=d=p}}return v.push(u.slice(d)),v}]}));var Dr={f:Object.getOwnPropertySymbols},Ur=Object.assign,$r=!Ur||I((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=Ur({},e)[r]||Object.keys(Ur({},t)).join("")!=n}))?function(e,t){for(var r=ie(e),n=arguments.length,i=1,a=Dr.f,o=ye.f;n>i;)for(var u,s=re(arguments[i++]),c=a?qe(s).concat(a(s)):qe(s),f=c.length,l=0;f>l;)u=c[l++],j&&!o.call(s,u)||(r[u]=s[u]);return r}:Ur;X(X.S+X.F,"Object",{assign:$r});var Nr=B.f,Gr=Ue.f,Wr=C.RegExp,Hr=Wr,Vr=Wr.prototype,Kr=/a/g,qr=/a/g,Zr=new Wr(Kr)!==Kr;if(j&&(!Zr||I((function(){return qr[le("match")]=!1,Wr(Kr)!=Kr||Wr(qr)==qr||"/a/i"!=Wr(Kr,"i")})))){Wr=function(e,t){var r=this instanceof Wr,n=Cr(e),i=void 0===t;return!r&&n&&e.constructor===Wr&&i?e:_e(Zr?new Hr(n&&!i?e.source:e,t):Hr((n=e instanceof Wr)?e.source:e,n&&i?yt.call(e):t),r?this:Vr,Wr)};for(var Yr=function(e){e in Wr||Nr(Wr,e,{configurable:!0,get:function(){return Hr[e]},set:function(t){Hr[e]=t}})},Jr=Gr(Hr),Qr=0;Jr.length>Qr;)Yr(Jr[Qr++]);Vr.constructor=Wr,Wr.prototype=Vr,Z(C,"RegExp",Wr)}br("RegExp"),jt("match",1,(function(e,t,r,n){return[function(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=n(r,e,this);if(t.done)return t.value;var i=E(e),a=String(this);if(!i.global)return kt(i,a);var o=i.unicode;i.lastIndex=0;for(var u,s=[],c=0;null!==(u=kt(i,a));){var f=String(u[0]);s[c]=f,""===f&&(i.lastIndex=Pr(a,ce(i.lastIndex),o)),c++}return 0===c?null:s}]}));var Xr=ze(!0);X(X.P,"Array",{includes:function(e){return Xr(this,e,arguments.length>1?arguments[1]:void 0)}}),ge("includes");X(X.P+X.F*Er("includes"),"String",{includes:function(e){return!!~Tr(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}});var en="".startsWith;X(X.P+X.F*Er("startsWith"),"String",{startsWith:function(e){var t=Tr(this,e,"startsWith"),r=ce(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return en?en.call(t,n,r):t.slice(r,r+n.length)===n}});var tn=Or(!0);lr(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=tn(t,r),this._i+=e.length,{value:e,done:!1})}));var rn=function(e,t,r,n){try{return n?t(E(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&E(i.call(e)),t}},nn=function(e,t,r){t in e?B.f(e,t,D(0,r)):e[t]=r};X(X.S+X.F*!pr((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,n,i,a=ie(e),o="function"==typeof this?this:Array,u=arguments.length,s=u>1?arguments[1]:void 0,c=void 0!==s,f=0,l=rr(a);if(c&&(s=J(s,u>2?arguments[2]:void 0,2)),null==l||o==Array&&Jt(l))for(r=new o(t=ce(a.length));t>f;f++)nn(r,f,c?s(a[f],f):a[f]);else for(i=l.call(a),r=new o;!(n=i.next()).done;f++)nn(r,f,c?rn(i,s,[n.value,f],!0):n.value);return r.length=f,r}});for(var an=le("iterator"),on=le("toStringTag"),un=qt.Array,sn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},cn=qe(sn),fn=0;fn<cn.length;fn++){var ln,hn=cn[fn],dn=sn[hn],mn=C[hn],vn=mn&&mn.prototype;if(vn&&(vn[an]||U(vn,an,un),vn[on]||U(vn,on,hn),qt[hn]=un,dn))for(ln in hr)vn[ln]||Z(vn,ln,hr[ln],!0)}var pn,gn,bn,wn=S((function(e){var t={},r={},n=e.exports=function(e,n,i,a,o){var u,s,c,f,l=o?function(){return e}:rr(e),h=J(i,a,n?2:1),d=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(Jt(l)){for(u=ce(e.length);u>d;d++)if((f=n?h(E(s=e[d])[0],s[1]):h(e[d]))===t||f===r)return f}else for(c=l.call(e);!(s=c.next()).done;)if((f=rn(c,h,s.value,n))===t||f===r)return f};n.BREAK=t,n.RETURN=r})),kn=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},yn=C.process,Rn=C.setImmediate,xn=C.clearImmediate,An=C.MessageChannel,Sn=C.Dispatch,Cn=0,Tn={},_n=function(){var e=+this;if(Tn.hasOwnProperty(e)){var t=Tn[e];delete Tn[e],t()}},En=function(e){_n.call(e.data)};Rn&&xn||(Rn=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return Tn[++Cn]=function(){kn("function"==typeof e?e:Function(e),t)},pn(Cn),Cn},xn=function(e){delete Tn[e]},"process"==te(yn)?pn=function(e){yn.nextTick(J(_n,e,1))}:Sn&&Sn.now?pn=function(e){Sn.now(J(_n,e,1))}:An?(bn=(gn=new An).port2,gn.port1.onmessage=En,pn=J(bn.postMessage,bn,1)):C.addEventListener&&"function"==typeof postMessage&&!C.importScripts?(pn=function(e){C.postMessage(e+"","*")},C.addEventListener("message",En,!1)):pn="onreadystatechange"in F("script")?function(e){Je.appendChild(F("script")).onreadystatechange=function(){Je.removeChild(this),_n.call(e)}}:function(e){setTimeout(J(_n,e,1),0)});var In={set:Rn,clear:xn},jn=In.set,zn=C.MutationObserver||C.WebKitMutationObserver,On=C.process,Fn=C.Promise,Pn="process"==te(On);function Mn(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Y(t),this.reject=Y(r)}var Ln,Bn,Dn,Un,$n={f:function(e){return new Mn(e)}},Nn=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},Gn=C.navigator,Wn=Gn&&Gn.userAgent||"",Hn=In.set,Vn=function(){var e,t,r,n=function(){var n,i;for(Pn&&(n=On.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(Pn)r=function(){On.nextTick(n)};else if(!zn||C.navigator&&C.navigator.standalone)if(Fn&&Fn.resolve){var i=Fn.resolve(void 0);r=function(){i.then(n)}}else r=function(){jn.call(C,n)};else{var a=!0,o=document.createTextNode("");new zn(n).observe(o,{characterData:!0}),r=function(){o.data=a=!a}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}(),Kn=C.TypeError,qn=C.process,Zn=qn&&qn.versions,Yn=Zn&&Zn.v8||"",Jn=C.Promise,Qn="process"==bt(qn),Xn=function(){},ei=Bn=$n.f,ti=!!function(){try{var e=Jn.resolve(1),t=(e.constructor={})[le("species")]=function(e){e(Xn,Xn)};return(Qn||"function"==typeof PromiseRejectionEvent)&&e.then(Xn)instanceof t&&0!==Yn.indexOf("6.6")&&-1===Wn.indexOf("Chrome/66")}catch(e){}}(),ri=function(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t},ni=function(e,t){if(!e._n){e._n=!0;var r=e._c;Vn((function(){for(var n=e._v,i=1==e._s,a=0,o=function(t){var r,a,o,u=i?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(i||(2==e._h&&oi(e),e._h=1),!0===u?r=n:(f&&f.enter(),r=u(n),f&&(f.exit(),o=!0)),r===t.promise?c(Kn("Promise-chain cycle")):(a=ri(r))?a.call(r,s,c):s(r)):c(n)}catch(e){f&&!o&&f.exit(),c(e)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&ii(e)}))}},ii=function(e){Hn.call(C,(function(){var t,r,n,i=e._v,a=ai(e);if(a&&(t=Nn((function(){Qn?qn.emit("unhandledRejection",i,e):(r=C.onunhandledrejection)?r({promise:e,reason:i}):(n=C.console)&&n.error&&n.error("Unhandled promise rejection",i)})),e._h=Qn||ai(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},ai=function(e){return 1!==e._h&&0===(e._a||e._c).length},oi=function(e){Hn.call(C,(function(){var t;Qn?qn.emit("rejectionHandled",e):(t=C.onrejectionhandled)&&t({promise:e,reason:e._v})}))},ui=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),ni(t,!0))},si=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw Kn("Promise can't be resolved itself");(t=ri(e))?Vn((function(){var n={_w:r,_d:!1};try{t.call(e,J(si,n,1),J(ui,n,1))}catch(e){ui.call(n,e)}})):(r._v=e,r._s=1,ni(r,!1))}catch(e){ui.call({_w:r,_d:!1},e)}}};ti||(Jn=function(e){$t(this,Jn,"Promise","_h"),Y(e),Ln.call(this);try{e(J(si,this,1),J(ui,this,1))}catch(e){ui.call(this,e)}},(Ln=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=Ut(Jn.prototype,{then:function(e,t){var r=ei(ir(this,Jn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Qn?qn.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&ni(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Dn=function(){var e=new Ln;this.promise=e,this.resolve=J(si,e,1),this.reject=J(ui,e,1)},$n.f=ei=function(e){return e===Jn||e===Un?new Dn(e):Bn(e)}),X(X.G+X.W+X.F*!ti,{Promise:Jn}),Vt(Jn,"Promise"),br("Promise"),Un=T.Promise,X(X.S+X.F*!ti,"Promise",{reject:function(e){var t=ei(this);return(0,t.reject)(e),t.promise}}),X(X.S+X.F*!ti,"Promise",{resolve:function(e){return function(e,t){if(E(e),_(t)&&t.constructor===e)return t;var r=$n.f(e);return(0,r.resolve)(t),r.promise}(this,e)}}),X(X.S+X.F*!(ti&&pr((function(e){Jn.all(e).catch(Xn)}))),"Promise",{all:function(e){var t=this,r=ei(t),n=r.resolve,i=r.reject,a=Nn((function(){var r=[],a=0,o=1;wn(e,!1,(function(e){var u=a++,s=!1;r.push(void 0),o++,t.resolve(e).then((function(e){s||(s=!0,r[u]=e,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(e){var t=this,r=ei(t),n=r.reject,i=Nn((function(){wn(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}});var ci={};ci[le("toStringTag")]="z",ci+""!="[object z]"&&Z(Object.prototype,"toString",(function(){return"[object "+bt(this)+"]"}),!0),X(X.S,"Object",{setPrototypeOf:Ce.set});var fi={f:le},li=B.f,hi=function(e){var t=T.Symbol||(T.Symbol=C.Symbol||{});"_"==e.charAt(0)||e in t||li(t,e,{value:fi.f(e)})};hi("asyncIterator");var di=S((function(e){var t=V("meta"),r=B.f,n=0,i=Object.isExtensible||function(){return!0},a=!I((function(){return i(Object.preventExtensions({}))})),o=function(e){r(e,t,{value:{i:"O"+ ++n,w:{}}})},u=e.exports={KEY:t,NEED:!1,fastKey:function(e,r){if(!_(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!G(e,t)){if(!i(e))return"F";if(!r)return"E";o(e)}return e[t].i},getWeak:function(e,r){if(!G(e,t)){if(!i(e))return!0;if(!r)return!1;o(e)}return e[t].w},onFreeze:function(e){return a&&u.NEED&&i(e)&&!G(e,t)&&o(e),e}}})),mi=(di.KEY,di.NEED,di.fastKey,di.getWeak,di.onFreeze,Ue.f),vi={}.toString,pi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],gi={f:function(e){return pi&&"[object Window]"==vi.call(e)?function(e){try{return mi(e)}catch(e){return pi.slice()}}(e):mi(Re(e))}},bi=di.KEY,wi=Ae.f,ki=B.f,yi=gi.f,Ri=C.Symbol,xi=C.JSON,Ai=xi&&xi.stringify,Si=le("_hidden"),Ci=le("toPrimitive"),Ti={}.propertyIsEnumerable,_i=K("symbol-registry"),Ei=K("symbols"),Ii=K("op-symbols"),ji=Object.prototype,zi="function"==typeof Ri&&!!Dr.f,Oi=C.QObject,Fi=!Oi||!Oi.prototype||!Oi.prototype.findChild,Pi=j&&I((function(){return 7!=tt(ki({},"a",{get:function(){return ki(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=wi(ji,t);n&&delete ji[t],ki(e,t,r),n&&e!==ji&&ki(ji,t,n)}:ki,Mi=function(e){var t=Ei[e]=tt(Ri.prototype);return t._k=e,t},Li=zi&&"symbol"==typeof Ri.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Ri},Bi=function(e,t,r){return e===ji&&Bi(Ii,t,r),E(e),t=M(t,!0),E(r),G(Ei,t)?(r.enumerable?(G(e,Si)&&e[Si][t]&&(e[Si][t]=!1),r=tt(r,{enumerable:D(0,!1)})):(G(e,Si)||ki(e,Si,D(1,{})),e[Si][t]=!0),Pi(e,t,r)):ki(e,t,r)},Di=function(e,t){E(e);for(var r,n=function(e){var t=qe(e),r=Dr.f;if(r)for(var n,i=r(e),a=ye.f,o=0;i.length>o;)a.call(e,n=i[o++])&&t.push(n);return t}(t=Re(t)),i=0,a=n.length;a>i;)Bi(e,r=n[i++],t[r]);return e},Ui=function(e){var t=Ti.call(this,e=M(e,!0));return!(this===ji&&G(Ei,e)&&!G(Ii,e))&&(!(t||!G(this,e)||!G(Ei,e)||G(this,Si)&&this[Si][e])||t)},$i=function(e,t){if(e=Re(e),t=M(t,!0),e!==ji||!G(Ei,t)||G(Ii,t)){var r=wi(e,t);return!r||!G(Ei,t)||G(e,Si)&&e[Si][t]||(r.enumerable=!0),r}},Ni=function(e){for(var t,r=yi(Re(e)),n=[],i=0;r.length>i;)G(Ei,t=r[i++])||t==Si||t==bi||n.push(t);return n},Gi=function(e){for(var t,r=e===ji,n=yi(r?Ii:Re(e)),i=[],a=0;n.length>a;)!G(Ei,t=n[a++])||r&&!G(ji,t)||i.push(Ei[t]);return i};zi||(Z((Ri=function(){if(this instanceof Ri)throw TypeError("Symbol is not a constructor!");var e=V(arguments.length>0?arguments[0]:void 0),t=function(r){this===ji&&t.call(Ii,r),G(this,Si)&&G(this[Si],e)&&(this[Si][e]=!1),Pi(this,e,D(1,r))};return j&&Fi&&Pi(ji,e,{configurable:!0,set:t}),Mi(e)}).prototype,"toString",(function(){return this._k})),Ae.f=$i,B.f=Bi,Ue.f=gi.f=Ni,ye.f=Ui,Dr.f=Gi,j&&Z(ji,"propertyIsEnumerable",Ui,!0),fi.f=function(e){return Mi(le(e))}),X(X.G+X.W+X.F*!zi,{Symbol:Ri});for(var Wi="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Hi=0;Wi.length>Hi;)le(Wi[Hi++]);for(var Vi=qe(le.store),Ki=0;Vi.length>Ki;)hi(Vi[Ki++]);X(X.S+X.F*!zi,"Symbol",{for:function(e){return G(_i,e+="")?_i[e]:_i[e]=Ri(e)},keyFor:function(e){if(!Li(e))throw TypeError(e+" is not a symbol!");for(var t in _i)if(_i[t]===e)return t},useSetter:function(){Fi=!0},useSimple:function(){Fi=!1}}),X(X.S+X.F*!zi,"Object",{create:function(e,t){return void 0===t?tt(e):Di(tt(e),t)},defineProperty:Bi,defineProperties:Di,getOwnPropertyDescriptor:$i,getOwnPropertyNames:Ni,getOwnPropertySymbols:Gi});var qi=I((function(){Dr.f(1)}));X(X.S+X.F*qi,"Object",{getOwnPropertySymbols:function(e){return Dr.f(ie(e))}}),xi&&X(X.S+X.F*(!zi||I((function(){var e=Ri();return"[null]"!=Ai([e])||"{}"!=Ai({a:e})||"{}"!=Ai(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(_(t)||void 0!==e)&&!Li(e))return fe(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Li(t))return t}),n[1]=t,Ai.apply(xi,n)}}),Ri.prototype[Ci]||U(Ri.prototype,Ci,Ri.prototype.valueOf),Vt(Ri,"Symbol"),Vt(Math,"Math",!0),Vt(C.JSON,"JSON",!0);S((function(t){!function(r){var n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",c=r.regeneratorRuntime;if(c)t.exports=c;else{(c=r.regeneratorRuntime=t.exports).wrap=v;var f={},l={};l[o]=function(){return this};var h=Object.getPrototypeOf,d=h&&h(h(C([])));d&&d!==n&&i.call(d,o)&&(l=d);var m=w.prototype=g.prototype=Object.create(l);b.prototype=m.constructor=w,w.constructor=b,w[s]=b.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},c.awrap=function(e){return{__await:e}},k(y.prototype),y.prototype[u]=function(){return this},c.AsyncIterator=y,c.async=function(e,t,r,n){var i=new y(v(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(m),m[s]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}}}function v(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new S(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return T()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var u=R(o,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=p(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,o),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function g(){}function b(){}function w(){}function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(t){var r;this._invoke=function(n,a){function o(){return new Promise((function(r,o){!function r(n,a,o,u){var s=p(t[n],t,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===e(f)&&i.call(f,"__await")?Promise.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):Promise.resolve(f).then((function(e){c.value=e,o(c)}),u)}u(s.arg)}(n,a,r,o)}))}return r=r?r.then(o,o):o()}}function R(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=p(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())}));var Zi=me(5),Yi=!0;"find"in[]&&Array(1).find((function(){Yi=!1})),X(X.P+X.F*Yi,"Array",{find:function(e){return Zi(this,e,arguments.length>1?arguments[1]:void 0)}}),ge("find");var Ji=Math.max,Qi=Math.min,Xi=Math.floor,ea=/\$([$&`']|\d\d?|<[^>]*>)/g,ta=/\$([$&`']|\d\d?)/g;jt("replace",2,(function(e,t,r,n){return[function(n,i){var a=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(e,t){var a=n(r,e,this,t);if(a.done)return a.value;var o=E(e),u=String(this),s="function"==typeof t;s||(t=String(t));var c=o.global;if(c){var f=o.unicode;o.lastIndex=0}for(var l=[];;){var h=kt(o,u);if(null===h)break;if(l.push(h),!c)break;""===String(h[0])&&(o.lastIndex=Pr(u,ce(o.lastIndex),f))}for(var d,m="",v=0,p=0;p<l.length;p++){h=l[p];for(var g=String(h[0]),b=Ji(Qi(ue(h.index),u.length),0),w=[],k=1;k<h.length;k++)w.push(void 0===(d=h[k])?d:String(d));var y=h.groups;if(s){var R=[g].concat(w,b,u);void 0!==y&&R.push(y);var x=String(t.apply(void 0,R))}else x=i(g,u,b,w,y,t);b>=v&&(m+=u.slice(v,b)+x,v=b+g.length)}return m+u.slice(v)}];function i(e,t,n,i,a,o){var u=n+e.length,s=i.length,c=ta;return void 0!==a&&(a=ie(a),c=ea),r.call(o,c,(function(r,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":c=a[o.slice(1,-1)];break;default:var f=+o;if(0===f)return r;if(f>s){var l=Xi(f/10);return 0===l?r:l<=s?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):r}c=i[f-1]}return void 0===c?"":c}))}}));var ra=function(e,t){var r=(T.Object||{})[e]||Object[e],n={};n[e]=t(r),X(X.S+X.F*I((function(){r(1)})),"Object",n)};ra("keys",(function(){return function(e){return qe(ie(e))}})),X(X.P,"Array",{fill:Gt}),ge("fill");var na="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ia=[],aa=[],oa="undefined"!=typeof Uint8Array?Uint8Array:Array,ua=!1;function sa(){ua=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)ia[t]=e[t],aa[e.charCodeAt(t)]=t;aa["-".charCodeAt(0)]=62,aa["_".charCodeAt(0)]=63}function ca(e){return ia[e>>18&63]+ia[e>>12&63]+ia[e>>6&63]+ia[63&e]}function fa(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(ca(n));return i.join("")}function la(e){var t;ua||sa();for(var r=e.length,n=r%3,i="",a=[],o=0,u=r-n;o<u;o+=16383)a.push(fa(e,o,o+16383>u?u:o+16383));return 1===n?(t=e[r-1],i+=ia[t>>2],i+=ia[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=ia[t>>10],i+=ia[t>>4&63],i+=ia[t<<2&63],i+="="),a.push(i),a.join("")}function ha(e,t,r,n,i){var a,o,u=8*i-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,a=d&(1<<-f)-1,d>>=-f,f+=u;f>0;a=256*a+e[t+l],l+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+e[t+l],l+=h,f-=8);if(0===a)a=1-c;else{if(a===s)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)}function da(e,t,r,n,i,a){var o,u,s,c=8*a-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,m=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(o++,s/=2),o+l>=f?(u=0,o=f):o+l>=1?(u=(t*s-1)*Math.pow(2,i),o+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&u,d+=m,u/=256,i-=8);for(o=o<<i|u,c+=i;c>0;e[r+d]=255&o,d+=m,o/=256,c-=8);e[r+d-m]|=128*v}var ma={}.toString,va=Array.isArray||function(e){return"[object Array]"==ma.call(e)};wa.TYPED_ARRAY_SUPPORT=void 0===na.TYPED_ARRAY_SUPPORT||na.TYPED_ARRAY_SUPPORT;var pa=ga();function ga(){return wa.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ba(e,t){if(ga()<t)throw new RangeError("Invalid typed array length");return wa.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=wa.prototype:(null===e&&(e=new wa(t)),e.length=t),e}function wa(e,t,r){if(!(wa.TYPED_ARRAY_SUPPORT||this instanceof wa))return new wa(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Ra(this,e)}return ka(this,e,t,r)}function ka(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);wa.TYPED_ARRAY_SUPPORT?(e=t).__proto__=wa.prototype:e=xa(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!wa.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Ca(t,r),i=(e=ba(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(Sa(t)){var r=0|Aa(t.length);return 0===(e=ba(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?ba(e,0):xa(e,t);if("Buffer"===t.type&&va(t.data))return xa(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function ya(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Ra(e,t){if(ya(t),e=ba(e,t<0?0:0|Aa(t)),!wa.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function xa(e,t){var r=t.length<0?0:0|Aa(t.length);e=ba(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Aa(e){if(e>=ga())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ga().toString(16)+" bytes");return 0|e}function Sa(e){return!(null==e||!e._isBuffer)}function Ca(e,t){if(Sa(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Qa(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Xa(e).length;default:if(n)return Qa(e).length;t=(""+t).toLowerCase(),n=!0}}function Ta(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return $a(this,t,r);case"utf8":case"utf-8":return Ba(this,t,r);case"ascii":return Da(this,t,r);case"latin1":case"binary":return Ua(this,t,r);case"base64":return La(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Na(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _a(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Ea(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=wa.from(t,n)),Sa(t))return 0===t.length?-1:Ia(e,t,r,n,i);if("number"==typeof t)return t&=255,wa.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Ia(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ia(e,t,r,n,i){var a,o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var f=-1;for(a=r;a<u;a++)if(c(e,a)===c(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===s)return f*o}else-1!==f&&(a-=a-f),f=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var l=!0,h=0;h<s;h++)if(c(e,a+h)!==c(t,h)){l=!1;break}if(l)return a}return-1}function ja(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(isNaN(u))return o;e[r+o]=u}return o}function za(e,t,r,n){return eo(Qa(t,e.length-r),e,r,n)}function Oa(e,t,r,n){return eo(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function Fa(e,t,r,n){return Oa(e,t,r,n)}function Pa(e,t,r,n){return eo(Xa(t),e,r,n)}function Ma(e,t,r,n){return eo(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function La(e,t,r){return 0===t&&r===e.length?la(e):la(e.slice(t,r))}function Ba(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,u,s,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(a=e[i+1]))&&(s=(31&c)<<6|63&a)>127&&(f=s);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(s=(15&c)<<12|(63&a)<<6|63&o)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:a=e[i+1],o=e[i+2],u=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&u)&&(s=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}wa.poolSize=8192,wa._augment=function(e){return e.__proto__=wa.prototype,e},wa.from=function(e,t,r){return ka(null,e,t,r)},wa.TYPED_ARRAY_SUPPORT&&(wa.prototype.__proto__=Uint8Array.prototype,wa.__proto__=Uint8Array),wa.alloc=function(e,t,r){return function(e,t,r,n){return ya(t),t<=0?ba(e,t):void 0!==r?"string"==typeof n?ba(e,t).fill(r,n):ba(e,t).fill(r):ba(e,t)}(null,e,t,r)},wa.allocUnsafe=function(e){return Ra(null,e)},wa.allocUnsafeSlow=function(e){return Ra(null,e)},wa.isBuffer=to,wa.compare=function(e,t){if(!Sa(e)||!Sa(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},wa.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},wa.concat=function(e,t){if(!va(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return wa.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=wa.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!Sa(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},wa.byteLength=Ca,wa.prototype._isBuffer=!0,wa.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_a(this,t,t+1);return this},wa.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_a(this,t,t+3),_a(this,t+1,t+2);return this},wa.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_a(this,t,t+7),_a(this,t+1,t+6),_a(this,t+2,t+5),_a(this,t+3,t+4);return this},wa.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Ba(this,0,e):Ta.apply(this,arguments)},wa.prototype.equals=function(e){if(!Sa(e))throw new TypeError("Argument must be a Buffer");return this===e||0===wa.compare(this,e)},wa.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},wa.prototype.compare=function(e,t,r,n,i){if(!Sa(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(a,o),s=this.slice(n,i),c=e.slice(t,r),f=0;f<u;++f)if(s[f]!==c[f]){a=s[f],o=c[f];break}return a<o?-1:o<a?1:0},wa.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},wa.prototype.indexOf=function(e,t,r){return Ea(this,e,t,r,!0)},wa.prototype.lastIndexOf=function(e,t,r){return Ea(this,e,t,r,!1)},wa.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return ja(this,e,t,r);case"utf8":case"utf-8":return za(this,e,t,r);case"ascii":return Oa(this,e,t,r);case"latin1":case"binary":return Fa(this,e,t,r);case"base64":return Pa(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ma(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},wa.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Da(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Ua(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function $a(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=Ja(e[a]);return i}function Na(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function Ga(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Wa(e,t,r,n,i,a){if(!Sa(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Ha(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Va(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function Ka(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function qa(e,t,r,n,i){return i||Ka(e,0,r,4),da(e,t,r,n,23,4),r+4}function Za(e,t,r,n,i){return i||Ka(e,0,r,8),da(e,t,r,n,52,8),r+8}wa.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),wa.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=wa.prototype;else{var i=t-e;r=new wa(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},wa.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Ga(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},wa.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Ga(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},wa.prototype.readUInt8=function(e,t){return t||Ga(e,1,this.length),this[e]},wa.prototype.readUInt16LE=function(e,t){return t||Ga(e,2,this.length),this[e]|this[e+1]<<8},wa.prototype.readUInt16BE=function(e,t){return t||Ga(e,2,this.length),this[e]<<8|this[e+1]},wa.prototype.readUInt32LE=function(e,t){return t||Ga(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},wa.prototype.readUInt32BE=function(e,t){return t||Ga(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},wa.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Ga(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},wa.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Ga(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},wa.prototype.readInt8=function(e,t){return t||Ga(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},wa.prototype.readInt16LE=function(e,t){t||Ga(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},wa.prototype.readInt16BE=function(e,t){t||Ga(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},wa.prototype.readInt32LE=function(e,t){return t||Ga(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},wa.prototype.readInt32BE=function(e,t){return t||Ga(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},wa.prototype.readFloatLE=function(e,t){return t||Ga(e,4,this.length),ha(this,e,!0,23,4)},wa.prototype.readFloatBE=function(e,t){return t||Ga(e,4,this.length),ha(this,e,!1,23,4)},wa.prototype.readDoubleLE=function(e,t){return t||Ga(e,8,this.length),ha(this,e,!0,52,8)},wa.prototype.readDoubleBE=function(e,t){return t||Ga(e,8,this.length),ha(this,e,!1,52,8)},wa.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Wa(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},wa.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Wa(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},wa.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,1,255,0),wa.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},wa.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,2,65535,0),wa.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Ha(this,e,t,!0),t+2},wa.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,2,65535,0),wa.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Ha(this,e,t,!1),t+2},wa.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,4,4294967295,0),wa.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Va(this,e,t,!0),t+4},wa.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,4,4294967295,0),wa.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Va(this,e,t,!1),t+4},wa.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Wa(this,e,t,r,i-1,-i)}var a=0,o=1,u=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===u&&0!==this[t+a-1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+r},wa.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);Wa(this,e,t,r,i-1,-i)}var a=r-1,o=1,u=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===u&&0!==this[t+a+1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+r},wa.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,1,127,-128),wa.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},wa.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,2,32767,-32768),wa.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Ha(this,e,t,!0),t+2},wa.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,2,32767,-32768),wa.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Ha(this,e,t,!1),t+2},wa.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,4,2147483647,-2147483648),wa.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Va(this,e,t,!0),t+4},wa.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||Wa(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),wa.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Va(this,e,t,!1),t+4},wa.prototype.writeFloatLE=function(e,t,r){return qa(this,e,t,!0,r)},wa.prototype.writeFloatBE=function(e,t,r){return qa(this,e,t,!1,r)},wa.prototype.writeDoubleLE=function(e,t,r){return Za(this,e,t,!0,r)},wa.prototype.writeDoubleBE=function(e,t,r){return Za(this,e,t,!1,r)},wa.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!wa.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},wa.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!wa.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=Sa(e)?e:Qa(new wa(e,n).toString()),u=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%u]}return this};var Ya=/[^+\/0-9A-Za-z-_]/g;function Ja(e){return e<16?"0"+e.toString(16):e.toString(16)}function Qa(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Xa(e){return function(e){var t,r,n,i,a,o;ua||sa();var u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[u-2]?2:"="===e[u-1]?1:0,o=new oa(3*u/4-a),n=a>0?u-4:u;var s=0;for(t=0,r=0;t<n;t+=4,r+=3)i=aa[e.charCodeAt(t)]<<18|aa[e.charCodeAt(t+1)]<<12|aa[e.charCodeAt(t+2)]<<6|aa[e.charCodeAt(t+3)],o[s++]=i>>16&255,o[s++]=i>>8&255,o[s++]=255&i;return 2===a?(i=aa[e.charCodeAt(t)]<<2|aa[e.charCodeAt(t+1)]>>4,o[s++]=255&i):1===a&&(i=aa[e.charCodeAt(t)]<<10|aa[e.charCodeAt(t+1)]<<4|aa[e.charCodeAt(t+2)]>>2,o[s++]=i>>8&255,o[s++]=255&i),o}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Ya,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function eo(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function to(e){return null!=e&&(!!e._isBuffer||ro(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&ro(e.slice(0,0))}(e))}function ro(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var no=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:pa,Buffer:wa,SlowBuffer:function(e){return+e!=e&&(e=0),wa.alloc(+e)},isBuffer:to}),io="URLSearchParams"in self,ao="Symbol"in self&&"iterator"in Symbol,oo="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),uo="FormData"in self,so="ArrayBuffer"in self;if(so)var co=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],fo=ArrayBuffer.isView||function(e){return e&&co.indexOf(Object.prototype.toString.call(e))>-1};function lo(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function ho(e){return"string"!=typeof e&&(e=String(e)),e}function mo(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return ao&&(t[Symbol.iterator]=function(){return t}),t}function vo(e){this.map={},e instanceof vo?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function po(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function go(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function bo(e){var t=new FileReader,r=go(t);return t.readAsArrayBuffer(e),r}function wo(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function ko(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:oo&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:uo&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:io&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():so&&oo&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=wo(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):so&&(ArrayBuffer.prototype.isPrototypeOf(e)||fo(e))?this._bodyArrayBuffer=wo(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):io&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},oo&&(this.blob=function(){var e=po(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?po(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(bo)}),this.text=function(){var e,t,r,n=po(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=go(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},uo&&(this.formData=function(){return this.text().then(xo)}),this.json=function(){return this.text().then(JSON.parse)},this}vo.prototype.append=function(e,t){e=lo(e),t=ho(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},vo.prototype.delete=function(e){delete this.map[lo(e)]},vo.prototype.get=function(e){return e=lo(e),this.has(e)?this.map[e]:null},vo.prototype.has=function(e){return this.map.hasOwnProperty(lo(e))},vo.prototype.set=function(e,t){this.map[lo(e)]=ho(t)},vo.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},vo.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),mo(e)},vo.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),mo(e)},vo.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),mo(e)},ao&&(vo.prototype[Symbol.iterator]=vo.prototype.entries);var yo=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ro(e,t){var r=(t=t||{}).body;if(e instanceof Ro){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new vo(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new vo(t.headers)),this.method=function(e){var t=e.toUpperCase();return yo.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function xo(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function Ao(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new vo(t.headers),this.url=t.url||"",this._initBody(e)}Ro.prototype.clone=function(){return new Ro(this,{body:this._bodyInit})},ko.call(Ro.prototype),ko.call(Ao.prototype),Ao.prototype.clone=function(){return new Ao(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new vo(this.headers),url:this.url})},Ao.error=function(){var e=new Ao(null,{status:0,statusText:""});return e.type="error",e};var So=[301,302,303,307,308];Ao.redirect=function(e,t){if(-1===So.indexOf(t))throw new RangeError("Invalid status code");return new Ao(null,{status:t,headers:{location:e}})};var Co=self.DOMException;try{new Co}catch(yc){(Co=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),Co.prototype.constructor=Co}function To(e,t){return new Promise((function(r,n){var i=new Ro(e,t);if(i.signal&&i.signal.aborted)return n(new Co("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new vo,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new Ao(i,n))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.onabort=function(){n(new Co("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&oo&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}To.polyfill=!0,self.fetch||(self.fetch=To,self.Headers=vo,self.Request=Ro,self.Response=Ao);var _o=function(){return this}()||Function("return this")(),Eo=_o.regeneratorRuntime&&Object.getOwnPropertyNames(_o).indexOf("regeneratorRuntime")>=0,Io=Eo&&_o.regeneratorRuntime;if(_o.regeneratorRuntime=void 0,Eo)_o.regeneratorRuntime=Io;else try{delete _o.regeneratorRuntime}catch(e){_o.regeneratorRuntime=void 0}var jo=function(e){var t=String(ne(this)),r="",n=ue(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r};X(X.P,"String",{repeat:jo});var zo=di.onFreeze;ra("freeze",(function(e){return function(t){return e&&_(t)?e(zo(t)):t}}));var Oo,Fo=ye.f,Po=(Oo=!1,function(e){for(var t,r=Re(e),n=qe(r),i=n.length,a=0,o=[];i>a;)t=n[a++],j&&!Fo.call(r,t)||o.push(Oo?[t,r[t]]:r[t]);return o});X(X.S,"Object",{values:function(e){return Po(e)}});var Mo=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1};X(X.S,"Math",{sign:Mo});var Lo=function(e,t){if(!_(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e},Bo=di.getWeak,Do=me(5),Uo=me(6),$o=0,No=function(e){return e._l||(e._l=new Go)},Go=function(){this.a=[]},Wo=function(e,t){return Do(e.a,(function(e){return e[0]===t}))};Go.prototype={get:function(e){var t=Wo(this,e);if(t)return t[1]},has:function(e){return!!Wo(this,e)},set:function(e,t){var r=Wo(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=Uo(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}};var Ho={getConstructor:function(e,t,r,n){var i=e((function(e,a){$t(e,i,t,"_i"),e._t=t,e._i=$o++,e._l=void 0,null!=a&&wn(a,r,e[n],e)}));return Ut(i.prototype,{delete:function(e){if(!_(e))return!1;var r=Bo(e);return!0===r?No(Lo(this,t)).delete(e):r&&G(r,this._i)&&delete r[this._i]},has:function(e){if(!_(e))return!1;var r=Bo(e);return!0===r?No(Lo(this,t)).has(e):r&&G(r,this._i)}}),i},def:function(e,t,r){var n=Bo(E(t),!0);return!0===n?No(e).set(t,r):n[e._i]=r,e},ufstore:No},Vo=function(e,t,r,n,i,a){var o=C[e],u=o,s=i?"set":"add",c=u&&u.prototype,f={},l=function(e){var t=c[e];Z(c,e,"delete"==e?function(e){return!(a&&!_(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!_(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!_(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof u&&(a||c.forEach&&!I((function(){(new u).entries().next()})))){var h=new u,d=h[s](a?{}:-0,1)!=h,m=I((function(){h.has(1)})),v=pr((function(e){new u(e)})),p=!a&&I((function(){for(var e=new u,t=5;t--;)e[s](t,t);return!e.has(-0)}));v||((u=t((function(t,r){$t(t,u,e);var n=_e(new o,t,u);return null!=r&&wn(r,i,n[s],n),n}))).prototype=c,c.constructor=u),(m||p)&&(l("delete"),l("has"),i&&l("get")),(p||d)&&l(s),a&&c.clear&&delete c.clear}else u=n.getConstructor(t,e,i,s),Ut(u.prototype,r),di.NEED=!0;return Vt(u,e),f[e]=u,X(X.G+X.W+X.F*(u!=o),f),a||n.setStrong(u,e,i),u},Ko=(S((function(e){var t,r=me(0),n=Lo,i=!C.ActiveXObject&&"ActiveXObject"in C,a=di.getWeak,o=Object.isExtensible,u=Ho.ufstore,s=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},c={get:function(e){if(_(e)){var t=a(e);return!0===t?u(Lo(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return Ho.def(Lo(this,"WeakMap"),e,t)}},f=e.exports=Vo("WeakMap",s,c,Ho,!0,!0);n&&i&&(t=Ho.getConstructor(s,"WeakMap"),$r(t.prototype,c),di.NEED=!0,r(["delete","has","get","set"],(function(e){var r=f.prototype,n=r[e];Z(r,e,(function(r,i){if(_(r)&&!o(r)){this._f||(this._f=new t);var a=this._f[e](r,i);return"set"==e?this:a}return n.call(this,r,i)}))})))})),B.f),qo=di.fastKey,Zo=j?"_s":"size",Yo=function(e,t){var r,n=qo(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r},Jo={getConstructor:function(e,t,r,n){var i=e((function(e,a){$t(e,i,t,"_i"),e._t=t,e._i=tt(null),e._f=void 0,e._l=void 0,e[Zo]=0,null!=a&&wn(a,r,e[n],e)}));return Ut(i.prototype,{clear:function(){for(var e=Lo(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[Zo]=0},delete:function(e){var r=Lo(this,t),n=Yo(r,e);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[Zo]--}return!!n},forEach:function(e){Lo(this,t);for(var r,n=J(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!Yo(Lo(this,t),e)}}),j&&Ko(i.prototype,"size",{get:function(){return Lo(this,t)[Zo]}}),i},def:function(e,t,r){var n,i,a=Yo(e,t);return a?a.v=r:(e._l=a={i:i=qo(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[Zo]++,"F"!==i&&(e._i[i]=a)),e},getEntry:Yo,setStrong:function(e,t,r){lr(e,t,(function(e,r){this._t=Lo(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?ar(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,ar(1))}),r?"entries":"values",!r,!0),br(t)}};Vo("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return Jo.def(Lo(this,"Set"),e=0===e?0:e,e)}},Jo),Vo("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=Jo.getEntry(Lo(this,"Map"),e);return t&&t.v},set:function(e,t){return Jo.def(Lo(this,"Map"),0===e?0:e,t)}},Jo,!0);function Qo(){throw new Error("setTimeout has not been defined")}function Xo(){throw new Error("clearTimeout has not been defined")}var eu=Qo,tu=Xo;function ru(e){if(eu===setTimeout)return setTimeout(e,0);if((eu===Qo||!eu)&&setTimeout)return eu=setTimeout,setTimeout(e,0);try{return eu(e,0)}catch(t){try{return eu.call(null,e,0)}catch(t){return eu.call(this,e,0)}}}"function"==typeof na.setTimeout&&(eu=setTimeout),"function"==typeof na.clearTimeout&&(tu=clearTimeout);var nu,iu=[],au=!1,ou=-1;function uu(){au&&nu&&(au=!1,nu.length?iu=nu.concat(iu):ou=-1,iu.length&&su())}function su(){if(!au){var e=ru(uu);au=!0;for(var t=iu.length;t;){for(nu=iu,iu=[];++ou<t;)nu&&nu[ou].run();ou=-1,t=iu.length}nu=null,au=!1,function(e){if(tu===clearTimeout)return clearTimeout(e);if((tu===Xo||!tu)&&clearTimeout)return tu=clearTimeout,clearTimeout(e);try{tu(e)}catch(t){try{return tu.call(null,e)}catch(t){return tu.call(this,e)}}}(e)}}function cu(e,t){this.fun=e,this.array=t}cu.prototype.run=function(){this.fun.apply(null,this.array)};function fu(){}var lu=fu,hu=fu,du=fu,mu=fu,vu=fu,pu=fu,gu=fu;var bu=na.performance||{},wu=bu.now||bu.mozNow||bu.msNow||bu.oNow||bu.webkitNow||function(){return(new Date).getTime()};var ku=new Date;var yu={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];iu.push(new cu(e,t)),1!==iu.length||au||ru(su)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:lu,addListener:hu,once:du,off:mu,removeListener:vu,removeAllListeners:pu,emit:gu,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*wu.call(bu),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ku)/1e3}};function Ru(e){return Array.isArray(e)?e:[e]}var xu=/^\s+$/,Au=/^\\!/,Su=/^\\#/,Cu=/\r?\n/g,Tu=/^\.*\/|^\.+$/,_u="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",Eu=function(e,t,r){return Object.defineProperty(e,t,{value:r})},Iu=/([0-z])-([0-z])/g,ju=[[/\\?\s+$/,function(e){return 0===e.indexOf("\\")?" ":""}],[/\\\s/g,function(){return" "}],[/[\\^$.|*+(){]/g,function(e){return"\\".concat(e)}],[/\[([^\]/]*)($|\])/g,function(e,t,r){return"]"===r?"[".concat(t.replace(Iu,(function(e,t,r){return t.charCodeAt(0)<=r.charCodeAt(0)?e:""})),"]"):"\\".concat(e)}],[/(?!\\)\?/g,function(){return"[^/]"}],[/^\//,function(){return"^"}],[/\//g,function(){return"\\/"}],[/^\^*\\\*\\\*\\\//,function(){return"^(?:.*\\/)?"}],[/(?:[^*])$/,function(e){return/\/$/.test(e)?"".concat(e,"$"):"".concat(e,"(?=$|\\/$)")}],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,function(e,t,r){return t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"}],[/(^|[^\\]+)\\\*(?=.+)/g,function(e,t){return"".concat(t,"[^\\/]*")}],[/(\^|\\\/)?\\\*$/,function(e,t){var r=t?"".concat(t,"[^/]+"):"[^/]*";return"".concat(r,"(?=$|\\/$)")}],[/\\\\\\/g,function(){return"\\"}]],zu=Object.create(null),Ou=function(e){return"string"==typeof e},Fu=function e(t,r,i,a){n(this,e),this.origin=t,this.pattern=r,this.negative=i,this.regex=a},Pu=function(e,t){var r=e,n=!1;0===e.indexOf("!")&&(n=!0,e=e.substr(1));var i=function(e,t,r){var n=zu[e];if(n)return n;var i=ju.reduce((function(t,r){return t.replace(r[0],r[1].bind(e))}),e);return zu[e]=r?new RegExp(i,"i"):new RegExp(i)}(e=e.replace(Au,"!").replace(Su,"#"),0,t);return new Fu(r,e,n,i)},Mu=function(e,t){throw new t(e)},Lu=function e(t,r,n){if(!Ou(t))return n("path must be a string, but got `".concat(r,"`"),TypeError);if(!t)return n("path must not be empty",TypeError);if(e.isNotRelative(t)){return n("path should be a ".concat("`path.relative()`d",' string, but got "').concat(r,'"'),RangeError)}return!0},Bu=function(e){return Tu.test(e)};Lu.isNotRelative=Bu,Lu.convert=function(e){return e};var Du=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.ignorecase,i=void 0===r||r;n(this,e),this._rules=[],this._ignorecase=i,Eu(this,_u,!0),this._initCache()}return a(e,[{key:"_initCache",value:function(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}},{key:"_addPattern",value:function(e){if(e&&e[_u])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if(function(e){return e&&Ou(e)&&!xu.test(e)&&0!==e.indexOf("#")}(e)){var t=Pu(e,this._ignorecase);this._added=!0,this._rules.push(t)}}},{key:"add",value:function(e){return this._added=!1,Ru(Ou(e)?function(e){return e.split(Cu)}(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}},{key:"addPattern",value:function(e){return this.add(e)}},{key:"_testOne",value:function(e,t){var r=!1,n=!1;return this._rules.forEach((function(i){var a=i.negative;n===a&&r!==n||a&&!r&&!n&&!t||i.regex.test(e)&&(r=!a,n=a)})),{ignored:r,unignored:n}}},{key:"_test",value:function(e,t,r,n){var i=e&&Lu.convert(e);return Lu(i,e,Mu),this._t(i,t,r,n)}},{key:"_t",value:function(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);var i=this._t(n.join("/")+"/",t,r,n);return t[e]=i.ignored?i:this._testOne(e,r)}},{key:"ignores",value:function(e){return this._test(e,this._ignoreCache,!1).ignored}},{key:"createFilter",value:function(){var e=this;return function(t){return!e.ignores(t)}}},{key:"filter",value:function(e){return Ru(e).filter(this.createFilter())}},{key:"test",value:function(e){return this._test(e,this._testCache,!0)}}]),e}(),Uu=function(e){return new Du(e)},$u=function(){return!1};Uu.isPathValid=function(e){return Lu(e&&Lu.convert(e),e,$u)},Uu.default=Uu;var Nu=Uu;if(void 0!==yu&&(yu.env&&yu.env.IGNORE_TEST_WIN32||"win32"===yu.platform)){Lu.convert=function(e){return/^\\\\\?\\/.test(e)||/[\0-\x1F"<>\|]+/.test(e)?e:e.replace(/\\/g,"/")};var Gu=/^[a-z]:\//i;Lu.isNotRelative=function(e){return Gu.test(e)||Bu(e)}}var Wu=function e(t){t=t||{},this.Promise=t.Promise||Promise,this.queues={},this.domains={},this.domainReentrant=t.domainReentrant||!1,this.timeout=t.timeout||e.DEFAULT_TIMEOUT,this.maxPending=t.maxPending||e.DEFAULT_MAX_PENDING};Wu.DEFAULT_TIMEOUT=0,Wu.DEFAULT_MAX_PENDING=1e3,Wu.prototype.acquire=function(e,t,r,n){if(Array.isArray(e))return this._acquireBatch(e,t,r,n);if("function"!=typeof t)throw new Error("You must pass a function to execute");var i=null,a=null,o=null;"function"!=typeof r&&(n=r,r=null,o=new this.Promise((function(e,t){i=e,a=t}))),n=n||{};var u=!1,s=null,c=this,f=function(t,n,s){t&&(0===c.queues[e].length&&delete c.queues[e],delete c.domains[e]),u||(o?n?a(n):i(s):"function"==typeof r&&r(n,s),u=!0),t&&c.queues[e]&&c.queues[e].length>0&&c.queues[e].shift()()},l=function(r){if(u)return f(r);if(s&&(clearTimeout(s),s=null),r&&(c.domains[e]=yu.domain),1===t.length){var n=!1;t((function(e,t){n||(n=!0,f(r,e,t))}))}else c._promiseTry((function(){return t()})).then((function(e){f(r,void 0,e)}),(function(e){f(r,e)}))};if(yu.domain&&(l=yu.domain.bind(l)),c.queues[e])if(c.domainReentrant&&yu.domain&&yu.domain===c.domains[e])l(!1);else if(c.queues[e].length>=c.maxPending)f(!1,new Error("Too much pending tasks"));else{var h=function(){l(!0)};n.skipQueue?c.queues[e].unshift(h):c.queues[e].push(h);var d=n.timeout||c.timeout;d&&(s=setTimeout((function(){s=null,f(!1,new Error("async-lock timed out"))}),d))}else c.queues[e]=[],l(!0);return o||void 0},Wu.prototype._acquireBatch=function(e,t,r,n){"function"!=typeof r&&(n=r,r=null);var i=this,a=t;if(e.reverse().forEach((function(e){a=function(e,t){return function(r){i.acquire(e,t,r,n)}}(e,a)})),"function"!=typeof r)return new this.Promise((function(e,t){1===a.length?a((function(r,n){r?t(r):e(n)})):e(a())}));a(r)},Wu.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},Wu.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(e){return this.Promise.reject(e)}};var Hu=Wu,Vu="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},Ku=/%[sdj%]/g;function qu(e){if(!us(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Ju(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(Ku,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])as(o)||!fs(o)?a+=" "+o:a+=" "+Ju(o);return a}var Zu,Yu={};function Ju(e,t){var r={seen:[],stylize:Xu};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),is(t)?r.showHidden=t:t&&bs(r,t),ss(r.showHidden)&&(r.showHidden=!1),ss(r.depth)&&(r.depth=2),ss(r.colors)&&(r.colors=!1),ss(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Qu),es(r,e,r.depth)}function Qu(e,t){var r=Ju.styles[t];return r?"["+Ju.colors[r][0]+"m"+e+"["+Ju.colors[r][1]+"m":e}function Xu(e,t){return e}function es(e,t,r){if(e.customInspect&&t&&ds(t.inspect)&&t.inspect!==Ju&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return us(n)||(n=es(e,n,r)),n}var i=function(e,t){if(ss(t))return e.stylize("undefined","undefined");if(us(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(os(t))return e.stylize(""+t,"number");if(is(t))return e.stylize(""+t,"boolean");if(as(t))return e.stylize("null","null")}(e,t);if(i)return i;var a=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),hs(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return ts(t);if(0===a.length){if(ds(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(cs(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(ls(t))return e.stylize(Date.prototype.toString.call(t),"date");if(hs(t))return ts(t)}var s,c="",f=!1,l=["{","}"];(ns(t)&&(f=!0,l=["[","]"]),ds(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return cs(t)&&(c=" "+RegExp.prototype.toString.call(t)),ls(t)&&(c=" "+Date.prototype.toUTCString.call(t)),hs(t)&&(c=" "+ts(t)),0!==a.length||f&&0!=t.length?r<0?cs(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=f?function(e,t,r,n,i){for(var a=[],o=0,u=t.length;o<u;++o)ws(t,String(o))?a.push(rs(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(rs(e,t,r,n,i,!0))})),a}(e,t,r,o,a):a.map((function(n){return rs(e,t,r,o,n,f)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(s,c,l)):l[0]+c+l[1]}function ts(e){return"["+Error.prototype.toString.call(e)+"]"}function rs(e,t,r,n,i,a){var o,u,s;if((s=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),ws(n,i)||(o="["+i+"]"),u||(e.seen.indexOf(s.value)<0?(u=as(r)?es(e,s.value,null):es(e,s.value,r-1)).indexOf("\n")>-1&&(u=a?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),ss(o)){if(a&&i.match(/^\d+$/))return u;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function ns(e){return Array.isArray(e)}function is(e){return"boolean"==typeof e}function as(e){return null===e}function os(e){return"number"==typeof e}function us(e){return"string"==typeof e}function ss(e){return void 0===e}function cs(e){return fs(e)&&"[object RegExp]"===ms(e)}function fs(t){return"object"===e(t)&&null!==t}function ls(e){return fs(e)&&"[object Date]"===ms(e)}function hs(e){return fs(e)&&("[object Error]"===ms(e)||e instanceof Error)}function ds(e){return"function"==typeof e}function ms(e){return Object.prototype.toString.call(e)}function vs(e){return e<10?"0"+e.toString(10):e.toString(10)}Ju.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ju.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ps=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function gs(){var e=new Date,t=[vs(e.getHours()),vs(e.getMinutes()),vs(e.getSeconds())].join(":");return[e.getDate(),ps[e.getMonth()],t].join(" ")}function bs(e,t){if(!t||!fs(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function ws(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ks={inherits:Vu,_extend:bs,log:function(){console.log("%s - %s",gs(),qu.apply(null,arguments))},isBuffer:function(e){return to(e)},isPrimitive:function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===e(t)||void 0===t},isFunction:ds,isError:hs,isDate:ls,isObject:fs,isRegExp:cs,isUndefined:ss,isSymbol:function(t){return"symbol"===e(t)},isString:us,isNumber:os,isNullOrUndefined:function(e){return null==e},isNull:as,isBoolean:is,isArray:ns,inspect:Ju,deprecate:function e(t,r){if(ss(na.process))return function(){return e(t,r).apply(this,arguments)};if(!0===yu.noDeprecation)return t;var n=!1;return function(){if(!n){if(yu.throwDeprecation)throw new Error(r);yu.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}},format:qu,debuglog:function(e){if(ss(Zu)&&(Zu=yu.env.NODE_DEBUG||""),e=e.toUpperCase(),!Yu[e])if(new RegExp("\\b"+e+"\\b","i").test(Zu)){Yu[e]=function(){var t=qu.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Yu[e]=function(){};return Yu[e]}},ys=S((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Rs=S((function(e){try{var t=ks;if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=ys}})),xs=S((function(e,t){var r=no.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=no:(n(no,t),t.Buffer=i),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return no.SlowBuffer(e)}})),As=(xs.Buffer,xs.Buffer);function Ss(e,t){this._block=As.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Ss.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=As.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,a=this._len,o=0;o<i;){for(var u=a%n,s=Math.min(i-o,n-u),c=0;c<s;c++)r[u+c]=e[o+c];o+=s,(a+=s)%n==0&&this._update(r)}return this._len+=i,this},Ss.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},Ss.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Cs=Ss,Ts=xs.Buffer,_s=[1518500249,1859775393,-1894007588,-899497514],Es=new Array(80);function Is(){this.init(),this._w=Es,Cs.call(this,64,56)}function js(e){return e<<1|e>>>31}function zs(e){return e<<5|e>>>27}function Os(e){return e<<30|e>>>2}function Fs(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}Rs(Is,Cs),Is.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Is.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,o=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=js(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var s=0;s<80;++s){var c=~~(s/20),f=zs(r)+Fs(c,n,i,a)+o+t[s]+_s[c]|0;o=a,a=i,i=Os(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0},Is.prototype._hash=function(){var e=Ts.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Ps=Is;kr("Int32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}})),kr("Uint16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}));var Ms=S((function(t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.assign=function(t){for(var r=Array.prototype.slice.call(arguments,1);r.length;){var n=r.shift();if(n){if("object"!==e(n))throw new TypeError(n+"must be non-object");for(var a in n)i(n,a)&&(t[a]=n[a])}}return t},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)}));Ms.assign,Ms.shrinkBuf,Ms.setTyped,Ms.Buf8,Ms.Buf16,Ms.Buf32;function Ls(e){for(var t=e.length;--t>=0;)e[t]=0}var Bs=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ds=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Us=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ns=new Array(576);Ls(Ns);var Gs=new Array(60);Ls(Gs);var Ws=new Array(512);Ls(Ws);var Hs=new Array(256);Ls(Hs);var Vs=new Array(29);Ls(Vs);var Ks,qs,Zs,Ys=new Array(30);function Js(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function Qs(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Xs(e){return e<256?Ws[e]:Ws[256+(e>>>7)]}function ec(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function tc(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,ec(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function rc(e,t,r){tc(e,r[2*t],r[2*t+1])}function nc(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function ic(e,t,r){var n,i,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var u=e[2*i+1];0!==u&&(e[2*i]=nc(a[u]++,u))}}function ac(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function oc(e){e.bi_valid>8?ec(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function uc(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function sc(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&uc(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!uc(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function cc(e,t,r){var n,i,a,o,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===n?rc(e,i,t):(rc(e,(a=Hs[i])+256+1,t),0!==(o=Bs[a])&&tc(e,i-=Vs[a],o),rc(e,a=Xs(--n),r),0!==(o=Ds[a])&&tc(e,n-=Ys[a],o))}while(u<e.last_lit);rc(e,256,t)}function fc(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,u=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,u&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)sc(e,a,r);i=s;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sc(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,sc(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,u,s=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,l=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(s[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(a=s[2*s[2*(n=e.heap[r])+1]+1]+1)>m&&(a=m,v++),s[2*n+1]=a,n>c||(e.bl_count[a]++,o=0,n>=d&&(o=h[n-d]),u=s[2*n],e.opt_len+=u*(a+o),l&&(e.static_len+=u*(f[2*n+1]+o)));if(0!==v){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(a=m;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>c||(s[2*i+1]!==a&&(e.opt_len+=(a-s[2*i+1])*s[2*i],s[2*i+1]=a),n--)}}(e,t),ic(a,c,e.bl_count)}function lc(e,t,r){var n,i,a=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++u<s&&i===o||(u<c?e.bl_tree[2*i]+=u:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):u<=10?e.bl_tree[34]++:e.bl_tree[36]++,u=0,a=i,0===o?(s=138,c=3):i===o?(s=6,c=3):(s=7,c=4))}function hc(e,t,r){var n,i,a=-1,o=t[1],u=0,s=7,c=4;for(0===o&&(s=138,c=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++u<s&&i===o)){if(u<c)do{rc(e,i,e.bl_tree)}while(0!=--u);else 0!==i?(i!==a&&(rc(e,i,e.bl_tree),u--),rc(e,16,e.bl_tree),tc(e,u-3,2)):u<=10?(rc(e,17,e.bl_tree),tc(e,u-3,3)):(rc(e,18,e.bl_tree),tc(e,u-11,7));u=0,a=i,0===o?(s=138,c=3):i===o?(s=6,c=3):(s=7,c=4)}}Ls(Ys);var dc=!1;function mc(e,t,r,n){tc(e,0+(n?1:0),3),function(e,t,r,n){oc(e),n&&(ec(e,r),ec(e,~r)),Ms.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}var vc={_tr_init:function(e){dc||(!function(){var e,t,r,n,i,a=new Array(16);for(r=0,n=0;n<28;n++)for(Vs[n]=r,e=0;e<1<<Bs[n];e++)Hs[r++]=n;for(Hs[r-1]=n,i=0,n=0;n<16;n++)for(Ys[n]=i,e=0;e<1<<Ds[n];e++)Ws[i++]=n;for(i>>=7;n<30;n++)for(Ys[n]=i<<7,e=0;e<1<<Ds[n]-7;e++)Ws[256+i++]=n;for(t=0;t<=15;t++)a[t]=0;for(e=0;e<=143;)Ns[2*e+1]=8,e++,a[8]++;for(;e<=255;)Ns[2*e+1]=9,e++,a[9]++;for(;e<=279;)Ns[2*e+1]=7,e++,a[7]++;for(;e<=287;)Ns[2*e+1]=8,e++,a[8]++;for(ic(Ns,287,a),e=0;e<30;e++)Gs[2*e+1]=5,Gs[2*e]=nc(e,5);Ks=new Js(Ns,Bs,257,286,15),qs=new Js(Gs,Ds,0,30,15),Zs=new Js(new Array(0),Us,0,19,7)}(),dc=!0),e.l_desc=new Qs(e.dyn_ltree,Ks),e.d_desc=new Qs(e.dyn_dtree,qs),e.bl_desc=new Qs(e.bl_tree,Zs),e.bi_buf=0,e.bi_valid=0,ac(e)},_tr_stored_block:mc,_tr_flush_block:function(e,t,r,n){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),fc(e,e.l_desc),fc(e,e.d_desc),o=function(e){var t;for(lc(e,e.dyn_ltree,e.l_desc.max_code),lc(e,e.dyn_dtree,e.d_desc.max_code),fc(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*$s[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?mc(e,t,r,n):4===e.strategy||a===i?(tc(e,2+(n?1:0),3),cc(e,Ns,Gs)):(tc(e,4+(n?1:0),3),function(e,t,r,n){var i;for(tc(e,t-257,5),tc(e,r-1,5),tc(e,n-4,4),i=0;i<n;i++)tc(e,e.bl_tree[2*$s[i]+1],3);hc(e,e.dyn_ltree,t-1),hc(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),cc(e,e.dyn_ltree,e.dyn_dtree)),ac(e),n&&oc(e)},_tr_tally:function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(Hs[r]+256+1)]++,e.dyn_dtree[2*Xs(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){tc(e,2,3),rc(e,256,Ns),function(e){16===e.bi_valid?(ec(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}};var pc=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0};var gc=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();var bc,wc=function(e,t,r,n){var i=gc,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},kc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function yc(e,t){return e.msg=kc[t],t}function Rc(e){return(e<<1)-(e>4?9:0)}function xc(e){for(var t=e.length;--t>=0;)e[t]=0}function Ac(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(Ms.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function Sc(e,t){vc._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ac(e.strm)}function Cc(e,t){e.pending_buf[e.pending++]=t}function Tc(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _c(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,u=e.nice_match,s=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,f=e.w_mask,l=e.prev,h=e.strstart+258,d=c[a+o-1],m=c[a+o];e.prev_length>=e.good_match&&(i>>=2),u>e.lookahead&&(u=e.lookahead);do{if(c[(r=t)+o]===m&&c[r+o-1]===d&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<h);if(n=258-(h-a),a=h-258,n>o){if(e.match_start=t,o=n,n>=u)break;d=c[a+o-1],m=c[a+o]}}}while((t=l[t&f])>s&&0!=--i);return o<=e.lookahead?o:e.lookahead}function Ec(e){var t,r,n,i,a,o,u,s,c,f,l=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=l+(l-262)){Ms.arraySet(e.window,e.window,l,l,0),e.match_start-=l,e.strstart-=l,e.block_start-=l,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=l?n-l:0}while(--r);t=r=l;do{n=e.prev[--t],e.prev[t]=n>=l?n-l:0}while(--r);i+=l}if(0===e.strm.avail_in)break;if(o=e.strm,u=e.window,s=e.strstart+e.lookahead,c=i,f=void 0,(f=o.avail_in)>c&&(f=c),r=0===f?0:(o.avail_in-=f,Ms.arraySet(u,o.input,o.next_in,f,s),1===o.state.wrap?o.adler=pc(o.adler,u,f,s):2===o.state.wrap&&(o.adler=wc(o.adler,u,f,s)),o.next_in+=f,o.total_in+=f,f),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function Ic(e,t){for(var r,n;;){if(e.lookahead<262){if(Ec(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=_c(e,r)),e.match_length>=3)if(n=vc._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=vc._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Sc(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(Sc(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Sc(e,!1),0===e.strm.avail_out)?1:2}function jc(e,t){for(var r,n,i;;){if(e.lookahead<262){if(Ec(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=_c(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=vc._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Sc(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=vc._tr_tally(e,0,e.window[e.strstart-1]))&&Sc(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=vc._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(Sc(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Sc(e,!1),0===e.strm.avail_out)?1:2}function zc(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function Oc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ms.Buf16(1146),this.dyn_dtree=new Ms.Buf16(122),this.bl_tree=new Ms.Buf16(78),xc(this.dyn_ltree),xc(this.dyn_dtree),xc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ms.Buf16(16),this.heap=new Ms.Buf16(573),xc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ms.Buf16(573),xc(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fc(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,vc._tr_init(t),0):yc(e,-2)}function Pc(e){var t,r=Fc(e);return 0===r&&((t=e.state).window_size=2*t.w_size,xc(t.head),t.max_lazy_match=bc[t.level].max_lazy,t.good_match=bc[t.level].good_length,t.nice_match=bc[t.level].nice_length,t.max_chain_length=bc[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function Mc(e,t,r,n,i,a){if(!e)return-2;var o=1;if(-1===t&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||a<0||a>4)return yc(e,-2);8===n&&(n=9);var u=new Oc;return e.state=u,u.strm=e,u.wrap=o,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Ms.Buf8(2*u.w_size),u.head=new Ms.Buf16(u.hash_size),u.prev=new Ms.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Ms.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=r,Pc(e)}bc=[new zc(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ec(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Sc(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(Sc(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(Sc(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Sc(e,!1),e.strm.avail_out),1)})),new zc(4,4,8,4,Ic),new zc(4,5,16,8,Ic),new zc(4,6,32,32,Ic),new zc(4,4,16,16,jc),new zc(8,16,32,32,jc),new zc(8,16,128,128,jc),new zc(8,32,128,256,jc),new zc(32,128,258,1024,jc),new zc(32,258,258,4096,jc)];var Lc={deflateInit:function(e,t){return Mc(e,t,8,15,8,0)},deflateInit2:Mc,deflateReset:Pc,deflateResetKeep:Fc,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},deflate:function(e,t){var r,n,i,a;if(!e||!e.state||t>5||t<0)return e?yc(e,-2):-2;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return yc(e,0===e.avail_out?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,Cc(n,31),Cc(n,139),Cc(n,8),n.gzhead?(Cc(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Cc(n,255&n.gzhead.time),Cc(n,n.gzhead.time>>8&255),Cc(n,n.gzhead.time>>16&255),Cc(n,n.gzhead.time>>24&255),Cc(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),Cc(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Cc(n,255&n.gzhead.extra.length),Cc(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=wc(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(Cc(n,0),Cc(n,0),Cc(n,0),Cc(n,0),Cc(n,0),Cc(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),Cc(n,3),n.status=113);else{var o=8+(n.w_bits-8<<4)<<8;o|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(o|=32),o+=31-o%31,n.status=113,Tc(n,o),0!==n.strstart&&(Tc(n,e.adler>>>16),Tc(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=wc(e.adler,n.pending_buf,n.pending-i,i)),Ac(e),i=n.pending,n.pending!==n.pending_buf_size));)Cc(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=wc(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=wc(e.adler,n.pending_buf,n.pending-i,i)),Ac(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Cc(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=wc(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=wc(e.adler,n.pending_buf,n.pending-i,i)),Ac(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Cc(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=wc(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Ac(e),n.pending+2<=n.pending_buf_size&&(Cc(n,255&e.adler),Cc(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(Ac(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&Rc(t)<=Rc(r)&&4!==t)return yc(e,-5);if(666===n.status&&0!==e.avail_in)return yc(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&666!==n.status){var u=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(Ec(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=vc._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Sc(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(Sc(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Sc(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,n,i,a,o=e.window;;){if(e.lookahead<=258){if(Ec(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){a=e.strstart+258;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=vc._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=vc._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Sc(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(Sc(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Sc(e,!1),0===e.strm.avail_out)?1:2}(n,t):bc[n.level].func(n,t);if(3!==u&&4!==u||(n.status=666),1===u||3===u)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===u&&(1===t?vc._tr_align(n):5!==t&&(vc._tr_stored_block(n,0,0,!1),3===t&&(xc(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Ac(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(Cc(n,255&e.adler),Cc(n,e.adler>>8&255),Cc(n,e.adler>>16&255),Cc(n,e.adler>>24&255),Cc(n,255&e.total_in),Cc(n,e.total_in>>8&255),Cc(n,e.total_in>>16&255),Cc(n,e.total_in>>24&255)):(Tc(n,e.adler>>>16),Tc(n,65535&e.adler)),Ac(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},deflateEnd:function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?yc(e,-2):(e.state=null,113===t?yc(e,-3):0):-2},deflateSetDictionary:function(e,t){var r,n,i,a,o,u,s,c,f=t.length;if(!e||!e.state)return-2;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return-2;for(1===a&&(e.adler=pc(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(xc(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new Ms.Buf8(r.w_size),Ms.arraySet(c,t,f-r.w_size,r.w_size,0),t=c,f=r.w_size),o=e.avail_in,u=e.next_in,s=e.input,e.avail_in=f,e.next_in=0,e.input=t,Ec(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,Ec(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=s,e.avail_in=o,r.wrap=a,0},deflateInfo:"pako deflate (from Nodeca project)"},Bc=!0,Dc=!0;try{String.fromCharCode.apply(null,[0])}catch(e){Bc=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Dc=!1}for(var Uc=new Ms.Buf8(256),$c=0;$c<256;$c++)Uc[$c]=$c>=252?6:$c>=248?5:$c>=240?4:$c>=224?3:$c>=192?2:1;Uc[254]=Uc[254]=1;function Nc(e,t){if(t<65534&&(e.subarray&&Dc||!e.subarray&&Bc))return String.fromCharCode.apply(null,Ms.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}var Gc=function(e){var t,r,n,i,a,o=e.length,u=0;for(i=0;i<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Ms.Buf8(u),a=0,i=0;a<u;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},Wc=function(e){return Nc(e,e.length)},Hc=function(e){for(var t=new Ms.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},Vc=function(e,t){var r,n,i,a,o=t||e.length,u=new Array(2*o);for(n=0,r=0;r<o;)if((i=e[r++])<128)u[n++]=i;else if((a=Uc[i])>4)u[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&r<o;)i=i<<6|63&e[r++],a--;a>1?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return Nc(u,n)},Kc=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+Uc[e[r]]>t?r:t};var qc=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Zc=Object.prototype.toString;function Yc(e){if(!(this instanceof Yc))return new Yc(e);this.options=Ms.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qc,this.strm.avail_out=0;var r=Lc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(kc[r]);if(t.header&&Lc.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?Gc(t.dictionary):"[object ArrayBuffer]"===Zc.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=Lc.deflateSetDictionary(this.strm,n)))throw new Error(kc[r]);this._dict_set=!0}}function Jc(e,t){var r=new Yc(t);if(r.push(e,!0),r.err)throw r.msg||kc[r.err];return r.result}Yc.prototype.push=function(e,t){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof e?i.input=Gc(e):"[object ArrayBuffer]"===Zc.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new Ms.Buf8(a),i.next_out=0,i.avail_out=a),1!==(r=Lc.deflate(i,n))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(Wc(Ms.shrinkBuf(i.output,i.next_out))):this.onData(Ms.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==r);return 4===n?(r=Lc.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==n||(this.onEnd(0),i.avail_out=0,!0)},Yc.prototype.onData=function(e){this.chunks.push(e)},Yc.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ms.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Qc={Deflate:Yc,deflate:Jc,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Jc(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Jc(e,t)}},Xc=function(e,t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A,S,C;r=e.state,n=e.next_in,S=e.input,i=n+(e.avail_in-5),a=e.next_out,C=e.output,o=a-(t-e.avail_out),u=a+(e.avail_out-257),s=r.dmax,c=r.wsize,f=r.whave,l=r.wnext,h=r.window,d=r.hold,m=r.bits,v=r.lencode,p=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{m<15&&(d+=S[n++]<<m,m+=8,d+=S[n++]<<m,m+=8),w=v[d&g];t:for(;;){if(d>>>=k=w>>>24,m-=k,0===(k=w>>>16&255))C[a++]=65535&w;else{if(!(16&k)){if(0==(64&k)){w=v[(65535&w)+(d&(1<<k)-1)];continue t}if(32&k){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}y=65535&w,(k&=15)&&(m<k&&(d+=S[n++]<<m,m+=8),y+=d&(1<<k)-1,d>>>=k,m-=k),m<15&&(d+=S[n++]<<m,m+=8,d+=S[n++]<<m,m+=8),w=p[d&b];r:for(;;){if(d>>>=k=w>>>24,m-=k,!(16&(k=w>>>16&255))){if(0==(64&k)){w=p[(65535&w)+(d&(1<<k)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(R=65535&w,m<(k&=15)&&(d+=S[n++]<<m,(m+=8)<k&&(d+=S[n++]<<m,m+=8)),(R+=d&(1<<k)-1)>s){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=k,m-=k,R>(k=a-o)){if((k=R-k)>f&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(x=0,A=h,0===l){if(x+=c-k,k<y){y-=k;do{C[a++]=h[x++]}while(--k);x=a-R,A=C}}else if(l<k){if(x+=c+l-k,(k-=l)<y){y-=k;do{C[a++]=h[x++]}while(--k);if(x=0,l<y){y-=k=l;do{C[a++]=h[x++]}while(--k);x=a-R,A=C}}}else if(x+=l-k,k<y){y-=k;do{C[a++]=h[x++]}while(--k);x=a-R,A=C}for(;y>2;)C[a++]=A[x++],C[a++]=A[x++],C[a++]=A[x++],y-=3;y&&(C[a++]=A[x++],y>1&&(C[a++]=A[x++]))}else{x=a-R;do{C[a++]=C[x++],C[a++]=C[x++],C[a++]=C[x++],y-=3}while(y>2);y&&(C[a++]=C[x++],y>1&&(C[a++]=C[x++]))}break}}break}}while(n<i&&a<u);n-=y=m>>3,d&=(1<<(m-=y<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<u?u-a+257:257-(a-u),r.hold=d,r.bits=m},ef=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],tf=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],rf=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],nf=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],af=function(e,t,r,n,i,a,o,u){var s,c,f,l,h,d,m,v,p,g=u.bits,b=0,w=0,k=0,y=0,R=0,x=0,A=0,S=0,C=0,T=0,_=null,E=0,I=new Ms.Buf16(16),j=new Ms.Buf16(16),z=null,O=0;for(b=0;b<=15;b++)I[b]=0;for(w=0;w<n;w++)I[t[r+w]]++;for(R=g,y=15;y>=1&&0===I[y];y--);if(R>y&&(R=y),0===y)return i[a++]=20971520,i[a++]=20971520,u.bits=1,0;for(k=1;k<y&&0===I[k];k++);for(R<k&&(R=k),S=1,b=1;b<=15;b++)if(S<<=1,(S-=I[b])<0)return-1;if(S>0&&(0===e||1!==y))return-1;for(j[1]=0,b=1;b<15;b++)j[b+1]=j[b]+I[b];for(w=0;w<n;w++)0!==t[r+w]&&(o[j[t[r+w]]++]=w);if(0===e?(_=z=o,d=19):1===e?(_=ef,E-=257,z=tf,O-=257,d=256):(_=rf,z=nf,d=-1),T=0,w=0,b=k,h=a,x=R,A=0,f=-1,l=(C=1<<R)-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){m=b-A,o[w]<d?(v=0,p=o[w]):o[w]>d?(v=z[O+o[w]],p=_[E+o[w]]):(v=96,p=0),s=1<<b-A,k=c=1<<x;do{i[h+(T>>A)+(c-=s)]=m<<24|v<<16|p|0}while(0!==c);for(s=1<<b-1;T&s;)s>>=1;if(0!==s?(T&=s-1,T+=s):T=0,w++,0==--I[b]){if(b===y)break;b=t[r+o[w]]}if(b>R&&(T&l)!==f){for(0===A&&(A=R),h+=k,S=1<<(x=b-A);x+A<y&&!((S-=I[x+A])<=0);)x++,S<<=1;if(C+=1<<x,1===e&&C>852||2===e&&C>592)return 1;i[f=T&l]=R<<24|x<<16|h-a|0}}return 0!==T&&(i[h+T]=b-A<<24|64<<16|0),u.bits=R,0};function of(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function uf(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ms.Buf16(320),this.work=new Ms.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function sf(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ms.Buf32(852),t.distcode=t.distdyn=new Ms.Buf32(592),t.sane=1,t.back=-1,0):-2}function cf(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,sf(e)):-2}function ff(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,cf(e))):-2}function lf(e,t){var r,n;return e?(n=new uf,e.state=n,n.window=null,0!==(r=ff(e,t))&&(e.state=null),r):-2}var hf,df,mf=!0;function vf(e){if(mf){var t;for(hf=new Ms.Buf32(512),df=new Ms.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(af(1,e.lens,0,288,hf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;af(2,e.lens,0,32,df,0,e.work,{bits:5}),mf=!1}e.lencode=hf,e.lenbits=9,e.distcode=df,e.distbits=5}function pf(e,t,r,n){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Ms.Buf8(a.wsize)),n>=a.wsize?(Ms.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),Ms.arraySet(a.window,t,r-n,i,a.wnext),(n-=i)?(Ms.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}var gf={inflateReset:cf,inflateReset2:ff,inflateResetKeep:sf,inflateInit:function(e){return lf(e,15)},inflateInit2:lf,inflate:function(e,t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A,S,C=0,T=new Ms.Buf8(4),_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(r=e.state).mode&&(r.mode=13),o=e.next_out,i=e.output,s=e.avail_out,a=e.next_in,n=e.input,u=e.avail_in,c=r.hold,f=r.bits,l=u,h=s,x=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;f<16;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(2&r.wrap&&35615===c){r.check=0,T[0]=255&c,T[1]=c>>>8&255,r.check=wc(r.check,T,2,0),c=0,f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&c)){e.msg="unknown compression method",r.mode=30;break}if(f-=4,R=8+(15&(c>>>=4)),0===r.wbits)r.wbits=R;else if(R>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<R,e.adler=r.check=1,r.mode=512&c?10:12,c=0,f=0;break;case 2:for(;f<16;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(r.flags=c,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,r.check=wc(r.check,T,2,0)),c=0,f=0,r.mode=3;case 3:for(;f<32;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}r.head&&(r.head.time=c),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,r.check=wc(r.check,T,4,0)),c=0,f=0,r.mode=4;case 4:for(;f<16;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,r.check=wc(r.check,T,2,0)),c=0,f=0,r.mode=5;case 5:if(1024&r.flags){for(;f<16;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,r.check=wc(r.check,T,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>u&&(d=u),d&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Ms.arraySet(r.head.extra,n,a,d,R)),512&r.flags&&(r.check=wc(r.check,n,d,a)),u-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===u)break e;d=0;do{R=n[a+d++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R))}while(R&&d<u);if(512&r.flags&&(r.check=wc(r.check,n,d,a)),u-=d,a+=d,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===u)break e;d=0;do{R=n[a+d++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R))}while(R&&d<u);if(512&r.flags&&(r.check=wc(r.check,n,d,a)),u-=d,a+=d,R)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;f<16;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;f<32;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}e.adler=r.check=of(c),c=0,f=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=s,e.next_in=a,e.avail_in=u,r.hold=c,r.bits=f,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){c>>>=7&f,f-=7&f,r.mode=27;break}for(;f<3;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}switch(r.last=1&c,f-=1,3&(c>>>=1)){case 0:r.mode=14;break;case 1:if(vf(r),r.mode=20,6===t){c>>>=2,f-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}c>>>=2,f-=2;break;case 14:for(c>>>=7&f,f-=7&f;f<32;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&c,c=0,f=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(d>u&&(d=u),d>s&&(d=s),0===d)break e;Ms.arraySet(i,n,a,d,o),u-=d,a+=d,s-=d,o+=d,r.length-=d;break}r.mode=12;break;case 17:for(;f<14;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(r.nlen=257+(31&c),c>>>=5,f-=5,r.ndist=1+(31&c),c>>>=5,f-=5,r.ncode=4+(15&c),c>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;f<3;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}r.lens[_[r.have++]]=7&c,c>>>=3,f-=3}for(;r.have<19;)r.lens[_[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},x=af(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,x){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((p=C>>>24)<=f);){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(b<16)c>>>=p,f-=p,r.lens[r.have++]=b;else{if(16===b){for(S=p+2;f<S;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(c>>>=p,f-=p,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}R=r.lens[r.have-1],d=3+(3&c),c>>>=2,f-=2}else if(17===b){for(S=p+3;f<S;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}f-=p,R=0,d=3+(7&(c>>>=p)),c>>>=3,f-=3}else{for(S=p+7;f<S;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}f-=p,R=0,d=11+(127&(c>>>=p)),c>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=R}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,A={bits:r.lenbits},x=af(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,x){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},x=af(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,x){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(u>=6&&s>=258){e.next_out=o,e.avail_out=s,e.next_in=a,e.avail_in=u,r.hold=c,r.bits=f,Xc(e,h),o=e.next_out,i=e.output,s=e.avail_out,a=e.next_in,n=e.input,u=e.avail_in,c=r.hold,f=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((p=C>>>24)<=f);){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(g&&0==(240&g)){for(w=p,k=g,y=b;g=(C=r.lencode[y+((c&(1<<w+k)-1)>>w)])>>>16&255,b=65535&C,!(w+(p=C>>>24)<=f);){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}c>>>=w,f-=w,r.back+=w}if(c>>>=p,f-=p,r.back+=p,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(S=r.extra;f<S;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[c&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((p=C>>>24)<=f);){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(0==(240&g)){for(w=p,k=g,y=b;g=(C=r.distcode[y+((c&(1<<w+k)-1)>>w)])>>>16&255,b=65535&C,!(w+(p=C>>>24)<=f);){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}c>>>=w,f-=w,r.back+=w}if(c>>>=p,f-=p,r.back+=p,64&g){e.msg="invalid distance code",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(S=r.extra;f<S;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===s)break e;if(d=h-s,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,m=r.wsize-d):m=r.wnext-d,d>r.length&&(d=r.length),v=r.window}else v=i,m=o-r.offset,d=r.length;d>s&&(d=s),s-=d,r.length-=d;do{i[o++]=v[m++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===s)break e;i[o++]=r.length,s--,r.mode=21;break;case 27:if(r.wrap){for(;f<32;){if(0===u)break e;u--,c|=n[a++]<<f,f+=8}if(h-=s,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?wc(r.check,i,h,o-h):pc(r.check,i,h,o-h)),h=s,(r.flags?c:of(c))!==r.check){e.msg="incorrect data check",r.mode=30;break}c=0,f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;f<32;){if(0===u)break e;u--,c+=n[a++]<<f,f+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}c=0,f=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=o,e.avail_out=s,e.next_in=a,e.avail_in=u,r.hold=c,r.bits=f,(r.wsize||h!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&pf(e,e.output,e.next_out,h-e.avail_out),l-=e.avail_in,h-=e.avail_out,e.total_in+=l,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?wc(r.check,i,h,e.next_out-h):pc(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===l&&0===h||4===t)&&0===x&&(x=-5),x},inflateEnd:function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},inflateGetHeader:function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?-2:(r.head=t,t.done=!1,0):-2},inflateSetDictionary:function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?-2:11===r.mode&&pc(1,t,n,0)!==r.check?-3:pf(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},bf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var wf=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},kf=Object.prototype.toString;function yf(e){if(!(this instanceof yf))return new yf(e);this.options=Ms.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qc,this.strm.avail_out=0;var r=gf.inflateInit2(this.strm,t.windowBits);if(r!==bf.Z_OK)throw new Error(kc[r]);if(this.header=new wf,gf.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Gc(t.dictionary):"[object ArrayBuffer]"===kf.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=gf.inflateSetDictionary(this.strm,t.dictionary))!==bf.Z_OK))throw new Error(kc[r])}function Rf(e,t){var r=new yf(t);if(r.push(e,!0),r.err)throw r.msg||kc[r.err];return r.result}yf.prototype.push=function(e,t){var r,n,i,a,o,u=this.strm,s=this.options.chunkSize,c=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?bf.Z_FINISH:bf.Z_NO_FLUSH,"string"==typeof e?u.input=Hc(e):"[object ArrayBuffer]"===kf.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new Ms.Buf8(s),u.next_out=0,u.avail_out=s),(r=gf.inflate(u,bf.Z_NO_FLUSH))===bf.Z_NEED_DICT&&c&&(r=gf.inflateSetDictionary(this.strm,c)),r===bf.Z_BUF_ERROR&&!0===f&&(r=bf.Z_OK,f=!1),r!==bf.Z_STREAM_END&&r!==bf.Z_OK)return this.onEnd(r),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&r!==bf.Z_STREAM_END&&(0!==u.avail_in||n!==bf.Z_FINISH&&n!==bf.Z_SYNC_FLUSH)||("string"===this.options.to?(i=Kc(u.output,u.next_out),a=u.next_out-i,o=Vc(u.output,i),u.next_out=a,u.avail_out=s-a,a&&Ms.arraySet(u.output,u.output,i,a,0),this.onData(o)):this.onData(Ms.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(f=!0)}while((u.avail_in>0||0===u.avail_out)&&r!==bf.Z_STREAM_END);return r===bf.Z_STREAM_END&&(n=bf.Z_FINISH),n===bf.Z_FINISH?(r=gf.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===bf.Z_OK):n!==bf.Z_SYNC_FLUSH||(this.onEnd(bf.Z_OK),u.avail_out=0,!0)},yf.prototype.onData=function(e){this.chunks.push(e)},yf.prototype.onEnd=function(e){e===bf.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ms.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var xf={Inflate:yf,inflate:Rf,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Rf(e,t)},ungzip:Rf},Af={};(0,Ms.assign)(Af,Qc,xf,bf);var Sf=Af,Cf=S((function(e){var t=function(e,t,r){return function(){for(var n=this,i=new Array(arguments.length),a=0;a<arguments.length;a++)i[a]=arguments[a];return new t((function(t,a){i.push((function(e,n){if(e)a(e);else if(r.multiArgs){for(var i=new Array(arguments.length-1),o=1;o<arguments.length;o++)i[o-1]=arguments[o];t(i)}else t(n)})),e.apply(n,i)}))}},r=e.exports=function(e,r,n){"function"!=typeof r&&(n=r,r=Promise),(n=n||{}).exclude=n.exclude||[/.+Sync$/];var i="function"==typeof e?function(){return n.excludeMain?e.apply(this,arguments):t(e,r,n).apply(this,arguments)}:{};return Object.keys(e).reduce((function(i,a){var o=e[a];return i[a]="function"==typeof o&&function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return n.include?n.include.some(t):!n.exclude.some(t)}(a)?t(o,r,n):o,i}),i)};r.all=r})),Tf=S((function(e,t){!function(e){"undefined"==typeof DO_NOT_EXPORT_CRC?e(t):e({})}((function(e){e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=e.length-1,a=0;a<i;)n=(n=n>>>8^t[255&(n^e.charCodeAt(a++))])>>>8^t[255&(n^e.charCodeAt(a++))];return a===i&&(n=n>>>8^t[255&(n^e.charCodeAt(a))]),-1^n},e.buf=function(e,r){if(e.length>1e4)return function(e,r){for(var n=-1^r,i=e.length-7,a=0;a<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])];for(;a<i+7;)n=n>>>8^t[255&(n^e[a++])];return-1^n}(e,r);for(var n=-1^r,i=e.length-3,a=0;a<i;)n=(n=(n=(n=n>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])];for(;a<i+3;)n=n>>>8^t[255&(n^e[a++])];return-1^n},e.str=function(e,r){for(var n,i,a=-1^r,o=0,u=e.length;o<u;)(n=e.charCodeAt(o++))<128?a=a>>>8^t[255&(a^n)]:n<2048?a=(a=a>>>8^t[255&(a^(192|n>>6&31))])>>>8^t[255&(a^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),i=1023&e.charCodeAt(o++),a=(a=(a=(a=a>>>8^t[255&(a^(240|n>>8&7))])>>>8^t[255&(a^(128|n>>2&63))])>>>8^t[255&(a^(128|i>>6&15|(3&n)<<4))])>>>8^t[255&(a^(128|63&i))]):a=(a=(a=a>>>8^t[255&(a^(224|n>>12&15))])>>>8^t[255&(a^(128|n>>6&63))])>>>8^t[255&(a^(128|63&n))];return-1^a}}))})),_f=no.Buffer,Ef=no.Buffer,If=no.Buffer,jf=function(e,t,r,n,i){return e.copy(t,r,n,i)};var zf=function(e){return new Of(e)},Of=no.Buffer;var Ff,Pf={},Mf=/read.+/;Ff=function(e){var t="return buf."+e+"("+["a","b","c"].join(",")+")";return new Function(["buf","a","b","c"],t)};var Lf=Pf;for(var Bf in wa.prototype)Mf.test(Bf)&&(Pf[Bf]=Ff(Bf));var Df,Uf=no.Buffer,$f={},Nf=/write.+/;Df=function(e){var t="return buf."+e+"("+["a","b","c"].join(",")+")";return new Function(["buf","a","b","c"],t)};var Gf=$f;for(var Wf in Uf.prototype)Nf.test(Wf)&&($f[Wf]=Df(Wf));var Hf={},Vf=Hf;function Kf(e,t){for(var r in e)t[r]=e[r]}Hf.from=function(e,t){return new _f(e,t)},Hf.to=function(e,t){return e.toString(t)},Hf.is=function(e){return Ef.isBuffer(e)},Hf.subarray=function(e,t,r){return 2===arguments.length?e.slice(t):e.slice(t,r)},Hf.join=function(e,t){return void 0!==t?If.concat(e,t):If.concat(e)},Hf.copy=jf,Hf.create=zf,Kf(Lf,Hf),Kf(Gf,Hf);var qf=Zf;function Zf(){this.accum=[]}Zf.prototype.write=function(e){var t,r,n=128&e,i=this.accum;if(i[i.length]=127&e,n)return;t=i.length,r=0;for(var a=0;a<t;++a)r|=i[a]<<7*a;return i.length=0,void this.ondata(r)};var Yf=function(e,t){var r,n,i,a,o,u={size:null,buffer:null},s={size:null,buffer:null};el(e,u),el(u.buffer,s),e=s.buffer,o=n=0,r=Vf.create(s.size),a=e.length;for(;o<a;)128&(i=e[o++])?c():f();return r;function c(){Vf.writeUInt32LE(Qf,0,0),Vf.writeUInt32LE(Xf,0,0);for(var a,u,s=1,c=0;c<4;++c)i&s&&(Qf[3-c]=e[o++]),s<<=1;for(c=0;c<3;++c)i&s&&(Xf[3-c]=e[o++]),s<<=1;Xf[0]=0,a=Vf.readUInt32BE(Xf,0)||65536,u=Vf.readUInt32BE(Qf,0),Vf.copy(t,r,n,u,u+a),n+=a}function f(){Vf.copy(e,r,n,o,i+o),o+=i,n+=i}},Jf=new qf,Qf=Vf.create(4),Xf=Vf.create(4);function el(e,t){var r=!1,n=0,i=0;Jf.ondata=function(e){i=e,r=!0};do{Jf.write(e[n++])}while(!r);t.size=i,t.buffer=Vf.subarray(e,n)}var tl,rl,nl="undefined"!=typeof performance&&performance,il=yu.hrtime,al=function(){var e=il();return 1e9*e[0]+e[1]},ol=al(),ul=function(){return(al()-ol)/1e6};function sl(e){if(!e)throw new Error("name must be non-empty")}if(nl&&nl.mark)tl=function(e){sl(e),nl.mark("start "+e)},rl=function(e){sl(e),nl.mark("end "+e),nl.measure(e,"start "+e,"end "+e);var t=nl.getEntriesByName(e);return t[t.length-1]};else{var cl={},fl=[];tl=function(e){sl(e);var t=ul();cl["$"+e]=t},rl=function(e){sl(e);var t=ul(),r=cl["$"+e];if(!r)throw new Error("no known mark: "+e);var n={startTime:r,name:e,duration:t-r,entryType:"measure"};return function(e,t){for(var r,n=0,i=e.length;n<i;)e[r=n+i>>>1].startTime<t.startTime?n=r+1:i=r;e.splice(n,0,t)}(fl,n),n}}function ll(e,t,r){return t=t instanceof RegExp?t:new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),e.replace(t,r)}var hl={clean:function(e){if("string"!=typeof e)throw new Error("Expected a string, received: "+e);return e=ll(e,"./","/"),e=ll(e,"..","."),e=ll(e," ","-"),e=ll(e,/^[~^:?*\\\-]/g,""),e=ll(e,/[~^:?*\\]/g,"-"),e=ll(e,/[~^:?*\\\-]$/g,""),e=ll(e,"@{","-"),e=ll(e,/\.$/g,""),e=ll(e,/\/$/g,""),e=ll(e,/\.lock$/g,"")}},dl="win32"===yu.platform,ml=dl?"\\\\+":"\\/",vl=dl?"\\\\":"/",pl="((?:[^".concat(vl,"]*(?:").concat(vl,"|$))*)"),gl="([^".concat(vl,"]*)");var bl=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.extended,a=void 0!==i&&i,o=n.globstar,u=void 0!==o&&o,s=n.strict,c=void 0!==s&&s,f=n.filepath,l=void 0!==f&&f,h=n.flags,d=void 0===h?"":h,m="",v="",p={regex:"",segments:[]},g=!1,b=!1,w=[];function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.split,n=t.last,i=t.only;"path"!==i&&(m+=e),l&&"regex"!==i&&(p.regex+="\\/"===e?ml:e,r?(n&&(v+=e),""!==v&&(d.includes("g")||(v="^".concat(v,"$")),p.segments.push(new RegExp(v,d))),v=""):v+=e)}for(var y=0;y<e.length;y++)if(t=e[y],r=e[y+1],["\\","$","^",".","="].includes(t))k("\\".concat(t));else if("/"!==t)if("("!==t)if(")"!==t)if("|"!==t)if("+"!==t)if("@"===t&&a&&"("===r)w.push(t);else if("!"!==t)if("?"!==t)if("["!==t)if("]"!==t)if("{"!==t)if("}"!==t)if(","!==t)if("*"!==t)k(t);else{if("("===r&&a){w.push(t);continue}for(var R=e[y-1],x=1;"*"===e[y+1];)x++,y++;var A=e[y+1];if(u){var S=x>1&&("/"===R||void 0===R)&&("/"===A||void 0===A);S?(k("((?:[^/]*(?:/|$))*)",{only:"regex"}),k(pl,{only:"path",last:!0,split:!0}),y++):(k("([^/]*)",{only:"regex"}),k(gl,{only:"path"}))}else k(".*")}else{if(g){k("|");continue}k("\\".concat(t))}else{if(a){g=!1,k(")");continue}k("\\".concat(t))}else{if(a){g=!0,k("(");continue}k("\\".concat(t))}else{if(a){b=!1,k(t);continue}k("\\".concat(t))}else{if(b&&":"===r){y++;for(var C="";":"!==e[++y];)C+=e[y];"alnum"===C?k("(\\w|\\d)"):"space"===C?k("\\s"):"digit"===C&&k("\\d"),y++;continue}if(a){b=!0,k(t);continue}k("\\".concat(t))}else{if(a){"("===r?w.push(t):k(".");continue}k("\\".concat(t))}else{if(a){if(b){k("^");continue}if("("===r){w.push(t),k("(?!"),y++;continue}k("\\".concat(t));continue}k("\\".concat(t))}else{if("("===r&&a){w.push(t);continue}k("\\".concat(t))}else{if(w.length){k(t);continue}k("\\".concat(t))}else{if(w.length){k(t);var T=w.pop();k("@"===T?"{1}":"!"===T?"([^/]*)":T);continue}k("\\".concat(t))}else{if(w.length){k(t);continue}k("\\".concat(t))}else k("\\".concat(t),{split:!0}),"/"!==r||c||(m+="?");d.includes("g")||(m="^".concat(m,"$"),v="^".concat(v,"$"),l&&(p.regex="^".concat(p.regex,"$")));var _={regex:new RegExp(m,d)};return l&&(p.segments.push(new RegExp(v,d)),p.regex=new RegExp(p.regex,d),p.globstar=new RegExp(d.includes("g")?pl:"^".concat(pl,"$"),d),_.path=p),_};function wl(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var kl=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,yl=function(e){return kl.exec(e).slice(1)};function Rl(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=wl(Cl(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function xl(e){var t=Al(e),r="/"===Tl(e,-1);return(e=wl(Cl(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function Al(e){return"/"===e.charAt(0)}var Sl={extname:function(e){return yl(e)[3]},basename:function(e,t){var r=yl(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},dirname:function(e){var t=yl(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},sep:"/",delimiter:":",relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Rl(e).substr(1),t=Rl(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),a=Math.min(n.length,i.length),o=a,u=0;u<a;u++)if(n[u]!==i[u]){o=u;break}var s=[];for(u=o;u<n.length;u++)s.push("..");return(s=s.concat(i.slice(o))).join("/")},join:function(){var e=Array.prototype.slice.call(arguments,0);return xl(Cl(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},isAbsolute:Al,normalize:xl,resolve:Rl};function Cl(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var Tl="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)},_l={"{":"}","(":")","[":"]"},El=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\)|(\\).|([@?!+*]\(.*\)))/,Il=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;function jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.strict,n=void 0===r||r;if(""===e)return!1;for(var i,a=n?El:Il;i=a.exec(e);){if(i[2])return!0;var o=i.index+i[0].length,u=i[1],s=u?_l[u]:null;if(u&&s){var c=e.indexOf(s,o);-1!==c&&(o=c+1)}e=e.slice(o)}return!1}function zl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.strict,n=void 0!==r&&r;e=Sl.normalize(e).replace(/\/|\\/,"/"),/[\{\[].*[\/]*.*[\}\]]$/.test(e)&&(e+="/"),e+="a";do{e=Sl.dirname(e)}while(jl(e,{strict:n})||/(^|[^\\])([\{\[]|\([^\)]+$)/.test(e));return e.replace(/\\([\*\?\|\[\]\(\)\{\}])/g,"$1")}var Ol=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zl(e,r),i=jl(e,r);return"."!=n?(t=e.substr(n.length)).startsWith("/")&&(t=t.substr(1)):t=e,i||(t="."!==(n=Sl.dirname(e))?e.substr(n.length):e),t.startsWith("./")&&(t=t.substr(2)),t.startsWith("/")&&(t=t.substr(1)),{base:n,glob:t,isGlob:i}},Fl=function(e,t){var r,n,i=e,a=t,o=i.length,u=a.length,s=!1,c=null,f=o+1,l=[],h=[],d=[],m="",v=function(e,t,r){return{x:e,y:t,k:r}},p=function(e,t){return{elem:e,t:t}},g=function(e,t,r){var n,s,c;for(n=t>r?l[e-1+f]:l[e+1+f],s=(c=Math.max(t,r))-e;s<o&&c<u&&i[s]===a[c];)++s,++c;return l[e+f]=h.length,h[h.length]=new v(s,c,n),c};return o>=u&&(r=i,n=o,i=a,a=r,o=u,u=n,s=!0,f=o+1),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return c},getlcs:function(){return m},getses:function(){return d},compose:function(){var e,t,r,n,b,w,k,y;for(e=u-o,t=o+u+3,r={},k=0;k<t;++k)r[k]=-1,l[k]=-1;n=-1;do{for(y=-++n;y<=e-1;++y)r[y+f]=g(y,r[y-1+f]+1,r[y+1+f]);for(y=e+n;y>=e+1;--y)r[y+f]=g(y,r[y-1+f]+1,r[y+1+f]);r[e+f]=g(e,r[e-1+f]+1,r[e+1+f])}while(r[e+f]!==u);for(c=e+2*n,b=l[e+f],w=[];-1!==b;)w[w.length]=new v(h[b].x,h[b].y,null),b=h[b].k;!function(e){var t,r,n;for(t=r=0,n=e.length-1;n>=0;--n)for(;t<e[n].x||r<e[n].y;)e[n].y-e[n].x>r-t?(d[d.length]=new p(a[r],s?-1:1),++r):e[n].y-e[n].x<r-t?(d[d.length]=new p(i[t],s?1:-1),++t):(d[d.length]=new p(i[t],0),m+=i[t],++t,++r)}(w)}}};function Pl(e,t){for(var r=[],n=e.length,i=t.length,a=function(e,t){var r=new Fl(e,t);r.compose();for(var n,i,a=r.getses(),o=e.length-1,u=t.length-1,s=a.length-1;s>=0;--s)a[s].t===r.SES_COMMON?(i?(i.chain={file1index:o,file2index:u,chain:null},i=i.chain):i=n={file1index:o,file2index:u,chain:null},o--,u--):a[s].t===r.SES_DELETE?o--:a[s].t===r.SES_ADD&&u--;var c={file1index:-1,file2index:-1,chain:null};return i?(i.chain=c,n):c}(e,t);null!==a;a=a.chain){var o=n-a.file1index-1,u=i-a.file2index-1;n=a.file1index,i=a.file2index,(o||u)&&r.push({file1:[n+1,o],file2:[i+1,u]})}return r.reverse(),r}var Ml=function(e,t,r){var n=[],i=[e,t,r],a=function(e,t,r){var n,i=Pl(t,e),a=Pl(t,r),o=[];function u(e,t){o.push([e.file1[0],t,e.file1[1],e.file2[0],e.file2[1]])}for(n=0;n<i.length;n++)u(i[n],0);for(n=0;n<a.length;n++)u(a[n],2);o.sort((function(e,t){return e[0]-t[0]}));var s=[],c=0;function f(e){e>c&&(s.push([1,c,e-c]),c=e)}for(var l=0;l<o.length;l++){for(var h=l,d=o[l],m=d[0],v=m+d[2];l<o.length-1;){var p=o[l+1],g=p[0];if(g>v)break;v=Math.max(v,g+p[2]),l++}if(f(m),h==l)d[4]>0&&s.push([d[1],d[3],d[4]]);else{var b={0:[e.length,-1,t.length,-1],2:[r.length,-1,t.length,-1]};for(n=h;n<=l;n++){var w=b[(d=o[n])[1]],k=d[0],y=k+d[2],R=d[3],x=R+d[4];w[0]=Math.min(R,w[0]),w[1]=Math.max(x,w[1]),w[2]=Math.min(k,w[2]),w[3]=Math.max(y,w[3])}var A=b[0][0]+(m-b[0][2]),S=b[0][1]+(v-b[0][3]),C=b[2][0]+(m-b[2][2]),T=b[2][1]+(v-b[2][3]);s.push([-1,A,S-A,m,v-m,C,T-C])}c=v}return f(t.length),s}(e,t,r),o=[];function u(){o.length&&n.push({ok:o}),o=[]}function s(e){for(var t=0;t<e.length;t++)o.push(e[t])}function c(t){if(t[2]!=t[6])return!0;for(var n=t[1],i=t[5],a=0;a<t[2];a++)if(e[a+n]!=r[a+i])return!0;return!1}for(var f=0;f<a.length;f++){var l=a[f],h=l[0];-1==h?c(l)?(u(),n.push({conflict:{a:e.slice(l[1],l[1]+l[2]),aIndex:l[1],o:t.slice(l[3],l[3]+l[4]),oIndex:l[3],b:r.slice(l[5],l[5]+l[6]),bIndex:l[5]}})):s(i[0].slice(l[1],l[1]+l[2])):s(i[h].slice(l[1],l[1]+l[2]))}return u(),n},Ll=regeneratorRuntime.mark(Fm),Bl=regeneratorRuntime.mark(Ig);var Dl={FileReadError:'Could not read file "{ filepath }".',MissingRequiredParameterError:'The function "{ function }" requires a "{ parameter }" parameter but none was provided.',InvalidRefNameError:'Failed to { verb } { noun } "{ ref }" because that name would not be a valid git reference. A valid alternative would be "{ suggestion }".',InvalidParameterCombinationError:'The function "{ function }" doesn\'t take these parameters simultaneously: { parameters }',RefExistsError:'Failed to create { noun } "{ ref }" because { noun } "{ ref }" already exists.',RefNotExistsError:'Failed to { verb } { noun } "{ ref }" because { noun } "{ ref }" does not exists.',BranchDeleteError:'Failed to delete branch "{ ref }" because branch "{ ref }" checked out now.',NoHeadCommitError:'Failed to create { noun } "{ ref }" because the HEAD ref could not be resolved to a commit.',CommitNotFetchedError:'Failed to checkout "{ ref }" because commit { oid } is not available locally. Do a git fetch to make the branch available locally.',CommitUnmergedConflictsFail:'Cannot commit because you have unmerged files:\\n{ paths.join("\\n") }',ObjectTypeUnknownFail:'Object { oid } has unknown type "{ type }".',ObjectTypeAssertionFail:"Object { oid } was anticipated to be a { expected } but it is a { type }. This is probably a bug deep in isomorphic-git!",ObjectTypeAssertionInTreeFail:'Object { oid } in tree for "{ entrypath }" was an unexpected object type "{ type }".',ObjectTypeAssertionInRefFail:'{ ref } is not pointing to a "{ expected }" object but a "{ type }" object.',ObjectTypeAssertionInPathFail:'Found a blob { oid } in the path "{ path }" where a tree was expected.',MissingAuthorError:"Author name and email must be specified as an argument or in the .git/config file.",MissingCommitterError:"Committer name and email must be specified if a committer object is passed.",MissingTaggerError:"Tagger name and email must be specified as an argument or in the .git/config file.",GitRootNotFoundError:"Unable to find git root for { filepath }.",UnparseableServerResponseFail:'Unparsable response from server! Expected "unpack ok" or "unpack [error message]" but received "{ line }".',InvalidDepthParameterError:"Invalid value for depth parameter: { depth }",RemoteDoesNotSupportShallowFail:"Remote does not support shallow fetches.",RemoteDoesNotSupportDeepenSinceFail:"Remote does not support shallow fetches by date.",RemoteDoesNotSupportDeepenNotFail:"Remote does not support shallow fetches excluding commits reachable by refs.",RemoteDoesNotSupportDeepenRelativeFail:"Remote does not support shallow fetches relative to the current shallow depth.",RemoteDoesNotSupportSmartHTTP:'Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: { preview }',CorruptShallowOidFail:"non-40 character shallow oid: { oid }",FastForwardFail:"A simple fast-forward merge was not possible.",DirectorySeparatorsError:'"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms',ResolveTreeError:"Could not resolve { oid } to a tree.",ResolveCommitError:"Could not resolve { oid } to a commit.",DirectoryIsAFileError:'Unable to read "{ oid }:{ filepath }" because encountered a file where a directory was expected.',TreeOrBlobNotFoundError:'No file or directory found at "{ oid }:{ filepath }".',NotImplementedFail:"TODO: { thing } still needs to be implemented!",ReadObjectFail:"Failed to read git object with oid { oid }",NotAnOidFail:'Expected a 40-char hex object id but saw "{ value }".',NoRefspecConfiguredError:'Could not find a fetch refspec for remote "{ remote }".\\nMake sure the config file has an entry like the following:\\n[remote "{ remote }"]\\nfetch = +refs/heads/*:refs/remotes/origin/*',MismatchRefValueError:'Provided oldValue doesn\\\'t match the actual value of "{ ref }".',ResolveRefError:'Could not resolve reference "{ ref }".',ExpandRefError:'Could not expand reference "{ ref }".',EmptyServerResponseFail:"Empty response from git server.",AssertServerResponseFail:'Expected "{ expected }" but got "{ actual }".',HTTPError:"HTTP Error: { statusCode } { statusMessage }",RemoteUrlParseError:'Cannot parse remote URL: "{ url }"',UnknownTransportError:'Git remote "{ url }" uses an unrecognized transport protocol: "{ transport }"',AcquireLockFileFail:'Unable to acquire lockfile "{ filename }". Exhausted tries.',DoubleReleaseLockFileFail:'Cannot double-release lockfile "{ filename }".',InternalFail:"An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: { message }",UnknownOauth2Format:"I do not know how { company } expects its Basic Auth headers to be formatted for OAuth2 usage. If you do, you can use the regular username and password parameters to set the basic auth header yourself.",MissingPasswordTokenError:"Missing password or token",MissingUsernameError:"Missing username",MixPasswordTokenError:'Cannot mix "password" with "token"',MixUsernamePasswordTokenError:'Cannot mix "username" and "password" with "token"',MissingTokenError:"Missing token",MixUsernameOauth2formatMissingTokenError:'Cannot mix "username" with "oauth2format". Missing token.',MixPasswordOauth2formatMissingTokenError:'Cannot mix "password" with "oauth2format". Missing token.',MixUsernamePasswordOauth2formatMissingTokenError:'Cannot mix "username" and "password" with "oauth2format". Missing token.',MixUsernameOauth2formatTokenError:'Cannot mix "username" with "oauth2format" and "token"',MixPasswordOauth2formatTokenError:'Cannot mix "password" with "oauth2format" and "token"',MixUsernamePasswordOauth2formatTokenError:'Cannot mix "username" and "password" with "oauth2format" and "token"',MaxSearchDepthExceeded:"Maximum search depth of { depth } exceeded.",PushRejectedNonFastForward:'Push rejected because it was not a simple fast-forward. Use "force: true" to override.',PushRejectedTagExists:'Push rejected because tag already exists. Use "force: true" to override.',PushRejectedNoCommonAncestry:"Push rejected because no common ancestor was found.",MergeNoCommonAncestryError:"Merge failed because no common ancestor was found between { theirRef } and { ourRef }.",AddingRemoteWouldOverwrite:'Adding remote { remote } would overwrite the existing remote. Use "force: true" to override.',PluginUndefined:'A command required the "{ plugin }" plugin but it was undefined.',CoreNotFound:'No plugin core with the name "{ core }" is registered.',PluginSchemaViolation:'Schema check failed for "{ plugin }" plugin; missing { method } method.',PluginUnrecognized:'Unrecognized plugin type "{ plugin }"',AmbiguousShortOid:'Found multiple oids matching "{ short }" ({ matches }). Use a longer abbreviation length to disambiguate them.',ShortOidNotFound:'Could not find an object matching "{ short }".',CheckoutConflictError:"Your local changes to the following files would be overwritten by checkout: { filepaths }",NoteAlreadyExistsError:"A note object { note } already exists on object { oid }. Use 'force: true' parameter to overwrite existing notes."},Ul={FileReadError:"FileReadError",MissingRequiredParameterError:"MissingRequiredParameterError",InvalidRefNameError:"InvalidRefNameError",InvalidParameterCombinationError:"InvalidParameterCombinationError",RefExistsError:"RefExistsError",RefNotExistsError:"RefNotExistsError",BranchDeleteError:"BranchDeleteError",NoHeadCommitError:"NoHeadCommitError",CommitNotFetchedError:"CommitNotFetchedError",CommitUnmergedConflictsFail:"CommitUnmergedConflictsFail",ObjectTypeUnknownFail:"ObjectTypeUnknownFail",ObjectTypeAssertionFail:"ObjectTypeAssertionFail",ObjectTypeAssertionInTreeFail:"ObjectTypeAssertionInTreeFail",ObjectTypeAssertionInRefFail:"ObjectTypeAssertionInRefFail",ObjectTypeAssertionInPathFail:"ObjectTypeAssertionInPathFail",MissingAuthorError:"MissingAuthorError",MissingCommitterError:"MissingCommitterError",MissingTaggerError:"MissingTaggerError",GitRootNotFoundError:"GitRootNotFoundError",UnparseableServerResponseFail:"UnparseableServerResponseFail",InvalidDepthParameterError:"InvalidDepthParameterError",RemoteDoesNotSupportShallowFail:"RemoteDoesNotSupportShallowFail",RemoteDoesNotSupportDeepenSinceFail:"RemoteDoesNotSupportDeepenSinceFail",RemoteDoesNotSupportDeepenNotFail:"RemoteDoesNotSupportDeepenNotFail",RemoteDoesNotSupportDeepenRelativeFail:"RemoteDoesNotSupportDeepenRelativeFail",RemoteDoesNotSupportSmartHTTP:"RemoteDoesNotSupportSmartHTTP",CorruptShallowOidFail:"CorruptShallowOidFail",FastForwardFail:"FastForwardFail",DirectorySeparatorsError:"DirectorySeparatorsError",ResolveTreeError:"ResolveTreeError",ResolveCommitError:"ResolveCommitError",DirectoryIsAFileError:"DirectoryIsAFileError",TreeOrBlobNotFoundError:"TreeOrBlobNotFoundError",NotImplementedFail:"NotImplementedFail",ReadObjectFail:"ReadObjectFail",NotAnOidFail:"NotAnOidFail",NoRefspecConfiguredError:"NoRefspecConfiguredError",MismatchRefValueError:"MismatchRefValueError",ResolveRefError:"ResolveRefError",ExpandRefError:"ExpandRefError",EmptyServerResponseFail:"EmptyServerResponseFail",AssertServerResponseFail:"AssertServerResponseFail",HTTPError:"HTTPError",RemoteUrlParseError:"RemoteUrlParseError",UnknownTransportError:"UnknownTransportError",AcquireLockFileFail:"AcquireLockFileFail",DoubleReleaseLockFileFail:"DoubleReleaseLockFileFail",InternalFail:"InternalFail",UnknownOauth2Format:"UnknownOauth2Format",MissingPasswordTokenError:"MissingPasswordTokenError",MissingUsernameError:"MissingUsernameError",MixPasswordTokenError:"MixPasswordTokenError",MixUsernamePasswordTokenError:"MixUsernamePasswordTokenError",MissingTokenError:"MissingTokenError",MixUsernameOauth2formatMissingTokenError:"MixUsernameOauth2formatMissingTokenError",MixPasswordOauth2formatMissingTokenError:"MixPasswordOauth2formatMissingTokenError",MixUsernamePasswordOauth2formatMissingTokenError:"MixUsernamePasswordOauth2formatMissingTokenError",MixUsernameOauth2formatTokenError:"MixUsernameOauth2formatTokenError",MixPasswordOauth2formatTokenError:"MixPasswordOauth2formatTokenError",MixUsernamePasswordOauth2formatTokenError:"MixUsernamePasswordOauth2formatTokenError",MaxSearchDepthExceeded:"MaxSearchDepthExceeded",PushRejectedNonFastForward:"PushRejectedNonFastForward",PushRejectedTagExists:"PushRejectedTagExists",PushRejectedNoCommonAncestry:"PushRejectedNoCommonAncestry",MergeNoCommonAncestryError:"MergeNoCommonAncestryError",AddingRemoteWouldOverwrite:"AddingRemoteWouldOverwrite",PluginUndefined:"PluginUndefined",CoreNotFound:"CoreNotFound",PluginSchemaViolation:"PluginSchemaViolation",PluginUnrecognized:"PluginUnrecognized",AmbiguousShortOid:"AmbiguousShortOid",ShortOidNotFound:"ShortOidNotFound",CheckoutConflictError:"CheckoutConflictError",NoteAlreadyExistsError:"NoteAlreadyExistsError"};var $l=function(e){c(r,e);var t=b(r);function r(e,i){var a;return n(this,r),(a=t.call(this)).name=e,a.code=e,a.data=i,a.message=function(e,t){for(var r=e,n=0,i=Object.keys(t);n<i.length;n++){var a=i[n],o=void 0;o=Array.isArray(t[a])?t[a].join(", "):String(t[a]),r=r.replace(new RegExp("{ ".concat(a," }"),"g"),o)}return r}(Dl[e],i||{}),Error.captureStackTrace&&Error.captureStackTrace(p(a),a.constructor),a}return a(r,[{key:"toJSON",value:function(){return{code:this.code,data:this.data,caller:this.caller,message:this.message}}},{key:"toString",value:function(){return this.stack.toString()}}]),r}(v(Error));function Nl(e,t){switch(e){case"github":return{username:t,password:"x-oauth-basic"};case"githubapp":return{username:"x-access-token",password:t};case"bitbucket":return{username:"x-token-auth",password:t};case"gitlab":return{username:"oauth2",password:t};default:throw new $l(Ul.UnknownOauth2Format,{company:e})}}function Gl(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function Wl(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return-1===t?".":0===t?"/":e.slice(0,t)}function Hl(e){return e.replace(/\/\.\//g,"/").replace(/\/{2,}/g,"/").replace(/^\/\.$/,"/").replace(/^\.\/$/,".").replace(/^\.\//,"").replace(/\/\.$/,"").replace(/(.+)\/$/,"$1").replace(/^$/,".")}function Vl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Hl(t.map(Hl).join("/"))}var Kl=function(){function e(){n(this,e)}var t;return a(e,null,[{key:"isIgnored",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.dir,void 0===t.gitdir&&Vl(n,".git"),"."!==(i=t.filepath)){e.next=3;break}return e.abrupt("return",!1);case 3:if(".git"!==Gl(i)){e.next=5;break}return e.abrupt("return",!0);case 5:for(a=[{gitignore:Vl(n,".gitignore"),filepath:i}],o=i.split("/"),u=1;u<o.length;u++)s=o.slice(0,u).join("/"),c=o.slice(u).join("/"),a.push({gitignore:Vl(n,s,".gitignore"),filepath:c});f=!1,l=0,h=a;case 10:if(!(l<h.length)){e.next=31;break}return d=h[l],m=void 0,e.prev=13,e.next=16,r.read(d.gitignore,"utf8");case 16:m=e.sent,e.next=23;break;case 19:if(e.prev=19,e.t0=e.catch(13),"NOENT"!==e.t0.code){e.next=23;break}return e.abrupt("continue",28);case 23:if(v=Nu().add(m),"."===(p=Wl(d.filepath))||!v.ignores(p)){e.next=27;break}return e.abrupt("return",!0);case 27:f=f?!v.test(d.filepath).unignored:v.test(d.filepath).ignored;case 28:l++,e.next=10;break;case 31:return e.abrupt("return",f);case 32:case"end":return e.stop()}}),e,null,[[13,19]])}))),function(e){return t.apply(this,arguments)})}]),e}(),ql=function(){function e(t){n(this,e),this.buffer=t,this._start=0}return a(e,[{key:"eof",value:function(){return this._start>=this.buffer.length}},{key:"tell",value:function(){return this._start}},{key:"seek",value:function(e){this._start=e}},{key:"slice",value:function(e){var t=this.buffer.slice(this._start,this._start+e);return this._start+=e,t}},{key:"toString",value:function(e,t){var r=this.buffer.toString(e,this._start,this._start+t);return this._start+=t,r}},{key:"write",value:function(e,t,r){var n=this.buffer.write(e,this._start,t,r);return this._start+=t,n}},{key:"readUInt8",value:function(){var e=this.buffer.readUInt8(this._start);return this._start+=1,e}},{key:"writeUInt8",value:function(e){var t=this.buffer.writeUInt8(e,this._start);return this._start+=1,t}},{key:"readUInt16BE",value:function(){var e=this.buffer.readUInt16BE(this._start);return this._start+=2,e}},{key:"writeUInt16BE",value:function(e){var t=this.buffer.writeUInt16BE(e,this._start);return this._start+=2,t}},{key:"readUInt32BE",value:function(){var e=this.buffer.readUInt32BE(this._start);return this._start+=4,e}},{key:"writeUInt32BE",value:function(e){var t=this.buffer.writeUInt32BE(e,this._start);return this._start+=4,t}}]),e}();function Zl(e,t){return-(e<t)||+(e>t)}function Yl(e,t){return Zl(e.path,t.path)}function Jl(e){var t=e>0?e>>12:0;4!==t&&8!==t&&10!==t&&14!==t&&(t=8);var r=511&e;return r=73&r?493:420,8!==t&&(r=0),(t<<12)+r}var Ql=Math.pow(2,32);function Xl(e,t,r,n){if(void 0!==e&&void 0!==t)return[e,t];void 0===r&&(r=n.valueOf());var i=Math.floor(r/1e3);return[i,1e6*(r-1e3*i)]}function eh(e){var t=k(Xl(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),2),r=t[0],n=t[1],i=k(Xl(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime),2),a=i[0],o=i[1];return{ctimeSeconds:r%Ql,ctimeNanoseconds:n%Ql,mtimeSeconds:a%Ql,mtimeNanoseconds:o%Ql,dev:e.dev%Ql,ino:e.ino%Ql,mode:Jl(e.mode%Ql),uid:e.uid%Ql,gid:e.gid%Ql,size:e.size>-1?e.size%Ql:0}}function th(e){var t,r="",n=A(new Uint8Array(e));try{for(n.s();!(t=n.n()).done;){var i=t.value;i<16&&(r+="0"),r+=i.toString(16)}}catch(e){n.e(e)}finally{n.f()}return r}var rh=null;function nh(e){return ih.apply(this,arguments)}function ih(){return(ih=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==rh){e.next=4;break}return e.next=3,sh();case 3:rh=e.sent;case 4:return e.abrupt("return",rh?oh(t):ah(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(e){return(new Ps).update(e).digest("hex")}function oh(e){return uh.apply(this,arguments)}function uh(){return(uh=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-1",t);case 2:return r=e.sent,e.abrupt("return",th(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(){return ch.apply(this,arguments)}function ch(){return(ch=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oh(new Uint8Array([]));case 3:if("da39a3ee5e6b4b0d3255bfef95601890afd80709"!==e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function fh(e){var t=e.flags;return t.extended=!1,t.nameLength=Math.min(wa.from(e.path).length,4095),(t.assumeValid?32768:0)+(t.extended?16384:0)+((3&t.stage)<<12)+(4095&t.nameLength)}var lh=function(){function e(t){n(this,e),this._dirty=!1,this._entries=t||new Map}var t,i;return a(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A(this.entries),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"insert",value:function(t){var r=t.filepath,n=t.stats,i=t.oid,a=t.stage,o=void 0===a?0:a;n=eh(n);var u=e.key(r,o),s=wa.from(r),c={ctimeSeconds:n.ctimeSeconds,ctimeNanoseconds:n.ctimeNanoseconds,mtimeSeconds:n.mtimeSeconds,mtimeNanoseconds:n.mtimeNanoseconds,dev:n.dev,ino:n.ino,mode:n.mode||33188,uid:n.uid,gid:n.gid,size:n.size,path:r,key:u,oid:i,flags:{assumeValid:!1,extended:!1,stage:o,nameLength:s.length<4095?s.length:4095}};this._entries.set(u,c),this._dirty=!0}},{key:"writeConflict",value:function(e){var t=e.filepath,r=e.stats,n=e.ourOid,i=e.theirOid,a=e.baseOid;a&&this.insert({filepath:t,stats:r,oid:a,stage:1}),this.insert({filepath:t,stats:r,oid:n,stage:2}),this.insert({filepath:t,stats:r,oid:i,stage:3})}},{key:"delete",value:function(e){var t,r=e.filepath,n=A(this._entries.entries());try{for(n.s();!(t=n.n()).done;){var i=k(t.value,2),a=i[0],o=i[1];(o.path===r||o.path.startsWith(r+"/"))&&this._entries.delete(a)}}catch(e){n.e(e)}finally{n.f()}this._dirty=!0}},{key:"clear",value:function(){this._entries.clear(),this._dirty=!0}},{key:"render",value:function(){return this.entries.map((function(e){return"".concat(e.mode.toString(8)," ").concat(e.oid,"    ").concat(e.path)})).join("\n")}},{key:"toObject",value:function(){var e=r(regeneratorRuntime.mark((function e(){var t,r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wa.alloc(12),(r=new ql(t)).write("DIRC",4,"utf8"),r.writeUInt32BE(2),r.writeUInt32BE(this.entries.length),n=wa.concat(this.entries.map((function(e){var t=wa.from(e.path),r=8*Math.ceil((62+t.length+1)/8),n=wa.alloc(r),i=new ql(n),a=eh(e);return i.writeUInt32BE(a.ctimeSeconds),i.writeUInt32BE(a.ctimeNanoseconds),i.writeUInt32BE(a.mtimeSeconds),i.writeUInt32BE(a.mtimeNanoseconds),i.writeUInt32BE(a.dev),i.writeUInt32BE(a.ino),i.writeUInt32BE(a.mode),i.writeUInt32BE(a.uid),i.writeUInt32BE(a.gid),i.writeUInt32BE(a.size),i.write(e.oid,20,"hex"),i.writeUInt16BE(fh(e)),i.write(e.path,t.length,"utf8"),n}))),i=wa.concat([t,n]),e.next=9,nh(i);case 9:return a=e.sent,e.abrupt("return",wa.concat([i,wa.from(a,"hex")]));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"entries",get:function(){return y(this._entries.values()).sort(Yl)}},{key:"entriesMap",get:function(){return this._entries}},{key:"conflictedPaths",get:function(){return y(this._entries.keys()).filter((function(e){return"2"===e.charAt(e.length-1)})).map((function(e){return e.slice(0,-1)}))}}],[{key:"from",value:(i=r(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!to(r)){t.next=4;break}return t.abrupt("return",e.fromBuffer(r));case 4:if(null!==r){t.next=8;break}return t.abrupt("return",new e(null));case 8:throw new $l(Ul.InternalFail,{message:"invalid type passed to GitIndex.from"});case 9:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)})},{key:"fromBuffer",value:(t=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nh(r.slice(0,-20));case 2:if(n=t.sent,(i=r.slice(-20).toString("hex"))===n){t.next=6;break}throw new $l(Ul.InternalFail,{message:"Invalid checksum in GitIndex buffer: expected ".concat(i," but saw ").concat(n)});case 6:if(a=new ql(r),o=new Map,"DIRC"===(u=a.toString("utf8",4))){t.next=11;break}throw new $l(Ul.InternalFail,{message:"Inavlid dircache magic file number: ".concat(u)});case 11:if(2===(s=a.readUInt32BE())){t.next=14;break}throw new $l(Ul.InternalFail,{message:"Unsupported dircache version: ".concat(s)});case 14:c=a.readUInt32BE(),f=0;case 16:if(a.eof()||!(f<c)){t.next=52;break}if((l={}).ctimeSeconds=a.readUInt32BE(),l.ctimeNanoseconds=a.readUInt32BE(),l.mtimeSeconds=a.readUInt32BE(),l.mtimeNanoseconds=a.readUInt32BE(),l.dev=a.readUInt32BE(),l.ino=a.readUInt32BE(),l.mode=a.readUInt32BE(),l.uid=a.readUInt32BE(),l.gid=a.readUInt32BE(),l.size=a.readUInt32BE(),l.oid=a.slice(20).toString("hex"),h=a.readUInt16BE(),l.flags=(p=h,{assumeValid:Boolean(32768&p),extended:Boolean(16384&p),stage:(12288&p)>>12,nameLength:4095&p}),!((d=r.indexOf(0,a.tell()+1)-a.tell())<1)){t.next=34;break}throw new $l(Ul.InternalFail,{message:"Got a path length of: ".concat(d)});case 34:l.path=a.toString("utf8",d),l.key=e.key(l.path,l.flags.stage),0==(m=8-(a.tell()-12)%8)&&(m=8);case 38:if(!m--){t.next=48;break}if(0===(v=a.readUInt8())){t.next=44;break}throw new $l(Ul.InternalFail,{message:"Expected 1-8 null characters but got '".concat(v,"' after ").concat(l.path)});case 44:if(!a.eof()){t.next=46;break}throw new $l(Ul.InternalFail,{message:"Unexpected end of file"});case 46:t.next=38;break;case 48:o.set(l.key,l),f++,t.next=16;break;case 52:return t.abrupt("return",new e(o));case 53:case"end":return t.stop()}var p}),t)}))),function(e){return t.apply(this,arguments)})},{key:"key",value:function(e,t){return e+t}}]),e}(),hh=function(e,t){var r,n=A(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.has(i)||t.set(i,new Map),t=t.get(i)}}catch(e){n.e(e)}finally{n.f()}return t},dh=function(){function e(){n(this,e),this._root=new Map}return a(e,[{key:"set",value:function(e,t){var r=e.pop();hh(e,this._root).set(r,t)}},{key:"get",value:function(e){var t=e.pop();return hh(e,this._root).get(t)}},{key:"has",value:function(e){var t=e.pop();return hh(e,this._root).has(t)}}]),e}(),mh=null;function vh(){if(null===mh)try{mh=yu&&yu.env&&yu.env.DEBUG&&("*"===yu.env.DEBUG||"isomorphic-git"===yu.env.DEBUG)||"undefined"!=typeof window&&void 0!==window.localStorage&&("*"===window.localStorage.debug||"isomorphic-git"===window.localStorage.debug)}catch(e){mh=!1}var e;mh&&(e=console).log.apply(e,arguments)}function ph(e,t){var r=eh(e),n=eh(t),i=r.mode!==n.mode||r.mtimeSeconds!==n.mtimeSeconds||r.ctimeSeconds!==n.ctimeSeconds||r.uid!==n.uid||r.gid!==n.gid||r.ino!==n.ino||r.size!==n.size;return i&&vh.enabled&&console.table([gh(r),gh(n)]),i}function gh(e){return{mode:e.mode,mtimeSeconds:e.mtimeSeconds,ctimeSeconds:e.ctimeSeconds,uid:e.uid,gid:e.gid,ino:e.ino,size:e.size}}function bh(e){var t=new Map,r=function e(r){if(!t.has(r)){var n={type:"tree",fullpath:r,basename:Gl(r),metadata:{},children:[]};t.set(r,n),n.parent=e(Wl(r)),n.parent&&n.parent!==n&&n.parent.children.push(n)}return t.get(r)},n=function(e,n){if(!t.has(e)){var i={type:"blob",fullpath:e,basename:Gl(e),metadata:n,parent:r(Wl(e)),children:[]};i.parent&&i.parent.children.push(i),t.set(e,i)}return t.get(e)};r(".");var i,a=A(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;n(o.path,o)}}catch(e){a.e(e)}finally{a.f()}return t}function wh(e,t){return Zl(kh(e),kh(t))}function kh(e){return"040000"===e.mode?e.path+"/":e.path}function yh(e){switch(e){case"040000":return"tree";case"100644":case"100755":case"120000":return"blob";case"160000":return"commit"}throw new $l(Ul.InternalFail,{message:"Unexpected GitTree entry mode: ".concat(e)})}function Rh(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=function(e){if("number"==typeof e&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new $l(Ul.InternalFail,{message:"Could not understand file mode: ".concat(e)})}(e.mode),e.type||(e.type=yh(e.mode)),e}var xh=function(){function e(t){if(n(this,e),to(t))this._entries=function(e){for(var t=[],r=0;r<e.length;){var n=e.indexOf(32,r);if(-1===n)throw new $l(Ul.InternalFail,{message:"GitTree: Error parsing buffer at byte location ".concat(r,": Could not find the next space character.")});var i=e.indexOf(0,r);if(-1===i)throw new $l(Ul.InternalFail,{message:"GitTree: Error parsing buffer at byte location ".concat(r,": Could not find the next null character.")});var a=e.slice(r,n).toString("utf8");"40000"===a&&(a="040000");var o=yh(a),u=e.slice(n+1,i).toString("utf8"),s=e.slice(i+1,i+21).toString("hex");r=i+21,t.push({mode:a,path:u,oid:s,type:o})}return t}(t);else{if(!Array.isArray(t))throw new $l(Ul.InternalFail,{message:"invalid type passed to GitTree constructor"});this._entries=t.map(Rh)}this._entries.sort(Yl)}return a(e,[{key:"render",value:function(){return this._entries.map((function(e){return"".concat(e.mode," ").concat(e.type," ").concat(e.oid,"    ").concat(e.path)})).join("\n")}},{key:"toObject",value:function(){var e=y(this._entries);return e.sort(wh),wa.concat(e.map((function(e){var t=wa.from(e.mode.replace(/^0/,"")),r=wa.from(" "),n=wa.from(e.path,"utf8"),i=wa.from([0]),a=wa.from(e.oid,"hex");return wa.concat([t,r,n,i,a])})))}},{key:"entries",value:function(){return this._entries}},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A(this._entries),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}],[{key:"from",value:function(t){return new e(t)}}]),e}(),Ah=function(){function e(){n(this,e)}return a(e,null,[{key:"wrap",value:function(e){var t=e.type,r=e.object,n="string"==typeof r?wa.from(r,"utf8"):wa.from(r);return wa.concat([wa.from("".concat(t," ").concat(n.byteLength.toString(),"\0")),n])}},{key:"unwrap",value:function(e){var t=e.indexOf(32),r=e.indexOf(0),n=e.slice(0,t).toString("utf8"),i=e.slice(t+1,r).toString("utf8"),a=e.length-(r+1);if(parseInt(i)!==a)throw new $l(Ul.InternalFail,{message:"Length mismatch: expected ".concat(i," bytes but got ").concat(a," instead.")});return{type:n,object:wa.from(e.slice(r+1))}}}]),e}();function Sh(e){return Ch.apply(this,arguments)}function Ch(){return(Ch=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,t.type,i=t.object,a=t.format,o=t.oid,"deflated"===a){e.next=3;break}throw new $l(Ul.InternalFail,{message:"GitObjectStoreLoose expects objects to write to be in deflated format"});case 3:return u="objects/".concat(o.slice(0,2),"/").concat(o.slice(2)),s="".concat(n,"/").concat(u),e.next=7,r.exists(s);case 7:if(e.sent){e.next=10;break}return e.next=10,r.write(s,i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Th=null;function _h(e){return Eh.apply(this,arguments)}function Eh(){return(Eh=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===Th&&(Th=zh()),e.abrupt("return",Th?Ih(t):Sf.deflate(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ih(e){return jh.apply(this,arguments)}function jh(){return(jh=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new CompressionStream("deflate"),n=new Blob([t]).stream().pipeThrough(r),e.t0=Uint8Array,e.next=5,new Response(n).arrayBuffer();case 5:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zh(){try{if(new CompressionStream("deflate"))return!0}catch(e){}return!1}function Oh(e){return Fh.apply(this,arguments)}function Fh(){return(Fh=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,i=t.type,a=t.object,o=t.format,u=void 0===o?"content":o,s=t.oid,c=void 0===s?void 0:s,f=t.dryRun,l=void 0!==f&&f,"deflated"===u){e.next=11;break}return"wrapped"!==u&&(a=Ah.wrap({type:i,object:a})),e.next=5,nh(a);case 5:return c=e.sent,e.t0=wa,e.next=9,_h(a);case 9:e.t1=e.sent,a=e.t0.from.call(e.t0,e.t1);case 11:if(l){e.next=14;break}return e.next=14,Sh({fs:r,gitdir:n,object:a,format:"deflated",oid:c});case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ph=new dh,Mh=new dh,Lh=null;function Bh(e,t){return Dh.apply(this,arguments)}function Dh(){return(Dh=r(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.lstat(r);case 2:return n=e.sent,e.next=5,t.read(r);case 5:return i=e.sent,e.next=8,lh.from(i);case 8:a=e.sent,Ph.set([t,r],a),Mh.set([t,r],n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(e,t){return $h.apply(this,arguments)}function $h(){return($h=r(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=Mh.get([t,r]))){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,t.lstat(r);case 5:if(i=e.sent,null!==n){e.next=8;break}return e.abrupt("return",!1);case 8:if(null!==i){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",ph(n,i));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nh=function(){function e(){n(this,e)}var t,i;return a(e,null,[{key:"acquire",value:(i=r(regeneratorRuntime.mark((function e(t,n){var i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fs,a=t.gitdir,o="".concat(a,"/index"),null===Lh&&(Lh=new Hu({maxPending:1/0})),e.next=5,Lh.acquire(o,r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(i,o);case 2:if(!e.sent){e.next=5;break}return e.next=5,Bh(i,o);case 5:return t=Ph.get([i,o]),e.next=8,n(t);case 8:if(u=e.sent,!t._dirty){e.next=22;break}return e.next=12,t.toObject();case 12:return r=e.sent,e.next=15,i.write(o,r);case 15:return e.t0=Mh,e.t1=[i,o],e.next=19,i.lstat(o);case 19:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2),t._dirty=!1;case 22:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"constructTree",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.dryRun,a=t.index,o=bh(a.entries),u=o.get("."),e.next=5,Gh({fs:r,gitdir:n,inode:u,dryRun:i});case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function Gh(e){return Wh.apply(this,arguments)}function Wh(){return(Wh=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.gitdir,i=t.inode,a=t.dryRun,o=i.children,u=A(o),e.prev=3,u.s();case 5:if((s=u.n()).done){e.next=14;break}if("tree"!==(c=s.value).type){e.next=12;break}return c.metadata.mode="040000",e.next=11,Gh({fs:r,gitdir:n,inode:c,dryRun:a});case 11:c.metadata.oid=e.sent;case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),u.e(e.t0);case 19:return e.prev=19,u.f(),e.finish(19);case 22:return f=o.map((function(e){return{mode:e.metadata.mode,path:e.basename,oid:e.metadata.oid,type:e.type}})),l=xh.from(f),e.next=26,Oh({fs:r,gitdir:n,type:"tree",object:l.toObject(),dryRun:a});case 26:return h=e.sent,e.abrupt("return",h);case 28:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))).apply(this,arguments)}var Hh=new(function(e){c(r,e);var t=b(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"set",value:function(e,t){!function(e,t){"fs"===e&&Object.getOwnPropertyDescriptor(t,"promises")&&Object.getOwnPropertyDescriptor(t,"promises").enumerable&&(t=t.promises);var r={credentialManager:["fill","approved","rejected"],emitter:["emit"],fs:["lstat","mkdir","readdir","read","rm","write"],pgp:["sign","verify"],http:[],iterate:[]};if(!Object.prototype.hasOwnProperty.call(r,e))throw new $l(Ul.PluginUnrecognized,{plugin:e});var n,i=A(r[e]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(void 0===t[a])throw new $l(Ul.PluginSchemaViolation,{plugin:e,method:a})}}catch(e){i.e(e)}finally{i.f()}}(e,t),w(f(r.prototype),"set",this).call(this,e,t)}},{key:"get",value:function(e){var t=new Set(["credentialManager","fs","pgp"]);if(!w(f(r.prototype),"has",this).call(this,e)&&t.has(e))throw new $l(Ul.PluginUndefined,{plugin:e});return w(f(r.prototype),"get",this).call(this,e)}}]),r}(v(Map))),Vh=new Map([["default",Hh]]),Kh={get:function(e){if(Vh.has(e))return Vh.get(e);throw new $l(Ul.CoreNotFound,{core:e})},create:function(e){return Vh.has(e)?Vh.get(e):(Vh.set(e,new Map),Vh.get(e))}};function qh(){return(qh=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.filepath,e.prev=1,v=[],e.next=5,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zh({dir:a,gitdir:u,fs:c,filepath:m,index:t,added:v});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(!l){e.next=8;break}return e.next=8,l.emit("".concat(d,"add"),{filepath:m,added:v});case 8:return e.abrupt("return",v);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.caller="git.add",e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Zh(e){return Yh.apply(this,arguments)}function Yh(){return(Yh=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dir,n=t.gitdir,i=t.fs,a=t.filepath,o=t.index,u=t.added,s=o.entriesMap.get(lh.key(a,0))||o.entriesMap.get(lh.key(a,2))){e.next=8;break}return e.next=5,Kl.isIgnored({fs:i,dir:r,gitdir:n,filepath:a});case 5:if(!e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,i.lstat(Vl(r,a));case 10:if(c=e.sent){e.next=13;break}throw new $l(Ul.FileReadError,{filepath:a});case 13:if(!c.isDirectory()){e.next=22;break}return e.next=16,i.readdir(Vl(r,a));case 16:return f=e.sent,l=f.map((function(e){return Zh({dir:r,gitdir:n,fs:i,filepath:Vl(a,e),index:o,added:u})})),e.next=20,Promise.all(l);case 20:e.next=40;break;case 22:if(!c.isSymbolicLink()){e.next=28;break}return e.next=25,i.readlink(Vl(r,a));case 25:e.t0=e.sent,e.next=31;break;case 28:return e.next=30,i.read(Vl(r,a));case 30:e.t0=e.sent;case 31:if(null!==(h=e.t0)){e.next=34;break}throw new $l(Ul.FileReadError,{filepath:a});case 34:return e.next=36,Oh({fs:i,gitdir:n,type:"blob",object:h});case 36:d=e.sent,s&&o.delete({filepath:a}),o.insert({filepath:a,stats:c,oid:d}),u.push({filepath:a,oid:d});case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jh=function(){function e(t){var r=this;if(n(this,e),this.refs=new Map,this.parsedConfig=[],t){var i=null;this.parsedConfig=t.trim().split("\n").map((function(e){if(/^\s*#/.test(e))return{line:e,comment:!0};var t=e.indexOf(" ");if(e.startsWith("^")){var n=e.slice(1);return r.refs.set(i+"^{}",n),{line:e,ref:i,peeled:n}}var a=e.slice(0,t);return i=e.slice(t+1),r.refs.set(i,a),{line:e,ref:i,oid:a}}))}return this}return a(e,[{key:"delete",value:function(e){this.parsedConfig=this.parsedConfig.filter((function(t){return t.ref!==e})),this.refs.delete(e)}},{key:"toString",value:function(){return this.parsedConfig.map((function(e){return e.line})).join("\n")+"\n"}}],[{key:"from",value:function(t){return new e(t)}}]),e}(),Qh=function(){function e(t){var r=t.remotePath,i=t.localPath,a=t.force,o=t.matchPrefix;n(this,e),Object.assign(this,{remotePath:r,localPath:i,force:a,matchPrefix:o})}return a(e,[{key:"translate",value:function(e){if(this.matchPrefix){if(e.startsWith(this.remotePath))return this.localPath+e.replace(this.remotePath,"")}else if(e===this.remotePath)return this.localPath;return null}},{key:"reverseTranslate",value:function(e){if(this.matchPrefix){if(e.startsWith(this.localPath))return this.remotePath+e.replace(this.localPath,"")}else if(e===this.localPath)return this.remotePath;return null}}],[{key:"from",value:function(t){var r=k(t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),5),n=r[0],i=r[1],a=r[2],o=r[3],u="+"===n,s="*"===a;if(s!==("*"===r[4]))throw new $l(Ul.InternalFail,{message:"Invalid refspec"});return new e({remotePath:i,localPath:o,force:u,matchPrefix:s})}}]),e}(),Xh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(this,e),this.rules=t}return a(e,[{key:"add",value:function(e){var t=Qh.from(e);this.rules.push(t)}},{key:"translate",value:function(e){var t,r=[],n=A(this.rules);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=A(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=a.translate(u);s&&r.push([u,s])}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"translateOne",value:function(e){var t,r=null,n=A(this.rules);try{for(n.s();!(t=n.n()).done;){var i=t.value.translate(e);i&&(r=i)}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"localNamespaces",value:function(){return this.rules.filter((function(e){return e.matchPrefix})).map((function(e){return e.localPath.replace(/\/$/,"")}))}}],[{key:"from",value:function(t){var r,n=[],i=A(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qh.from(a))}}catch(e){i.e(e)}finally{i.f()}return new e(n)}}]),e}();function ed(e,t){var r=e.replace(/\^\{\}$/,""),n=t.replace(/\^\{\}$/,""),i=-(r<n)||+(r>n);return 0===i?e.endsWith("^{}")?1:-1:i}var td=function(e){if("true"===(e=e.trim().toLowerCase())||"yes"===e||"on"===e)return!0;if("false"===e||"no"===e||"off"===e)return!1;throw Error("Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ".concat(e))},rd={core:{filemode:td,bare:td,logallrefupdates:td,symlinks:td,ignorecase:td,bigFileThreshold:function(e){e=e.toLowerCase();var t=parseInt(e);return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1048576),e.endsWith("g")&&(t*=1073741824),t}},"isomorphic-git":{autoTranslateSSH:td}},nd=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,id=/^[A-Za-z0-9-.]+$/,ad=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,od=/^[A-Za-z][A-Za-z-]*$/,ud=/^(.*?)( *[#;].*)$/,sd=function(e){var t=ud.exec(e);if(null==t)return e;var r=k(t.slice(1),2),n=r[0],i=r[1];return cd(n)&&cd(i)?"".concat(n).concat(i):n},cd=function(e){return(e.match(/(?:^|[^\\])"/g)||[]).length%2!=0},fd=function(e){return e.split("").reduce((function(e,t,r,n){var i='"'===t&&"\\"!==n[r-1],a="\\"===t&&'"'===n[r+1];return i||a?e:e+t}),"")},ld=function(e){return null!=e?e.toLowerCase():null},hd=function(e,t,r){return[ld(e),t,ld(r)].filter((function(e){return null!=e})).join(".")},dd=function(e,t){return e.reduce((function(e,r,n){return t(r)?n:e}),-1)},md=function(){function e(t){n(this,e);var r=null,i=null;this.parsedConfig=t.split("\n").map((function(e){var t=null,n=null,a=e.trim(),o=function(e){var t=nd.exec(e);if(null!=t){var r=k(t.slice(1),2);return[r[0],r[1]]}return null}(a),u=null!=o;if(u){var s=k(o,2);r=s[0],i=s[1]}else{var c=function(e){var t=ad.exec(e);if(null!=t){var r=k(t.slice(1),2),n=r[0],i=r[1],a=sd(void 0===i?"true":i);return[n,fd(a)]}return null}(a);if(null!=c){var f=k(c,2);t=f[0],n=f[1]}}var l=hd(r,i,t);return{line:e,isSection:u,section:r,subsection:i,name:t,value:n,path:l}}))}var t,i,o,u,s,c;return a(e,[{key:"get",value:(c=r(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],n=this.parsedConfig.filter((function(e){return e.path===t.toLowerCase()})).map((function(e){var t=e.section,r=e.name,n=e.value,i=rd[t]&&rd[t][r];return i?i(n):n})),e.abrupt("return",r?n:n.pop());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getall",value:(s=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t,!0));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getSubsections",value:(u=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.parsedConfig.filter((function(e){return e.section===t&&e.isSection})).map((function(e){return e.subsection})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"deleteSection",value:(o=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.parsedConfig=this.parsedConfig.filter((function(e){return!(e.section===t&&e.subsection===r)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"append",value:(i=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.set(t,r,!0));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"set",value:(t=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l,h,d,m,v,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.length>2&&void 0!==p[2]&&p[2],i=dd(this.parsedConfig,(function(e){return e.path===t.toLowerCase()})),null==r?-1!==i&&this.parsedConfig.splice(i,1):-1!==i?(a=this.parsedConfig[i],o=Object.assign({},a,{value:r,modified:!0}),n?this.parsedConfig.splice(i+1,0,o):this.parsedConfig[i]=o):(u=t.split(".").slice(0,-1).join(".").toLowerCase(),s=this.parsedConfig.findIndex((function(e){return e.path===u})),c=u.split("."),f=k(c,2),l=f[0],h=f[1],d=t.split(".").pop(),m={section:l,subsection:h,name:d,value:r,modified:!0,path:hd(l,h,d)},id.test(l)&&od.test(d)&&(s>=0?this.parsedConfig.splice(s+1,0,m):(v={section:l,subsection:h,modified:!0,path:hd(l,h,null)},this.parsedConfig.push(v,m))));case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"toString",value:function(){return this.parsedConfig.map((function(e){var t=e.line,r=e.section,n=e.subsection,i=e.name,a=e.value,o=e.modified;return void 0!==o&&o?null!=i&&null!=a?"\t".concat(i," = ").concat(a):null!=n?"[".concat(r,' "').concat(n,'"]'):"[".concat(r,"]"):t})).join("\n")}}],[{key:"from",value:function(t){return new e(t)}}]),e}(),vd=function(){function e(){n(this,e)}var t,i;return a(e,null,[{key:"get",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,e.next=3,r.read("".concat(n,"/config"),{encoding:"utf8"});case 3:return i=e.sent,e.abrupt("return",md.from(i));case 5:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"save",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.config,e.next=3,r.write("".concat(n,"/config"),i.toString(),{encoding:"utf8"});case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),pd=function(e){return["".concat(e),"refs/".concat(e),"refs/tags/".concat(e),"refs/heads/".concat(e),"refs/remotes/".concat(e),"refs/remotes/".concat(e,"/HEAD")]},gd=["config","description","index","shallow","commondir"],bd=function(){function e(){n(this,e)}var t,i,o,u,s,c,f,l,h,d,m,v,p;return a(e,null,[{key:"updateRemoteRefs",value:(p=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K,q,Z,Y,J,Q;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.fs,i=r.gitdir,a=r.remote,o=r.refs,u=r.symrefs,s=r.tags,c=r.refspecs,f=void 0===c?void 0:c,l=r.prune,h=void 0!==l&&l,d=r.pruneTags,m=void 0!==d&&d,v=A(o.values()),t.prev=2,v.s();case 4:if((p=v.n()).done){t.next=10;break}if((g=p.value).match(/[0-9a-f]{40}/)){t.next=8;break}throw new $l(Ul.NotAnOidFail,{value:g});case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),v.e(t.t0);case 15:return t.prev=15,v.f(),t.finish(15);case 18:return t.next=20,vd.get({fs:n,gitdir:i});case 20:if(b=t.sent,f){t.next=28;break}return t.next=24,b.getall("remote.".concat(a,".fetch"));case 24:if(0!==(f=t.sent).length){t.next=27;break}throw new $l(Ul.NoRefspecConfiguredError,{remote:a});case 27:f.unshift("+HEAD:refs/remotes/".concat(a,"/HEAD"));case 28:if(w=Xh.from(f),R=new Map,!m){t.next=36;break}return t.next=33,e.listRefs({fs:n,gitdir:i,filepath:"refs/tags"});case 33:return x=t.sent,t.next=36,e.deleteRefs({fs:n,gitdir:i,refs:x.map((function(e){return"refs/tags/".concat(e)}))});case 36:if(!s){t.next=58;break}S=A(o.keys()),t.prev=38,S.s();case 40:if((C=S.n()).done){t.next=50;break}if(!(T=C.value).startsWith("refs/tags")||T.endsWith("^{}")){t.next=48;break}return t.next=45,e.exists({fs:n,gitdir:i,ref:T});case 45:if(t.sent){t.next=48;break}_=o.get(T+"^{}")||o.get(T),R.set(T,_);case 48:t.next=40;break;case 50:t.next=55;break;case 52:t.prev=52,t.t1=t.catch(38),S.e(t.t1);case 55:return t.prev=55,S.f(),t.finish(55);case 58:E=w.translate(y(o.keys())),I=A(E);try{for(I.s();!(j=I.n()).done;)z=k(j.value,2),O=z[0],F=z[1],P=o.get(O),R.set(F,P)}catch(e){I.e(e)}finally{I.f()}M=w.translate(y(u.keys())),L=A(M);try{for(L.s();!(B=L.n()).done;)D=k(B.value,2),U=D[0],$=D[1],N=u.get(U),(G=w.translateOne(N))&&R.set($,"ref: ".concat(G))}catch(e){L.e(e)}finally{L.f()}if(W=[],!h){t.next=85;break}H=A(w.localNamespaces()),t.prev=67,K=regeneratorRuntime.mark((function t(){var r,a,o,u,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=V.value,t.next=3,e.listRefs({fs:n,gitdir:i,filepath:r});case 3:a=t.sent.map((function(e){return"".concat(r,"/").concat(e)})),o=A(a);try{for(o.s();!(u=o.n()).done;)s=u.value,R.has(s)||W.push(s)}catch(e){o.e(e)}finally{o.f()}case 6:case"end":return t.stop()}}),t)})),H.s();case 70:if((V=H.n()).done){t.next=74;break}return t.delegateYield(K(),"t2",72);case 72:t.next=70;break;case 74:t.next=79;break;case 76:t.prev=76,t.t3=t.catch(67),H.e(t.t3);case 79:return t.prev=79,H.f(),t.finish(79);case 82:if(!(W.length>0)){t.next=85;break}return t.next=85,e.deleteRefs({fs:n,gitdir:i,refs:W});case 85:q=A(R),t.prev=86,q.s();case 88:if((Z=q.n()).done){t.next=94;break}return Y=k(Z.value,2),J=Y[0],Q=Y[1],t.next=92,n.write(Vl(i,J),"".concat(Q.trim(),"\n"),"utf8");case 92:t.next=88;break;case 94:t.next=99;break;case 96:t.prev=96,t.t4=t.catch(86),q.e(t.t4);case 99:return t.prev=99,q.f(),t.finish(99);case 102:return t.abrupt("return",{pruned:W});case 103:case"end":return t.stop()}}),t,null,[[2,12,15,18],[38,52,55,58],[67,76,79,82],[86,96,99,102]])}))),function(e){return p.apply(this,arguments)})},{key:"writeRef",value:(v=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,i=t.ref,(a=t.value).match(/[0-9a-f]{40}/)){e.next=3;break}throw new $l(Ul.NotAnOidFail,{value:a});case 3:return e.next=5,r.write(Vl(n,i),"".concat(a.trim(),"\n"),"utf8");case 5:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"writeSymbolicRef",value:(m=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.ref,a=t.value,e.next=3,r.write(Vl(n,i),"ref: "+"".concat(a.trim(),"\n"),"utf8");case 3:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"deleteRef",value:(d=r(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,i=r.gitdir,a=r.ref,t.abrupt("return",e.deleteRefs({fs:n,gitdir:i,refs:[a]}));case 2:case"end":return t.stop()}}),t)}))),function(e){return d.apply(this,arguments)})},{key:"deleteRefs",value:(h=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.refs,e.next=3,Promise.all(i.map((function(e){return r.rm(Vl(n,e))})));case 3:return e.next=5,r.read("".concat(n,"/packed-refs"),{encoding:"utf8"});case 5:a=e.sent,o=Jh.from(a),u=o.refs.size,s=A(i);try{for(s.s();!(c=s.n()).done;)f=c.value,o.refs.has(f)&&o.delete(f)}catch(e){s.e(e)}finally{s.f()}if(!(o.refs.size<u)){e.next=14;break}return a=o.toString(),e.next=14,r.write("".concat(n,"/packed-refs"),a,{encoding:"utf8"});case 14:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"resolve",value:(l=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,i=r.gitdir,a=r.ref,o=r.depth,void 0===(u=void 0===o?void 0:o)){t.next=5;break}if(-1!=--u){t.next=5;break}return t.abrupt("return",a);case 5:if(!a.startsWith("ref: ")){t.next=8;break}return a=a.slice("ref: ".length),t.abrupt("return",e.resolve({fs:n,gitdir:i,ref:a,depth:u}));case 8:if(40!==a.length||!/[0-9a-f]{40}/.test(a)){t.next=10;break}return t.abrupt("return",a);case 10:return t.next=12,e.packedRefs({fs:n,gitdir:i});case 12:c=t.sent,f=pd(a).filter((function(e){return!gd.includes(e)})),l=A(f),t.prev=15,l.s();case 17:if((h=l.n()).done){t.next=29;break}return d=h.value,t.next=21,n.read("".concat(i,"/").concat(d),{encoding:"utf8"});case 21:if(t.t0=t.sent,t.t0){t.next=24;break}t.t0=c.get(d);case 24:if(!(s=t.t0)){t.next=27;break}return t.abrupt("return",e.resolve({fs:n,gitdir:i,ref:s.trim(),depth:u}));case 27:t.next=17;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(15),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:throw new $l(Ul.ResolveRefError,{ref:a});case 38:case"end":return t.stop()}}),t,null,[[15,31,34,37]])}))),function(e){return l.apply(this,arguments)})},{key:"exists",value:(f=r(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,i=r.gitdir,a=r.ref,t.prev=1,t.next=4,e.expand({fs:n,gitdir:i,ref:a});case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),function(e){return f.apply(this,arguments)})},{key:"expand",value:(c=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,i=r.gitdir,40!==(a=r.ref).length||!/[0-9a-f]{40}/.test(a)){t.next=3;break}return t.abrupt("return",a);case 3:return t.next=5,e.packedRefs({fs:n,gitdir:i});case 5:o=t.sent,u=pd(a),s=A(u),t.prev=8,s.s();case 10:if((c=s.n()).done){t.next=20;break}return f=c.value,t.next=14,n.exists("".concat(i,"/").concat(f));case 14:if(!t.sent){t.next=16;break}return t.abrupt("return",f);case 16:if(!o.has(f)){t.next=18;break}return t.abrupt("return",f);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),s.e(t.t0);case 25:return t.prev=25,s.f(),t.finish(25);case 28:throw new $l(Ul.ExpandRefError,{ref:a});case 29:case"end":return t.stop()}}),t,null,[[8,22,25,28]])}))),function(e){return c.apply(this,arguments)})},{key:"expandAgainstMap",value:(s=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.ref,n=t.map,i=pd(r),a=A(i),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=13;break}return u=o.value,e.next=9,n.has(u);case 9:if(!e.sent){e.next=11;break}return e.abrupt("return",u);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:throw new $l(Ul.ExpandRefError,{ref:r});case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))),function(e){return s.apply(this,arguments)})},{key:"resolveAgainstMap",value:function(t){var r=t.ref,n=t.fullref,i=void 0===n?r:n,a=t.depth,o=void 0===a?void 0:a,u=t.map;if(void 0!==o&&-1===--o)return{fullref:i,oid:r};if(r.startsWith("ref: "))return r=r.slice("ref: ".length),e.resolveAgainstMap({ref:r,fullref:i,depth:o,map:u});if(40===r.length&&/[0-9a-f]{40}/.test(r))return{fullref:i,oid:r};var s,c=A(pd(r));try{for(c.s();!(s=c.n()).done;){var f=s.value,l=u.get(f);if(l)return e.resolveAgainstMap({ref:l.trim(),fullref:f,depth:o,map:u})}}catch(e){c.e(e)}finally{c.f()}throw new $l(Ul.ResolveRefError,{ref:r})}},{key:"packedRefs",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,e.next=3,r.read("".concat(n,"/packed-refs"),{encoding:"utf8"});case 3:return i=e.sent,a=Jh.from(i),e.abrupt("return",a.refs);case 6:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"listRefs",value:(o=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,i=r.gitdir,a=r.filepath,o=e.packedRefs({fs:n,gitdir:i}),u=null,t.prev=3,t.next=6,n.readdirDeep("".concat(i,"/").concat(a));case 6:u=(u=t.sent).map((function(e){return e.replace("".concat(i,"/").concat(a,"/"),"")})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),u=[];case 13:return t.t1=A,t.next=16,o;case 16:t.t2=t.sent.keys(),s=(0,t.t1)(t.t2);try{for(s.s();!(c=s.n()).done;)(f=c.value).startsWith(a)&&(f=f.replace(a+"/",""),u.includes(f)||u.push(f))}catch(e){s.e(e)}finally{s.f()}return u.sort(ed),t.abrupt("return",u);case 21:case"end":return t.stop()}}),t,null,[[3,10]])}))),function(e){return o.apply(this,arguments)})},{key:"listBranches",value:(i=r(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fs,i=r.gitdir,!(a=r.remote)){t.next=5;break}return t.abrupt("return",e.listRefs({fs:n,gitdir:i,filepath:"refs/remotes/".concat(a)}));case 5:return t.abrupt("return",e.listRefs({fs:n,gitdir:i,filepath:"refs/heads"}));case 6:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)})},{key:"listTags",value:(t=r(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.fs,i=r.gitdir,t.next=3,e.listRefs({fs:n,gitdir:i,filepath:"refs/tags"});case 3:return a=t.sent,t.abrupt("return",a.filter((function(e){return!e.endsWith("^{}")})));case 5:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}();function wd(e){return kd.apply(this,arguments)}function kd(){return(kd=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yd=new Map,Rd=new WeakMap,xd=function(){function e(t){if(n(this,e),void 0===t)throw new $l(Ul.PluginUndefined,{plugin:"fs"});return Rd.has(t)?Rd.get(t):Rd.has(t._original_unwrapped_fs)?Rd.get(t._original_unwrapped_fs):void 0!==t._original_unwrapped_fs?t:(Object.getOwnPropertyDescriptor(t,"promises")&&Object.getOwnPropertyDescriptor(t,"promises").enumerable?(this._readFile=t.promises.readFile.bind(t.promises),this._writeFile=t.promises.writeFile.bind(t.promises),this._mkdir=t.promises.mkdir.bind(t.promises),this._rmdir=t.promises.rmdir.bind(t.promises),this._unlink=t.promises.unlink.bind(t.promises),this._stat=t.promises.stat.bind(t.promises),this._lstat=t.promises.lstat.bind(t.promises),this._readdir=t.promises.readdir.bind(t.promises),this._readlink=t.promises.readlink.bind(t.promises),this._symlink=t.promises.symlink.bind(t.promises)):(this._readFile=Cf(t.readFile.bind(t)),this._writeFile=Cf(t.writeFile.bind(t)),this._mkdir=Cf(t.mkdir.bind(t)),this._rmdir=Cf(t.rmdir.bind(t)),this._unlink=Cf(t.unlink.bind(t)),this._stat=Cf(t.stat.bind(t)),this._lstat=Cf(t.lstat.bind(t)),this._readdir=Cf(t.readdir.bind(t)),this._readlink=Cf(t.readlink.bind(t)),this._symlink=Cf(t.symlink.bind(t))),this._original_unwrapped_fs=t,void Rd.set(t,this))}var t,i,o,u,s,c,f,l,h,d,m,v,p;return a(e,[{key:"exists",value:(p=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this._stat(t);case 4:return e.abrupt("return",!0);case 7:if(e.prev=7,e.t0=e.catch(1),"ENOENT"!==e.t0.code&&"ENOTDIR"!==e.t0.code){e.next=13;break}return e.abrupt("return",!1);case 13:throw console.log('Unhandled error in "FileSystem.exists()" function',e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return p.apply(this,arguments)})},{key:"read",value:(v=r(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,this._readFile(t,r);case 4:return"string"!=typeof(n=e.sent)&&(n=wa.from(n)),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return v.apply(this,arguments)})},{key:"write",value:(m=r(regeneratorRuntime.mark((function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.prev=1,e.next=4,this._writeFile(t,r,n);case 4:return e.abrupt("return");case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this.mkdir(Wl(t));case 11:return e.next=13,this._writeFile(t,r,n);case 13:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t){return m.apply(this,arguments)})},{key:"mkdir",value:(d=r(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],e.prev=1,e.next=4,this._mkdir(t);case 4:return e.abrupt("return");case 7:if(e.prev=7,e.t0=e.catch(1),null!==e.t0){e.next=11;break}return e.abrupt("return");case 11:if("EEXIST"!==e.t0.code){e.next=13;break}return e.abrupt("return");case 13:if(!r){e.next=15;break}throw e.t0;case 15:if("ENOENT"!==e.t0.code){e.next=23;break}if("."!==(n=Wl(t))&&"/"!==n&&n!==t){e.next=19;break}throw e.t0;case 19:return e.next=21,this.mkdir(n);case 21:return e.next=23,this.mkdir(t,!0);case 23:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return d.apply(this,arguments)})},{key:"rm",value:(h=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._unlink(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"ENOENT"===e.t0.code){e.next=9;break}throw e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return h.apply(this,arguments)})},{key:"rmdir",value:(l=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._rmdir(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"ENOENT"===e.t0.code){e.next=9;break}throw e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return l.apply(this,arguments)})},{key:"readdir",value:(f=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._readdir(t);case 3:return(r=e.sent).sort(Zl),e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(0),"ENOTDIR"!==e.t0.code){e.next=12;break}return e.abrupt("return",null);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return f.apply(this,arguments)})},{key:"readdirDeep",value:(c=r(regeneratorRuntime.mark((function e(t){var n,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readdir(t);case 2:return n=e.sent,e.next=5,Promise.all(n.map(function(){var e=r(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+"/"+r,e.next=3,a._stat(n);case 3:if(!e.sent.isDirectory()){e.next=7;break}e.t0=a.readdirDeep(n),e.next=8;break;case 7:e.t0=n;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return i=e.sent,e.abrupt("return",i.reduce((function(e,t){return e.concat(t)}),[]));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"lstat",value:(s=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._lstat(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),"ENOENT"!==e.t0.code){e.next=11;break}return e.abrupt("return",null);case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return s.apply(this,arguments)})},{key:"readlink",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{encoding:"buffer"},e.prev=1,e.abrupt("return",this._readlink(t,r));case 5:if(e.prev=5,e.t0=e.catch(1),"ENOENT"!==e.t0.code){e.next=9;break}return e.abrupt("return",null);case 9:throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return u.apply(this,arguments)})},{key:"writelink",value:(o=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._symlink(r.toString("utf8"),t));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"lock",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:3,!yd.has(t)){e.next=5;break}return clearTimeout(yd.get(t)),yd.delete(t),e.abrupt("return");case 5:if(0!==r){e.next=7;break}throw new $l(Ul.AcquireLockFileFail,{filename:t});case 7:return e.prev=7,e.next=10,this._mkdir("".concat(t,".lock"));case 10:e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(7),"EEXIST"!==e.t0.code){e.next=19;break}return e.next=17,wd(100);case 17:return e.next=19,this.lock(t,r-1);case 19:case"end":return e.stop()}}),e,this,[[7,12]])}))),function(e){return i.apply(this,arguments)})},{key:"unlock",value:(t=r(regeneratorRuntime.mark((function e(t){var n,i=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:50,!yd.has(t)){e.next=3;break}throw new $l(Ul.DoubleReleaseLockFileFail,{filename:t});case 3:yd.set(t,setTimeout(r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yd.delete(t),e.next=3,i._rmdir("".concat(t,".lock"));case 3:case"end":return e.stop()}}),e)}))),n));case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function Ad(e){var t=e.name,r=e.email,n=e.timestamp,i=e.timezoneOffset;return i=function(e){var t=function(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}((r=e,0===r?r:-r));var r;e=Math.abs(e);var n=Math.floor(e/60);e-=60*n;var i=String(n),a=String(e);i.length<2&&(i="0"+i);a.length<2&&(a="0"+a);return(-1===t?"-":"+")+i+a}(i),"".concat(t," <").concat(r,"> ").concat(n," ").concat(i)}function Sd(e){return e.trim().split("\n").map((function(e){return" "+e})).join("\n")+"\n"}function Cd(e){return e=(e=(e=e.replace(/\r/g,"")).replace(/^\n+/,"")).replace(/\n+$/,"")+"\n"}function Td(e){var t=k(e.match(/^(.*) <(.*)> (.*) (.*)$/),5),r=t[1],n=t[2],i=t[3],a=t[4];return{name:r,email:n,timestamp:Number(i),timezoneOffset:_d(a)}}function _d(e){var t,r=k(e.match(/(\+|-)(\d\d)(\d\d)/),4),n=r[1],i=r[2],a=r[3];return a=("+"===n?1:-1)*(60*Number(i)+Number(a)),0===(t=a)?t:-t}var Ed=function(){function t(r){if(n(this,t),"string"==typeof r)this._commit=r;else if(to(r))this._commit=r.toString("utf8");else{if("object"!==e(r))throw new $l(Ul.InternalFail,{message:"invalid type passed to GitCommit constructor"});this._commit=t.render(r)}}var i,o;return a(t,[{key:"toObject",value:function(){return wa.from(this._commit,"utf8")}},{key:"headers",value:function(){return this.parseHeaders()}},{key:"message",value:function(){return t.justMessage(this._commit)}},{key:"parse",value:function(){return Object.assign({message:this.message()},this.headers())}},{key:"parseHeaders",value:function(){var e,r=[],n=A(t.justHeaders(this._commit).split("\n"));try{for(n.s();!(e=n.n()).done;){var i=e.value;" "===i[0]?r[r.length-1]+="\n"+i.slice(1):r.push(i)}}catch(e){n.e(e)}finally{n.f()}for(var a={parent:[]},o=0,u=r;o<u.length;o++){var s=u[o],c=s.slice(0,s.indexOf(" ")),f=s.slice(s.indexOf(" ")+1);Array.isArray(a[c])?a[c].push(f):a[c]=f}return a.author&&(a.author=Td(a.author)),a.committer&&(a.committer=Td(a.committer)),a}},{key:"render",value:function(){return this._commit}},{key:"withoutSignature",value:function(){var e=Cd(this._commit);return-1===e.indexOf("\ngpgsig")?e:Cd(e.slice(0,e.indexOf("\ngpgsig"))+"\n"+e.slice(e.indexOf("-----END PGP SIGNATURE-----\n")+"-----END PGP SIGNATURE-----\n".length))}},{key:"isolateSignature",value:function(){var e=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+"-----END PGP SIGNATURE-----".length);return e.split("\n").map((function(e){return e.replace(/^ /,"")})).join("\n")}}],[{key:"fromPayloadSignature",value:function(e){var r=e.payload,n=e.signature,i=t.justHeaders(r),a=t.justMessage(r);return new t(Cd(i+"\ngpgsig"+Sd(n)+"\n"+a))}},{key:"from",value:function(e){return new t(e)}},{key:"justMessage",value:function(e){return Cd(e.slice(e.indexOf("\n\n")+2))}},{key:"justHeaders",value:function(e){return e.slice(0,e.indexOf("\n\n"))}},{key:"renderHeaders",value:function(e){var t="";if(e.tree?t+="tree ".concat(e.tree,"\n"):t+="tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904\n",e.parent){if(void 0===e.parent.length)throw new $l(Ul.InternalFail,{message:"commit 'parent' property should be an array"});var r,n=A(e.parent);try{for(n.s();!(r=n.n()).done;){var i=r.value;t+="parent ".concat(i,"\n")}}catch(e){n.e(e)}finally{n.f()}}var a=e.author;t+="author ".concat(Ad(a),"\n");var o=e.committer||e.author;return t+="committer ".concat(Ad(o),"\n"),e.gpgsig&&(t+="gpgsig"+Sd(e.gpgsig)),t}},{key:"render",value:function(e){return t.renderHeaders(e)+"\n"+Cd(e.message)}},{key:"sign",value:(o=r(regeneratorRuntime.mark((function e(r,n,i){var a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.withoutSignature(),o=t.justMessage(r._commit),e.next=4,n.sign({payload:a,secretKey:i});case 4:return u=e.sent,s=Cd(s=u.signature),c=t.justHeaders(r._commit),f=c+"\ngpgsig"+Sd(s)+"\n"+o,e.abrupt("return",t.from(f));case 10:case"end":return e.stop()}}),e)}))),function(e,t,r){return o.apply(this,arguments)})},{key:"verify",value:(i=r(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.withoutSignature(),a=t.isolateSignature(),e.abrupt("return",r.verify({payload:i,publicKey:n,signature:a}));case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return i.apply(this,arguments)})}]),t}();function Id(e){return jd.apply(this,arguments)}function jd(){return(jd=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.all,f=void 0!==c&&c,l=t.append,h=void 0!==l&&l,d=t.path,m=t.value,e.prev=1,e.next=4,vd.get({fs:s,gitdir:o});case 4:if(v=e.sent,void 0!==m||Object.prototype.hasOwnProperty.call(t,"value")){e.next=13;break}if(!f){e.next=10;break}return e.abrupt("return",v.getall(d));case 10:return e.abrupt("return",v.get(d));case 11:e.next=22;break;case 13:if(!h){e.next=18;break}return e.next=16,v.append(d,m);case 16:e.next=20;break;case 18:return e.next=20,v.set(d,m);case 20:return e.next=22,vd.save({fs:s,gitdir:o,config:v});case 22:e.next=28;break;case 24:throw e.prev=24,e.t0=e.catch(1),e.t0.caller="git.config",e.t0;case 28:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)}function zd(e){return Od.apply(this,arguments)}function Od(){return(Od=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,i=t.author,o=(a=void 0===i?{}:i).name,u=a.email,s=a.date,c=a.timestamp,f=a.timezoneOffset,e.t0=o,e.t0){e.next=7;break}return e.next=6,Id({fs:r,gitdir:n,path:"user.name"});case 6:e.t0=e.sent;case 7:if(o=e.t0,e.t1=u,e.t1){e.next=13;break}return e.next=12,Id({fs:r,gitdir:n,path:"user.email"});case 12:e.t1=e.sent;case 13:if(u=e.t1,void 0!==o&&void 0!==u){e.next=16;break}return e.abrupt("return",void 0);case 16:return s=s||new Date,c=null!=c?c:Math.floor(s.valueOf()/1e3),f=null!=f?f:s.getTimezoneOffset(),e.abrupt("return",{name:o,email:u,date:s,timestamp:c,timezoneOffset:f});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fd(e){return Pd.apply(this,arguments)}function Pd(){return(Pd=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.message,l=t.author,h=t.committer,d=t.signingKey,m=t.dryRun,v=void 0!==m&&m,p=t.noUpdateBranch,g=void 0!==p&&p,b=t.emitter,w=void 0===b?Kh.get(i).get("emitter"):b,k=t.emitterPrefix,y=void 0===k?"":k,R=t.ref,x=t.parent,A=t.tree,e.prev=1,!w){e.next=5;break}return e.next=5,w.emit("".concat(y,"progress"),{phase:"Creating commit",loaded:0,lengthComputable:!1});case 5:if(R){e.next=9;break}return e.next=8,bd.resolve({fs:c,gitdir:u,ref:"HEAD",depth:2});case 8:R=e.sent;case 9:if(void 0!==f){e.next=11;break}throw new $l(Ul.MissingRequiredParameterError,{function:"commit",parameter:"message"});case 11:return e.next=13,zd({fs:c,gitdir:u,author:l});case 13:if(void 0!==(l=e.sent)){e.next=16;break}throw new $l(Ul.MissingAuthorError);case 16:return(h=Object.assign({},h||l)).date=h.date||l.date,e.next=20,zd({fs:c,gitdir:u,author:h});case 20:if(void 0!==(h=e.sent)){e.next=23;break}throw new $l(Ul.MissingCommitterError);case 23:if(!w){e.next=26;break}return e.next=26,w.emit("".concat(y,"progress"),{phase:"Creating commit tree",loaded:0,lengthComputable:!1});case 26:return e.abrupt("return",Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=11;break}return e.prev=1,e.next=4,bd.resolve({fs:c,gitdir:u,ref:R});case 4:e.t0=e.sent,x=[e.t0],e.next=11;break;case 8:e.prev=8,e.t1=e.catch(1),x=[];case 11:return e.prev=11,e.next=14,bd.resolve({fs:c,gitdir:u,ref:"MERGE_HEAD"});case 14:r=e.sent,e.next=19;break;case 17:e.prev=17,e.t2=e.catch(11);case 19:if(!r){e.next=28;break}if(!((n=t.conflictedPaths).length>0)){e.next=23;break}throw new $l(Ul.CommitUnmergedConflictsFail,{paths:n});case 23:if(!x.length){e.next=27;break}x.includes(r)||x.push(r),e.next=28;break;case 27:throw new $l(Ul.NoHeadCommitError,{noun:"merge commit",ref:r});case 28:if(A){e.next=32;break}return e.next=31,Nh.constructTree({fs:c,gitdir:u,dryRun:v,index:t});case 31:A=e.sent;case 32:if(!w){e.next=35;break}return e.next=35,w.emit("".concat(y,"progress"),{phase:"Writing commit",loaded:0,lengthComputable:!1});case 35:if(a=Ed.from({tree:A,parent:x,author:l,committer:h,message:f}),!d){e.next=41;break}return o=Kh.get(i).get("pgp"),e.next=40,Ed.sign(a,o,d);case 40:a=e.sent;case 41:return e.next=43,Oh({fs:c,gitdir:u,type:"commit",object:a.toObject(),dryRun:v});case 43:if(s=e.sent,g||v){e.next=52;break}return e.next=47,bd.writeRef({fs:c,gitdir:u,ref:R,value:s});case 47:if(!r){e.next=52;break}return e.next=50,bd.deleteRef({fs:c,gitdir:u,ref:"MERGE_HEAD"});case 50:return e.next=52,c.rm(Vl(u,"MERGE_MSG"));case 52:return e.abrupt("return",s);case 53:case"end":return e.stop()}}),e,null,[[1,8],[11,17]])})));return function(t){return e.apply(this,arguments)}}()));case 29:throw e.prev=29,e.t0=e.catch(1),e.t0.caller="git.commit",e.t0;case 33:case"end":return e.stop()}}),e,null,[[1,29]])})))).apply(this,arguments)}function Md(e){return Ld.apply(this,arguments)}function Ld(){return(Ld=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a="objects/".concat(i.slice(0,2),"/").concat(i.slice(2)),e.next=4,r.read("".concat(n,"/").concat(a));case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",{object:o,format:"deflated",source:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bd(e){if(e[Symbol.asyncIterator])return e;var t=e.getReader();return o({next:function(){return t.read()},return:function(){return t.releaseLock(),{}}},Symbol.asyncIterator,(function(){return this}))}function Dd(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:function(e){var t=[e];return o({next:function(){return Promise.resolve({done:0===t.length,value:t.pop()})},return:function(){return t=[],{}}},Symbol.asyncIterator,(function(){return this}))}(e)}var Ud=function(){function e(t){n(this,e),this.stream=Dd(t),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}var t,i,o,u,s,c,f,l,h;return a(e,[{key:"eof",value:function(){return this._ended&&this.cursor===this.buffer.length}},{key:"tell",value:function(){return this._discardedBytes+this.cursor}},{key:"byte",value:(h=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(this.cursor!==this.buffer.length){e.next=10;break}return e.next=8,this._loadnext();case 8:if(!this._ended){e.next=10;break}return e.abrupt("return");case 10:return this._moveCursor(1),e.abrupt("return",this.buffer[this.undoCursor]);case 12:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"chunk",value:(l=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(this.cursor!==this.buffer.length){e.next=10;break}return e.next=8,this._loadnext();case 8:if(!this._ended){e.next=10;break}return e.abrupt("return");case 10:return this._moveCursor(this.buffer.length),e.abrupt("return",this.buffer.slice(this.undoCursor,this.cursor));case 12:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"read",value:(f=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(!(this.cursor+t>this.buffer.length)){e.next=9;break}return this._trim(),e.next=9,this._accumulate(t);case 9:return this._moveCursor(t),e.abrupt("return",this.buffer.slice(this.undoCursor,this.cursor));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"skip",value:(c=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.eof()){e.next=2;break}return e.abrupt("return");case 2:if(this.started){e.next=5;break}return e.next=5,this._init();case 5:if(!(this.cursor+t>this.buffer.length)){e.next=9;break}return this._trim(),e.next=9,this._accumulate(t);case 9:this._moveCursor(t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"undo",value:(s=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cursor=this.undoCursor;case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"_next",value:(u=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.started=!0,e.next=3,this.stream.next();case 3:return t=e.sent,r=t.done,n=t.value,r&&(this._ended=!0),n&&(n=wa.from(n)),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"_trim",value:function(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}},{key:"_moveCursor",value:function(e){this.undoCursor=this.cursor,this.cursor+=e,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}},{key:"_accumulate",value:(o=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ended){e.next=2;break}return e.abrupt("return");case 2:r=[this.buffer];case 3:if(!(this.cursor+t>$d(r))){e.next=12;break}return e.next=6,this._next();case 6:if(n=e.sent,!this._ended){e.next=9;break}return e.abrupt("break",12);case 9:r.push(n),e.next=3;break;case 12:this.buffer=wa.concat(r);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_loadnext",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,e.next=5,this._next();case 5:this.buffer=e.sent;case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_init",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._next();case 2:this.buffer=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function $d(e){return e.reduce((function(e,t){return e+t.length}),0)}function Nd(e,t){return Gd.apply(this,arguments)}function Gd(){return(Gd=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ud(t),e.next=3,n.read(4);case 3:if("PACK"===(i=(i=e.sent).toString("utf8"))){e.next=7;break}throw new $l(Ul.InternalFail,{message:"Invalid PACK header '".concat(i,"'")});case 7:return e.next=9,n.read(4);case 9:if(2===(a=(a=e.sent).readUInt32BE(0))){e.next=13;break}throw new $l(Ul.InternalFail,{message:"Invalid packfile version: ".concat(a)});case 13:return e.next=15,n.read(4);case 15:if(!((o=(o=e.sent).readUInt32BE(0))<1)){e.next=19;break}return e.abrupt("return");case 19:if(n.eof()||!o--){e.next=52;break}return u=n.tell(),e.next=23,Wd(n);case 23:s=e.sent,c=s.type,f=s.length,l=s.ofs,h=s.reference,d=new Sf.Inflate;case 29:if(d.result){e.next=50;break}return e.next=32,n.chunk();case 32:if(m=e.sent,!n.ended){e.next=35;break}return e.abrupt("break",50);case 35:if(d.push(m,!1),!d.err){e.next=38;break}throw new $l(Ul.InternalFail,{message:"Pako error: ".concat(d.msg)});case 38:if(!d.result){e.next=48;break}if(d.result.length===f){e.next=41;break}throw new $l(Ul.InternalFail,{message:"Inflated object size is different from that stated in packfile."});case 41:return e.next=43,n.undo();case 43:return e.next=45,n.read(m.length-d.strm.avail_in);case 45:return v=n.tell(),e.next=48,r({data:d.result,type:c,num:o,offset:u,end:v,reference:h,ofs:l});case 48:e.next=29;break;case 50:e.next=19;break;case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wd(e){return Hd.apply(this,arguments)}function Hd(){return(Hd=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.byte();case 2:if(r=e.sent,n=r>>4&7,i=15&r,!(128&r)){e.next=13;break}a=4;case 7:return e.next=9,t.byte();case 9:r=e.sent,i|=(127&r)<<a,a+=7;case 12:if(128&r){e.next=7;break}case 13:if(6!==n){e.next=25;break}s=0,o=0,c=[];case 17:return e.next=19,t.byte();case 19:r=e.sent,o|=(127&r)<<s,s+=7,c.push(r);case 23:if(128&r){e.next=17;break}case 24:u=wa.from(c);case 25:if(7!==n){e.next=30;break}return e.next=28,t.read(20);case 28:f=e.sent,u=f;case 30:return e.abrupt("return",{type:n,length:i,ofs:o,reference:u});case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vd(e){return Kd.apply(this,arguments)}function Kd(){return(Kd=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf.inflate(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qd(e){var t=[],r=0,n=0;do{var i=127&(r=e.readUInt8());t.push(i),n=128&r}while(n);return t.reduce((function(e,t){return e+1<<7|t}),-1)}function Zd(e,t){var r=t,n=4,i=null;do{r|=(127&(i=e.readUInt8()))<<n,n+=7}while(128&i);return r}var Yd=function(){function e(t){n(this,e),Object.assign(this,t),this.offsetCache={}}var t,i,o,u,s,c,f;return a(e,[{key:"toBuffer",value:(f=r(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],(r=function(e,r){t.push(wa.from(e,r))})("ff744f63","hex"),r("00000002","hex"),n=new ql(wa.alloc(1024)),i=0;i<256;i++){a=0,o=A(this.hashes);try{for(o.s();!(u=o.n()).done;)s=u.value,parseInt(s.slice(0,2),16)<=i&&a++}catch(e){o.e(e)}finally{o.f()}n.writeUInt32BE(a)}t.push(n.buffer),c=A(this.hashes);try{for(c.s();!(f=c.n()).done;)l=f.value,r(l,"hex")}catch(e){c.e(e)}finally{c.f()}h=new ql(wa.alloc(4*this.hashes.length)),d=A(this.hashes);try{for(d.s();!(m=d.n()).done;)v=m.value,h.writeUInt32BE(this.crcs[v])}catch(e){d.e(e)}finally{d.f()}t.push(h.buffer),p=new ql(wa.alloc(4*this.hashes.length)),g=A(this.hashes);try{for(g.s();!(b=g.n()).done;)w=b.value,p.writeUInt32BE(this.offsets.get(w))}catch(e){g.e(e)}finally{g.f()}return t.push(p.buffer),r(this.packfileSha,"hex"),k=wa.concat(t),e.next=21,nh(k);case 21:return y=e.sent,(R=wa.alloc(20)).write(y,"hex"),e.abrupt("return",wa.concat([k,R]));case 25:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"load",value:(c=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pack,this.pack=r;case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"unload",value:(s=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pack=null;case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"read",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oid,this.offsets.get(r)){e.next=8;break}if(!this.getExternalRefDelta){e.next=7;break}return this.externalReadDepth++,e.abrupt("return",this.getExternalRefDelta(r));case 7:throw new $l(Ul.InternalFail,{message:"Could not read object ".concat(r," from packfile")});case 8:return n=this.offsets.get(r),e.abrupt("return",this.readSlice({start:n}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"readSlice",value:(o=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.start,!this.offsetCache[r]){e.next=3;break}return e.abrupt("return",Object.assign({},this.offsetCache[r]));case 3:if(this.readDepth++,n={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"},this.pack){e.next=7;break}throw new $l(Ul.InternalFail,{message:"Tried to read from a GitPackIndex with no packfile loaded into memory"});case 7:return e.next=9,this.pack;case 9:if(i=e.sent.slice(r),a=new ql(i),o=a.readUInt8(),void 0!==(s=n[u=112&o])){e.next=16;break}throw new $l(Ul.InternalFail,{message:"Unrecognized type: 0b"+u.toString(2)});case 16:if(f=c=15&o,128&o&&(f=Zd(a,c)),l=null,h=null,"ofs_delta"!==s){e.next=30;break}return d=qd(a),m=r-d,e.next=27,this.readSlice({start:m});case 27:v=e.sent,l=v.object,s=v.type;case 30:if("ref_delta"!==s){e.next=37;break}return p=a.slice(20).toString("hex"),e.next=34,this.read({oid:p});case 34:g=e.sent,l=g.object,s=g.type;case 37:return b=i.slice(a.tell()),e.t0=wa,e.next=41,Vd(b);case 41:if(e.t1=e.sent,(h=e.t0.from.call(e.t0,e.t1)).byteLength===f){e.next=45;break}throw new $l(Ul.InternalFail,{message:"Packfile told us object would have length ".concat(f," but it had length ").concat(h.byteLength)});case 45:return l&&(h=wa.from(Yf(h,l))),this.readDepth>3&&(this.offsetCache[r]={type:s,object:h}),e.abrupt("return",{type:s,format:"content",object:h});case 48:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],[{key:"fromIdx",value:(i=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.idx,i=r.getExternalRefDelta,tl("fromIdx"),"ff744f63"===(a=new ql(n)).slice(4).toString("hex")){t.next=6;break}return t.abrupt("return");case 6:if(2===(o=a.readUInt32BE())){t.next=9;break}throw new $l(Ul.InternalFail,{message:"Unable to read version ".concat(o," packfile IDX. (Only version 2 supported)")});case 9:if(!(n.byteLength>2147483648)){t.next=11;break}throw new $l(Ul.InternalFail,{message:"To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size."});case 11:for(a.seek(a.tell()+1020),u=a.readUInt32BE(),tl("hashes"),s=[],c=0;c<u;c++)f=a.slice(20).toString("hex"),s[c]=f;for(vh("hashes ".concat(rl("hashes").duration)),a.seek(a.tell()+4*u),tl("offsets"),l=new Map,h=0;h<u;h++)l.set(s[h],a.readUInt32BE());return vh("offsets ".concat(rl("offsets").duration)),d=a.slice(20).toString("hex"),vh("fromIdx ".concat(rl("fromIdx").duration)),t.abrupt("return",new e({hashes:s,crcs:{},offsets:l,packfileSha:d,getExternalRefDelta:i}));case 25:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)})},{key:"fromPack",value:(t=r(regeneratorRuntime.mark((function t(n){var i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,y,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.pack,a=n.getExternalRefDelta,o=n.emitter,u=n.emitterPrefix,s={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},c={},f=i.slice(-20).toString("hex"),l=[],h={},d=new Map,m=null,v=null,p={offsets:0,crcs:0,sort:0},g={commit:0,tree:0,blob:0,tag:0,"ofs-delta":0,"ref-delta":0},b=0,vh("Indexing objects"),vh("percent\tmilliseconds\tbytesProcessed\tcommits\ttrees\tblobs\ttags\tofs-deltas\tref-deltas"),tl("total"),tl("offsets"),tl("percent"),t.next=19,Nd([i],function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,n=t.type,t.reference,i=t.offset,a=t.num,null===m&&(m=a),(f=Math.floor(100*(m-a)/m))===v){e.next=11;break}if(!o){e.next=7;break}return e.next=7,o.emit("".concat(u,"progress"),{phase:"Receiving objects",loaded:m-a,total:m,lengthComputable:!0});case 7:vh("".concat(f,"%\t").concat(Math.floor(rl("percent").duration),"\t").concat(b,"\t").concat(g.commit,"\t").concat(g.tree,"\t").concat(g.blob,"\t").concat(g.tag,"\t").concat(g["ofs-delta"],"\t").concat(g["ref-delta"])),g={commit:0,tree:0,blob:0,tag:0,"ofs-delta":0,"ref-delta":0},b=0,tl("percent");case 11:v=f,g[n=s[n]]++,b+=r.byteLength,["commit","tree","blob","tag"].includes(n)?c[i]={type:n,offset:i}:"ofs-delta"===n?c[i]={type:n,offset:i}:"ref-delta"===n&&(c[i]={type:n,offset:i});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 19:p.offsets=Math.floor(rl("offsets").duration),vh("Computing CRCs"),tl("crcs"),w=Object.keys(c).map(Number),y=A(w.entries());try{for(y.s();!(R=y.n()).done;)x=k(R.value,2),S=x[0],C=x[1],T=S+1===w.length?i.byteLength-20:w[S+1],_=c[C],E=Tf.buf(i.slice(C,T))>>>0,_.end=T,_.crc=E}catch(e){y.e(e)}finally{y.f()}p.crcs=Math.floor(rl("crcs").duration),I=new e({pack:Promise.resolve(i),packfileSha:f,crcs:h,hashes:l,offsets:d,getExternalRefDelta:a}),vh("Resolving deltas"),vh("percent2\tmilliseconds2\tcallsToReadSlice\tcallsToGetExternal"),tl("percent"),v=null,j=0,z=0,O=0,F=[0,0,0,0,0,0,0,0,0,0,0,0],t.t0=regeneratorRuntime.keys(c);case 36:if((t.t1=t.t0()).done){t.next=78;break}if(P=t.t1.value,P=Number(P),(M=Math.floor(100*j++/m))===v){t.next=48;break}if(vh("".concat(M,"%\t").concat(Math.floor(rl("percent").duration),"\t").concat(z,"\t").concat(O)),!o){t.next=45;break}return t.next=45,o.emit("".concat(u,"progress"),{phase:"Resolving deltas",loaded:j,total:m,lengthComputable:!0});case 45:tl("percent"),z=0,O=0;case 48:if(v=M,!(L=c[P]).oid){t.next=52;break}return t.abrupt("continue",36);case 52:return t.prev=52,I.readDepth=0,I.externalReadDepth=0,t.next=57,I.readSlice({start:P});case 57:return B=t.sent,D=B.type,U=B.object,z+=I.readDepth,O+=I.externalReadDepth,F[I.readDepth]+=1,t.next=65,nh(Ah.wrap({type:D,object:U}));case 65:$=t.sent,L.oid=$,l.push($),d.set($,P),h[$]=L.crc,t.next=76;break;case 72:return t.prev=72,t.t2=t.catch(52),vh("ERROR",t.t2),t.abrupt("continue",36);case 76:t.next=36;break;case 78:return tl("sort"),l.sort(),p.sort=Math.floor(rl("sort").duration),N=rl("total").duration,p.misc=Math.floor(Object.values(p).reduce((function(e,t){return e-t}),N)),vh(Object.keys(p).join("\t")),vh(Object.values(p).join("\t")),vh("by depth:"),vh([0,1,2,3,4,5,6,7,8,9,10,11].join("\t")),vh(F.slice(0,12).join("\t")),t.abrupt("return",I);case 89:case"end":return t.stop()}}),t,null,[[52,72]])}))),function(e){return t.apply(this,arguments)})}]),e}(),Jd=new Map;function Qd(){return(Qd=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.filename,i=t.getExternalRefDelta,t.emitter,t.emitterPrefix,e.next=3,r.read(n);case 3:return a=e.sent,e.abrupt("return",Yd.fromIdx({idx:a,getExternalRefDelta:i}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xd(e){var t=e.fs,r=e.filename,n=e.getExternalRefDelta,i=e.emitter,a=e.emitterPrefix,o=Jd.get(r);return o||(o=function(e){return Qd.apply(this,arguments)}({fs:t,filename:r,getExternalRefDelta:n,emitter:i,emitterPrefix:a}),Jd.set(r,o)),o}function em(e){return tm.apply(this,arguments)}function tm(){return(tm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,t.format,a=t.getExternalRefDelta,e.next=3,r.readdir(Vl(n,"objects/pack"));case 3:o=(o=e.sent).filter((function(e){return e.endsWith(".idx")})),u=A(o),e.prev=6,u.s();case 8:if((s=u.n()).done){e.next=26;break}return c=s.value,f="".concat(n,"/objects/pack/").concat(c),e.next=13,Xd({fs:r,filename:f,getExternalRefDelta:a});case 13:if(!(l=e.sent).error){e.next=16;break}throw new $l(Ul.InternalFail,{message:l.error});case 16:if(!l.offsets.has(i)){e.next=24;break}return l.pack||(h=f.replace(/idx$/,"pack"),l.pack=r.read(h)),e.next=20,l.read({oid:i,getExternalRefDelta:a});case 20:return(d=e.sent).format="content",d.source="objects/pack/".concat(c.replace(/idx$/,"pack")),e.abrupt("return",d);case 24:e.next=8;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(6),u.e(e.t0);case 31:return e.prev=31,u.f(),e.finish(31);case 34:return e.abrupt("return",null);case 35:case"end":return e.stop()}}),e,null,[[6,28,31,34]])})))).apply(this,arguments)}function rm(e){return nm.apply(this,arguments)}function nm(){return(nm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,i=t.oid,a=t.format,o=void 0===a?"content":a,u=function(e){return rm({fs:r,gitdir:n,oid:e})},"4b825dc642cb6eb9a060e54bf8d69288fbee4904"===i&&(s={format:"wrapped",object:wa.from("tree 0\0")}),s){e.next=7;break}return e.next=6,Md({fs:r,gitdir:n,oid:i});case 6:s=e.sent;case 7:if(s){e.next=11;break}return e.next=10,em({fs:r,gitdir:n,oid:i,getExternalRefDelta:u});case 10:s=e.sent;case 11:if(s){e.next=13;break}throw new $l(Ul.ReadObjectFail,{oid:i});case 13:if("deflated"!==o){e.next=15;break}return e.abrupt("return",s);case 15:e.t0=s.format,e.next="deflated"===e.t0?18:"wrapped"===e.t0?24:"content"===e.t0?35:38;break;case 18:return e.t1=wa,e.next=21,Vd(s.object);case 21:e.t2=e.sent,s.object=e.t1.from.call(e.t1,e.t2),s.format="wrapped";case 24:if("wrapped"!==o||"wrapped"!==s.format){e.next=26;break}return e.abrupt("return",s);case 26:return e.next=28,nh(s.object);case 28:if((c=e.sent)===i){e.next=31;break}throw new $l(Ul.InternalFail,{message:"SHA check failed! Expected ".concat(i,", computed ").concat(c)});case 31:f=Ah.unwrap(s.object),l=f.object,h=f.type,s.type=h,s.object=l,s.format="content";case 35:if("content"!==o){e.next=37;break}return e.abrupt("return",s);case 37:return e.abrupt("break",39);case 38:throw new $l(Ul.InternalFail,{message:'invalid format "'.concat(s.format,'"')});case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var im=function(){function t(r){if(n(this,t),"string"==typeof r)this._tag=r;else if(to(r))this._tag=r.toString("utf8");else{if("object"!==e(r))throw new $l(Ul.InternalFail,{message:"invalid type passed to GitAnnotatedTag constructor"});this._tag=t.render(r)}}var i,o;return a(t,[{key:"justHeaders",value:function(){return this._tag.slice(0,this._tag.indexOf("\n\n"))}},{key:"message",value:function(){var e=this.withoutSignature();return e.slice(e.indexOf("\n\n")+2)}},{key:"parse",value:function(){return Object.assign(this.headers(),{message:this.message(),signature:this.signature()})}},{key:"render",value:function(){return this._tag}},{key:"headers",value:function(){var e,t=this.justHeaders().split("\n"),r=[],n=A(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;" "===i[0]?r[r.length-1]+="\n"+i.slice(1):r.push(i)}}catch(e){n.e(e)}finally{n.f()}for(var a={},o=0,u=r;o<u.length;o++){var s=u[o],c=s.slice(0,s.indexOf(" ")),f=s.slice(s.indexOf(" ")+1);Array.isArray(a[c])?a[c].push(f):a[c]=f}return a.tagger&&(a.tagger=Td(a.tagger)),a.committer&&(a.committer=Td(a.committer)),a}},{key:"withoutSignature",value:function(){var e=Cd(this._tag);return-1===e.indexOf("\n-----BEGIN PGP SIGNATURE-----")?e:e.slice(0,e.lastIndexOf("\n-----BEGIN PGP SIGNATURE-----"))}},{key:"signature",value:function(){if(-1!==this._tag.indexOf("\n-----BEGIN PGP SIGNATURE-----")){var e=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+"-----END PGP SIGNATURE-----".length);return Cd(e)}}},{key:"payload",value:function(){return this.withoutSignature()+"\n"}},{key:"toObject",value:function(){return wa.from(this._tag,"utf8")}}],[{key:"from",value:function(e){return new t(e)}},{key:"render",value:function(e){return"object ".concat(e.object,"\ntype ").concat(e.type,"\ntag ").concat(e.tag,"\ntagger ").concat(Ad(e.tagger),"\n\n").concat(e.message,"\n").concat(e.signature?e.signature:"")}},{key:"sign",value:(o=r(regeneratorRuntime.mark((function e(r,n,i){var a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload(),e.next=3,n.sign({payload:a,secretKey:i});case 3:return o=e.sent,u=Cd(u=o.signature),s=a+u,e.abrupt("return",t.from(s));case 8:case"end":return e.stop()}}),e)}))),function(e,t,r){return o.apply(this,arguments)})},{key:"verify",value:(i=r(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload(),a=t.signature(),e.abrupt("return",r.verify({payload:i,publicKey:n,signature:a}));case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return i.apply(this,arguments)})}]),t}();function am(e){return om.apply(this,arguments)}function om(){return(om=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,"4b825dc642cb6eb9a060e54bf8d69288fbee4904"!==(i=t.oid)){e.next=3;break}return e.abrupt("return",{tree:xh.from([]),oid:i});case 3:return e.next=5,rm({fs:r,gitdir:n,oid:i});case 5:if(a=e.sent,o=a.type,u=a.object,"tag"!==o){e.next=11;break}return i=im.from(u).parse().object,e.abrupt("return",am({fs:r,gitdir:n,oid:i}));case 11:if("commit"!==o){e.next=14;break}return i=Ed.from(u).parse().tree,e.abrupt("return",am({fs:r,gitdir:n,oid:i}));case 14:if("tree"===o){e.next=16;break}throw new $l(Ul.ResolveTreeError,{oid:i});case 16:return e.abrupt("return",{tree:xh.from(u),oid:i});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function um(e){return sm.apply(this,arguments)}function sm(){return(sm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fs,n=t.gitdir,i=t.oid,!(a=t.filepath).startsWith("/")&&!a.endsWith("/")){e.next=3;break}throw new $l(Ul.DirectorySeparatorsError);case 3:return o=i,e.next=6,am({fs:r,gitdir:n,oid:i});case 6:if(u=e.sent,s=u.tree,""!==a){e.next=12;break}i=u.oid,e.next=16;break;case 12:return c=a.split("/"),e.next=15,cm({fs:r,gitdir:n,tree:s,pathArray:c,oid:o,filepath:a});case 15:i=e.sent;case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cm(e){return fm.apply(this,arguments)}function fm(){return(fm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.gitdir,i=t.tree,a=t.pathArray,o=t.oid,u=t.filepath,s=a.shift(),c=A(i),e.prev=3,c.s();case 5:if((f=c.n()).done){e.next=25;break}if((l=f.value).path!==s){e.next=23;break}if(0!==a.length){e.next=12;break}return e.abrupt("return",l.oid);case 12:return e.next=14,rm({fs:r,gitdir:n,oid:l.oid});case 14:if(h=e.sent,d=h.type,m=h.object,"blob"!==d){e.next=19;break}throw new $l(Ul.DirectoryIsAFileError,{oid:o,filepath:u});case 19:if("tree"===d){e.next=21;break}throw new $l(Ul.ObjectTypeAssertionInTreeFail,{oid:l.oid,entrypath:u,type:d});case 21:return i=xh.from(m),e.abrupt("return",cm({fs:r,gitdir:n,tree:i,pathArray:a,oid:o,filepath:u}));case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),c.e(e.t0);case 30:return e.prev=30,c.f(),e.finish(30);case 33:throw new $l(Ul.TreeOrBlobNotFoundError,{oid:o,filepath:u});case 34:case"end":return e.stop()}}),e,null,[[3,27,30,33]])})))).apply(this,arguments)}function lm(e){return hm.apply(this,arguments)}function hm(){return(hm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,f=t.filepath,l=void 0===f?void 0:f,e.prev=1,h=new xd(s),void 0===l){e.next=7;break}return e.next=6,um({fs:h,gitdir:o,oid:c,filepath:l});case 6:c=e.sent;case 7:return e.next=9,am({fs:h,gitdir:o,oid:c});case 9:return d=e.sent,m=d.tree,v=d.oid,p={oid:v,tree:m.entries()},e.abrupt("return",p);case 16:throw e.prev=16,e.t0=e.catch(1),e.t0.caller="git.readTree",e.t0;case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function dm(e){return mm.apply(this,arguments)}function mm(){return(mm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.blob,e.prev=1,f=new xd(s),e.next=5,Oh({fs:f,gitdir:o,type:"blob",object:c,format:"content"});case 5:return l=e.sent,e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.writeBlob",e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function vm(e){return pm.apply(this,arguments)}function pm(){return(pm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.tree,e.prev=1,f=new xd(s),l=xh.from(c).toObject(),e.next=6,Oh({fs:f,gitdir:o,type:"tree",object:l,format:"content"});case 6:return h=e.sent,e.abrupt("return",h);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeTree",e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gm(){return(gm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,S,C,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=void 0===c?"refs/notes/commits":c,l=t.oid,h=t.note,d=t.force,m=t.author,v=t.committer,p=t.signingKey,e.prev=1,g=new xd(s),e.prev=3,e.next=6,bd.resolve({gitdir:o,fs:g,ref:f});case 6:b=e.sent,e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(3),e.t0.code===Ul.ResolveRefError){e.next=13;break}throw e.t0;case 13:return e.next=15,lm({core:n,dir:i,gitdir:o,fs:g,oid:b||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"});case 15:if(w=e.sent,k=w.tree,!d){e.next=21;break}k=k.filter((function(e){return e.path!==l})),e.next=38;break;case 21:y=A(k),e.prev=22,y.s();case 24:if((R=y.n()).done){e.next=30;break}if((x=R.value).path!==l){e.next=28;break}throw new $l(Ul.NoteAlreadyExistsError,{note:x.oid,oid:l});case 28:e.next=24;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(22),y.e(e.t1);case 35:return e.prev=35,y.f(),e.finish(35);case 38:return"string"==typeof h&&(h=wa.from(h,"utf8")),e.next=41,dm({core:n,dir:i,gitdir:o,fs:g,blob:h});case 41:return S=e.sent,k.push({mode:"100644",path:l,oid:S,type:"blob"}),e.next=45,vm({core:n,dir:i,gitdir:o,fs:g,tree:k});case 45:return C=e.sent,e.next=48,Fd({core:n,dir:i,gitdir:o,fs:g,ref:f,tree:C,parent:b&&[b],message:"Note added by 'isomorphic-git addNote'\n",author:m,committer:v,signingKey:p});case 48:return T=e.sent,e.abrupt("return",T);case 52:throw e.prev=52,e.t2=e.catch(1),e.t2.caller="git.addNote",e.t2;case 56:case"end":return e.stop()}}),e,null,[[1,52],[3,9],[22,32,35,38]])})))).apply(this,arguments)}function bm(){return(bm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.remote,f=t.url,l=t.force,h=void 0!==l&&l,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"addRemote",parameter:"remote"});case 4:if(void 0!==f){e.next=6;break}throw new $l(Ul.MissingRequiredParameterError,{function:"addRemote",parameter:"url"});case 6:if(c===hl.clean(c)){e.next=8;break}throw new $l(Ul.InvalidRefNameError,{verb:"add",noun:"remote",ref:c,suggestion:hl.clean(c)});case 8:return e.next=10,vd.get({fs:s,gitdir:o});case 10:if(d=e.sent,h){e.next=22;break}return e.next=14,d.getSubsections("remote");case 14:if(!e.sent.includes(c)){e.next=22;break}return e.t0=f,e.next=19,d.get("remote.".concat(c,".url"));case 19:if(e.t1=e.sent,e.t0===e.t1){e.next=22;break}throw new $l(Ul.AddingRemoteWouldOverwrite,{remote:c});case 22:return e.next=24,d.set("remote.".concat(c,".url"),f);case 24:return e.next=26,d.set("remote.".concat(c,".fetch"),"+refs/heads/*:refs/remotes/".concat(c,"/*"));case 26:return e.next=28,vd.save({fs:s,gitdir:o,config:d});case 28:e.next=34;break;case 30:throw e.prev=30,e.t2=e.catch(1),e.t2.caller="git.addRemote",e.t2;case 34:case"end":return e.stop()}}),e,null,[[1,30]])})))).apply(this,arguments)}function wm(){return(wm=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.tagger,l=t.message,h=void 0===l?c:l,d=t.signature,m=t.object,v=t.signingKey,p=t.force,g=void 0!==p&&p,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"annotatedTag",parameter:"ref"});case 4:if(c=c.startsWith("refs/tags/")?c:"refs/tags/".concat(c),e.t0=!g,!e.t0){e.next=10;break}return e.next=9,bd.exists({fs:s,gitdir:o,ref:c});case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=12;break}throw new $l(Ul.RefExistsError,{noun:"tag",ref:c});case 12:return e.next=14,bd.resolve({fs:s,gitdir:o,ref:m||"HEAD"});case 14:if(b=e.sent,!d||!v){e.next=17;break}throw new $l(Ul.InvalidParameterCombinationError,{function:"annotatedTag",parameters:["signature","signingKey"]});case 17:return e.next=19,zd({fs:s,gitdir:o,author:f});case 19:if(void 0!==(f=e.sent)){e.next=22;break}throw new $l(Ul.MissingTaggerError);case 22:return e.next=24,rm({fs:s,gitdir:o,oid:b});case 24:if(w=e.sent,k=w.type,y=im.from({object:b,type:k,tag:c.replace("refs/tags/",""),tagger:f,message:h,signature:d}),!v){e.next=32;break}return R=Kh.get(n).get("pgp"),e.next=31,im.sign(y,R,v);case 31:y=e.sent;case 32:return e.next=34,Oh({fs:s,gitdir:o,type:"tag",object:y.toObject()});case 34:return x=e.sent,e.next=37,bd.writeRef({fs:s,gitdir:o,ref:c,value:x});case 37:e.next=43;break;case 39:throw e.prev=39,e.t1=e.catch(1),e.t1.caller="git.annotatedTag",e.t1;case 43:case"end":return e.stop()}}),e,null,[[1,39]])})))).apply(this,arguments)}function km(){return(km=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.checkout,l=void 0!==f&&f,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"branch",parameter:"ref"});case 4:if(c===hl.clean(c)){e.next=6;break}throw new $l(Ul.InvalidRefNameError,{verb:"create",noun:"branch",ref:c,suggestion:hl.clean(c)});case 6:return h="refs/heads/".concat(c),e.next=9,bd.exists({fs:s,gitdir:o,ref:h});case 9:if(!e.sent){e.next=12;break}throw new $l(Ul.RefExistsError,{noun:"branch",ref:c});case 12:return e.prev=12,e.next=15,bd.resolve({fs:s,gitdir:o,ref:"HEAD"});case 15:d=e.sent,e.next=20;break;case 18:e.prev=18,e.t0=e.catch(12);case 20:if(!d){e.next=23;break}return e.next=23,bd.writeRef({fs:s,gitdir:o,ref:h,value:d});case 23:if(!l){e.next=26;break}return e.next=26,bd.writeSymbolicRef({fs:s,gitdir:o,ref:"HEAD",value:h});case 26:e.next=32;break;case 28:throw e.prev=28,e.t1=e.catch(1),e.t1.caller="git.branch",e.t1;case 32:case"end":return e.stop()}}),e,null,[[1,28],[12,18]])})))).apply(this,arguments)}var ym=function(e){var t=Ol(e).base;return"."===t?"":t},Rm=function(e,t){return"."===e||null==t||0===t.length||"."===t||(t.length>=e.length?t.startsWith(e):e.startsWith(t))},xm=function(){function e(t){var i=t.fs,o=t.gitdir,u=t.ref;n(this,e),this.fs=i,this.gitdir=o,this.mapPromise=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.prev=1,e.next=4,bd.resolve({fs:i,gitdir:o,ref:u});case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.code===Ul.ResolveRefError&&(r="4b825dc642cb6eb9a060e54bf8d69288fbee4904");case 10:return e.next=12,am({fs:i,gitdir:o,oid:r});case 12:return(n=e.sent).type="tree",t.set(".",n),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))();var s=this;this.ConstructEntry=function(){function e(t){n(this,e),Object.assign(this,t)}var t,i,o;return a(e,[{key:"populateStat",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.populateStat(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"populateContent",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.populateContent(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"populateHash",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.populateHash(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}var t,i,o,u;return a(e,[{key:"readdir",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exists){e.next=2;break}return e.abrupt("return",[]);case 2:return r=t.fullpath,n=this.fs,i=this.gitdir,e.next=6,this.mapPromise;case 6:if(a=e.sent,o=a.get(r)){e.next=10;break}throw new Error("No obj for ".concat(r));case 10:if(u=o.oid){e.next=13;break}throw new Error("No oid for obj ".concat(JSON.stringify(o)));case 13:if("tree"===o.type){e.next=15;break}return e.abrupt("return",null);case 15:return e.next=17,rm({fs:n,gitdir:i,oid:u});case 17:if(s=e.sent,c=s.type,f=s.object,c===o.type){e.next=22;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:u,expected:o.type,type:c});case 22:l=xh.from(f),h=A(l);try{for(h.s();!(d=h.n()).done;)m=d.value,a.set(Vl(r,m.path),m)}catch(e){h.e(e)}finally{h.f()}return e.abrupt("return",l.entries().map((function(e){return{fullpath:Vl(r,e.path),basename:e.path,exists:!0}})));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"populateStat",value:(o=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mapPromise;case 2:if(r=e.sent,n=r.get(t.fullpath)){e.next=6;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t.fullpath,"'"));case 6:i=n.mode,a=n.type,Object.assign(t,{mode:i,type:a,stats:n});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"populateContent",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mapPromise;case 2:if(r=e.sent,n=this.fs,i=this.gitdir,a=r.get(t.fullpath)){e.next=7;break}throw new Error("No obj for ".concat(t.fullpath));case 7:if(o=a.oid){e.next=10;break}throw new Error("No oid for entry ".concat(JSON.stringify(a)));case 10:return e.next=12,rm({fs:n,gitdir:i,oid:o});case 12:if(u=e.sent,s=u.type,c=u.object,"tree"!==s){e.next=17;break}throw new Error("EISDIR: illegal operation on a directory, read");case 17:Object.assign(t,{content:c});case 18:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"populateHash",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mapPromise;case 2:if(r=e.sent,n=r.get(t.fullpath)){e.next=6;break}throw new Error("ENOENT: no such file or directory, open '".concat(t.fullpath,"'"));case 6:i=n.oid,Object.assign(t,{oid:i});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Am=function(){function e(t){var i=t.fs,o=t.gitdir,u=t.ref;n(this,e),this.fs=i,this.gitdir=o,this.mapPromise=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.prev=1,e.next=4,bd.resolve({fs:i,gitdir:o,ref:u});case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.code===Ul.ResolveRefError&&(r="4b825dc642cb6eb9a060e54bf8d69288fbee4904");case 10:return e.next=12,am({fs:i,gitdir:o,oid:r});case 12:return(n=e.sent).type="tree",n.mode="40000",t.set(".",n),e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[1,7]])})))();var s=this;this.ConstructEntry=function(){function e(t){n(this,e),this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}var t,i,o,u,c,f;return a(e,[{key:"conflict",value:(f=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"type",value:(c=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.type(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"mode",value:(u=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.mode(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"stat",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.stat(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"content",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.content(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"oid",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.oid(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}var t,i,o,u,s,c;return a(e,[{key:"readdir",value:(c=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._fullpath,n=this.fs,i=this.gitdir,e.next=4,this.mapPromise;case 4:if(a=e.sent,o=a.get(r)){e.next=8;break}throw new Error("No obj for ".concat(r));case 8:if(u=o.oid){e.next=11;break}throw new Error("No oid for obj ".concat(JSON.stringify(o)));case 11:if("tree"===o.type){e.next=13;break}return e.abrupt("return",null);case 13:return e.next=15,rm({fs:n,gitdir:i,oid:u});case 15:if(s=e.sent,c=s.type,f=s.object,c===o.type){e.next=20;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:u,expected:o.type,type:c});case 20:l=xh.from(f),h=A(l);try{for(h.s();!(d=h.n()).done;)m=d.value,a.set(Vl(r,m.path),m)}catch(e){h.e(e)}finally{h.f()}return e.abrupt("return",l.entries().map((function(e){return Vl(r,e.path)})));case 24:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"type",value:(s=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._type){e.next=6;break}return e.next=3,this.mapPromise;case 3:r=e.sent,n=r.get(t._fullpath),i=n.type,t._type=i;case 6:return e.abrupt("return",t._type);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"mode",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._mode){e.next=6;break}return e.next=3,this.mapPromise;case 3:r=e.sent,n=r.get(t._fullpath),i=n.mode,t._mode=Jl(parseInt(i,8));case 6:return e.abrupt("return",t._mode);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"stat",value:(o=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"content",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._content){e.next=13;break}return e.next=3,this.mapPromise;case 3:return r=e.sent,n=this.fs,i=this.gitdir,a=r.get(t._fullpath),o=a.oid,e.next=9,rm({fs:n,gitdir:i,oid:o});case 9:u=e.sent,s=u.type,c=u.object,t._content="blob"!==s?void 0:c;case 13:return e.abrupt("return",t._content);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"oid",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._oid){e.next=6;break}return e.next=3,this.mapPromise;case 3:r=e.sent,n=r.get(t._fullpath),t._oid=n.oid;case 6:return e.abrupt("return",t._oid);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Sm=Symbol("GitWalkBeta1Symbol"),Cm=Symbol("GitWalkBeta2Symbol");function Tm(e){var t=e.ref,r=void 0===t?"HEAD":t,n=e.core,i=void 0===n?"default":n,a=e.dir,o=e.gitdir,u=e.fs,s=void 0===u?Kh.get(i).get("fs"):u,c=Object.create(null);return Object.defineProperty(c,Sm,{value:function(){return o=o||Vl(a,".git"),new xm({fs:s,gitdir:o,ref:r})}}),Object.defineProperty(c,Cm,{value:function(e){var t=e.fs,n=e.gitdir;return new Am({fs:t,gitdir:n,ref:r})}}),Object.freeze(c),c}var _m=function(){function e(t){var i=t.fs,o=t.dir,u=t.gitdir;n(this,e);var s=this;this.treePromise=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.readdirDeep(o);case 2:return t=e.sent.map((function(e){return{path:e.slice(o.length+1)}})),e.abrupt("return",bh(t));case 4:case"end":return e.stop()}}),e)})))(),this.indexPromise=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nh.acquire({fs:i,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.entries.filter((function(e){return 0===e.flags.stage})).reduce((function(e,t){return e[t.path]=t,e}),{}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))(),this.fs=i,this.dir=o,this.gitdir=u,this.ConstructEntry=function(){function e(t){n(this,e),Object.assign(this,t)}var t,i,o;return a(e,[{key:"populateStat",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.populateStat(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"populateContent",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.populateContent(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"populateHash",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.populateHash(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}var t,i,o,u;return a(e,[{key:"readdir",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exists){e.next=2;break}return e.abrupt("return",[]);case 2:return r=t.fullpath,n=this.fs,i=this.dir,e.next=6,n.readdir(Vl(i,r));case 6:if(null!==(a=e.sent)){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",a.map((function(e){return{fullpath:Vl(r,e),basename:e,exists:!0}})));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"populateStat",value:(o=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exists){e.next=2;break}return e.abrupt("return");case 2:return r=this.fs,n=this.dir,e.next=5,r.lstat("".concat(n,"/").concat(t.fullpath));case 5:if(i=e.sent,"blob"!=(a=i.isDirectory()?"tree":"blob")||i.isFile()||i.isSymbolicLink()||(a="special"),i){e.next=10;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t.fullpath,"'"));case 10:i=eh(i),Object.assign(t,{type:a},i);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"populateContent",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exists){e.next=2;break}return e.abrupt("return");case 2:return r=this.fs,n=this.dir,e.next=5,r.read("".concat(n,"/").concat(t.fullpath));case 5:i=e.sent,-1===t.size&&(t.size=i.length),Object.assign(t,{content:i});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"populateHash",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.indexPromise;case 4:if(r=e.sent,(n=r[t.fullpath])&&!ph(t,n)){e.next=17;break}if(vh("INDEX CACHE MISS: calculating SHA for ".concat(t.fullpath)),t.content){e.next=11;break}return e.next=11,t.populateContent();case 11:return e.next=13,nh(Ah.wrap({type:"blob",object:t.content}));case 13:i=e.sent,n&&i===n.oid&&r.insert({filepath:t.fullpath,stats:t,oid:i}),e.next=18;break;case 17:i=n.oid;case 18:Object.assign(t,{oid:i});case 19:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Em=function(){function e(t){var i=t.fs,o=t.dir,u=t.gitdir;n(this,e),this.fs=i,this.dir=o,this.gitdir=u;var s=this;this.ConstructEntry=function(){function e(t){n(this,e),this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}var t,i,o,u,c,f;return a(e,[{key:"conflict",value:(f=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"type",value:(c=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.type(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"mode",value:(u=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.mode(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"stat",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.stat(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"content",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.content(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"oid",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.oid(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}var t,i,o,u,s,c;return a(e,[{key:"readdir",value:(c=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._fullpath,n=this.fs,i=this.dir,e.next=4,n.readdir(Vl(i,r));case 4:if(null!==(a=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",a.map((function(e){return Vl(r,e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"type",value:(s=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._type){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._type);case 4:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"mode",value:(u=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._mode){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._mode);case 4:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"stat",value:(o=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._stat){e.next=14;break}return r=this.fs,n=this.dir,e.next=4,r.lstat("".concat(n,"/").concat(t._fullpath));case 4:if(i=e.sent){e.next=7;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t._fullpath,"'"));case 7:"blob"!=(a=i.isDirectory()?"tree":"blob")||i.isFile()||i.isSymbolicLink()||(a="special"),t._type=a,i=eh(i),t._mode=i.mode,-1===i.size&&t._actualSize&&(i.size=t._actualSize),t._stat=i;case 14:return e.abrupt("return",t._stat);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"content",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._content){e.next=15;break}return r=this.fs,n=this.dir,e.next=4,t.type();case 4:if(e.t0=e.sent,"tree"!==e.t0){e.next=9;break}t._content=void 0,e.next=15;break;case 9:return e.next=11,r.read("".concat(n,"/").concat(t._fullpath));case 11:i=e.sent,t._actualSize=i.length,t._stat&&-1===t._stat.size&&(t._stat.size=t._actualSize),t._content=i;case 15:return e.abrupt("return",t._content);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"oid",value:(t=r(regeneratorRuntime.mark((function e(t){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._oid){e.next=5;break}return n=this.fs,i=this.gitdir,e.next=4,Nh.acquire({fs:n,gitdir:i},function(){var e=r(regeneratorRuntime.mark((function e(r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.entriesMap.get(t._fullpath),e.next=3,t.stat();case 3:if(i=e.sent,n&&!ph(i,n)){e.next=26;break}return vh("INDEX CACHE MISS: calculating SHA for ".concat(t._fullpath)),e.next=8,t.content();case 8:if(void 0!==e.sent){e.next=13;break}a=void 0,e.next=24;break;case 13:return e.t0=nh,e.t1=Ah,e.next=17,t.content();case 17:return e.t2=e.sent,e.t3={type:"blob",object:e.t2},e.t4=e.t1.wrap.call(e.t1,e.t3),e.next=22,(0,e.t0)(e.t4);case 22:a=e.sent,n&&a===n.oid&&r.insert({filepath:t._fullpath,stats:i,oid:a});case 24:e.next=27;break;case 26:a=n.oid;case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:t._oid=a;case 5:return e.abrupt("return",t._oid);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Im(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,r=void 0===t?"default":t,n=e.dir,i=e.fs,a=void 0===i?Kh.get(r).get("fs"):i,o=e.gitdir,u=Object.create(null);return Object.defineProperty(u,Sm,{value:function(){return o=o||Vl(n,".git"),new _m({fs:a,dir:n,gitdir:o})}}),Object.defineProperty(u,Cm,{value:function(e){var t=e.fs,r=e.dir,n=e.gitdir;return new Em({fs:t,dir:r,gitdir:n})}}),Object.freeze(u),u}function jm(e,t){var r=t-e;return Array.from({length:r},(function(t,r){return e+r}))}var zm=void 0===Array.prototype.flat?function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}:function(e){return e.flat()},Om=function(){function e(){n(this,e),this.value=null}return a(e,[{key:"consider",value:function(e){null!=e&&(null===this.value?this.value=e:e<this.value&&(this.value=e))}},{key:"reset",value:function(){this.value=null}}]),e}();function Fm(e){var t,r,n,i,a,o,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(t=new Om,n=[],i=e.length,a=0;a<i;a++)n[a]=e[a].next().value,void 0!==n[a]&&t.consider(n[a]);if(null!==t.value){s.next=6;break}return s.abrupt("return");case 6:for(o=[],r=t.value,t.reset(),u=0;u<i;u++)void 0!==n[u]&&n[u]===r?(o[u]=n[u],n[u]=e[u].next().value):o[u]=null,void 0!==n[u]&&t.consider(n[u]);return s.next=13,o;case 13:if(null!==t.value){s.next=15;break}return s.abrupt("return");case 15:s.next=6;break;case 17:case"end":return s.stop()}}),Ll)}var Pm=function(e,t){return Promise.all(y(t).map(e))};function Mm(e){return Lm.apply(this,arguments)}function Lm(){return(Lm=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.trees,l=t.map,h=void 0===l?function(){var e=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}():l,d=t.reduce,m=void 0===d?function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zm(r),void 0!==t&&n.unshift(t),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}():d,v=t.iterate,p=void 0===v?Kh.get(i).get("iterate"):v,g=p||Pm,e.prev=2,b=f.map((function(e){return e[Cm]({fs:c,dir:a,gitdir:u})})),w=new Array(b.length).fill("."),k=jm(0,b.length),y=function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.map((function(e){t[e]=t[e]&&new b[e].ConstructEntry(t[e])})),e.next=3,Promise.all(k.map((function(e){return t[e]?b[e].readdir(t[e]):[]})));case 3:return r=e.sent,n=r.map((function(e){return null===e?[]:e})).map((function(e){return e[Symbol.iterator]()})),e.abrupt("return",{entries:t,children:Fm(n)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return r=e.sent,n=r.entries,i=r.children,a=n.find((function(e){return e&&e._fullpath}))._fullpath,e.next=8,h(a,n);case 8:if(null===(o=e.sent)){e.next=15;break}return e.next=12,g(R,i);case 12:return u=(u=e.sent).filter((function(e){return void 0!==e})),e.abrupt("return",m(o,u));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",R(w));case 11:throw e.prev=11,e.t0=e.catch(2),e.t0.caller="git.walk",e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var Bm=function(){function e(t){var i=t.fs,o=t.gitdir;n(this,e),this.treePromise=Nh.acquire({fs:i,gitdir:o},function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=bh(t.entries),n=t.conflictedPaths,i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,(u=r.get(o))&&(u.conflict=!0)}catch(e){i.e(e)}finally{i.f()}return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var u=this;this.ConstructEntry=function(){function e(t){n(this,e),Object.assign(this,t)}var t,i,o;return a(e,[{key:"populateStat",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.populateStat(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"populateContent",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.populateContent(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"populateHash",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.exists){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.populateHash(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}var t,i,o,u;return a(e,[{key:"readdir",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exists){e.next=2;break}return e.abrupt("return",[]);case 2:return r=t.fullpath,e.next=5,this.treePromise;case 5:if(n=e.sent,i=n.get(r)){e.next=9;break}return e.abrupt("return",null);case 9:if("blob"!==i.type){e.next=11;break}return e.abrupt("return",null);case 11:if("tree"===i.type){e.next=13;break}throw new Error("ENOTDIR: not a directory, scandir '".concat(r,"'"));case 13:return e.abrupt("return",i.children.map((function(e){return{fullpath:e.fullpath,basename:e.basename,exists:!0}})).sort((function(e,t){return Zl(e.fullpath,t.fullpath)})));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"populateStat",value:(o=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.treePromise;case 2:if(r=e.sent,n=r.get(t.fullpath)){e.next=6;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t.fullpath,"'"));case 6:i="tree"===n.type?{}:eh(n.metadata),Object.assign(t,{type:n.type},i);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"populateContent",value:(i=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"populateHash",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.treePromise;case 2:if(r=e.sent,n=r.get(t.fullpath)){e.next=6;break}return e.abrupt("return",null);case 6:if("tree"!==n.type){e.next=8;break}throw new Error("EISDIR: illegal operation on a directory, read");case 8:Object.assign(t,{oid:n.metadata.oid});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Dm(e){switch(e){case 16384:return"tree";case 33188:case 33261:case 40960:return"blob";case 57344:return"commit"}throw new $l(Ul.InternalFail,{message:"Unexpected GitTree entry mode: ".concat(e.toString(8))})}var Um=function(){function e(t){var i=t.fs,o=t.gitdir;n(this,e),this.treePromise=Nh.acquire({fs:i,gitdir:o},function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=bh(t.entries),n=t.conflictedPaths,i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,(u=r.get(o))&&(u.conflict=!0)}catch(e){i.e(e)}finally{i.f()}return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var u=this;this.ConstructEntry=function(){function e(t){n(this,e),this._fullpath=t,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1,this._conflict=null}var t,i,o,s,c,f;return a(e,[{key:"conflict",value:(f=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.conflict(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"type",value:(c=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.type(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"mode",value:(s=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.mode(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"stat",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.stat(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"content",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.content(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"oid",value:(t=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.oid(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}var t,i,o,u,s,c,f;return a(e,[{key:"readdir",value:(f=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._fullpath,e.next=3,this.treePromise;case 3:if(n=e.sent,i=n.get(r)){e.next=7;break}return e.abrupt("return",null);case 7:if("blob"!==i.type){e.next=9;break}return e.abrupt("return",null);case 9:if("tree"===i.type){e.next=11;break}throw new Error("ENOTDIR: not a directory, scandir '".concat(r,"'"));case 11:return(a=i.children.map((function(e){return e.fullpath}))).sort(Zl),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"type",value:(c=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._type){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._type);case 4:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"mode",value:(s=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._mode){e.next=3;break}return e.next=3,t.stat();case 3:return e.abrupt("return",t._mode);case 4:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"stat",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._stat){e.next=11;break}return e.next=3,this.treePromise;case 3:if(r=e.sent,n=r.get(t._fullpath)){e.next=7;break}throw new Error("ENOENT: no such file or directory, lstat '".concat(t._fullpath,"'"));case 7:i="tree"===n.type?{}:eh(n.metadata),t._type="tree"===n.type?"tree":Dm(i.mode),t._mode=i.mode,"tree"===n.type?t._stat=void 0:t._stat=i;case 11:return e.abrupt("return",t._stat);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"content",value:(o=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"conflict",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t._conflict){e.next=6;break}return e.next=3,this.treePromise;case 3:r=e.sent,n=r.get(t._fullpath),t._conflict=n.conflict;case 6:return e.abrupt("return",t._conflict);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"oid",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t._oid){e.next=6;break}return e.next=3,this.treePromise;case 3:r=e.sent,n=r.get(t._fullpath),t._oid=n.metadata.oid;case 6:return e.abrupt("return",t._oid);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function $m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,r=void 0===t?"default":t,n=e.dir,i=e.gitdir,a=e.fs,o=void 0===a?Kh.get(r).get("fs"):a,u=Object.create(null);return Object.defineProperty(u,Sm,{value:function(){return i=i||Vl(n,".git"),new Bm({fs:o,gitdir:i})}}),Object.defineProperty(u,Cm,{value:function(e){var t=e.fs,r=e.gitdir;return new Um({fs:t,gitdir:r})}}),Object.freeze(u),u}var Nm=["."];function Gm(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,y,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.remote,v=void 0===m?"origin":m,p=t.ref,g=t.filepaths,b=void 0===g?Nm:g,w=t.pattern,y=void 0===w?null:w,R=t.noCheckout,x=void 0!==R&&R,S=t.noSubmodules,C=void 0!==S&&S,T=t.newSubmoduleBehavior,_=void 0!==T&&T,e.prev=1,void 0!==p){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"checkout",parameter:"ref"});case 4:if(!l){e.next=7;break}return e.next=7,l.emit("".concat(d,"progress"),{phase:"Checking out ".concat(v,"/").concat(p),loaded:0,lengthComputable:!1});case 7:return E="",y&&((E=ym(y))&&(y=y.replace(E+"/","")),I=bl(y,{globstar:!0,extended:!0})),j=b.map((function(e){return Vl(e,E)})),z=b===Nm,e.prev=11,e.next=14,bd.resolve({fs:c,gitdir:u,ref:p});case 14:O=e.sent,e.next=29;break;case 17:return e.prev=17,e.t0=e.catch(11),F="".concat(v,"/").concat(p),e.next=22,bd.resolve({fs:c,gitdir:u,ref:F});case 22:return O=e.sent,e.next=25,Id({gitdir:u,fs:c,path:"branch.".concat(p,".remote"),value:"".concat(v)});case 25:return e.next=27,Id({gitdir:u,fs:c,path:"branch.".concat(p,".merge"),value:"refs/heads/".concat(p)});case 27:return e.next=29,c.write("".concat(u,"/refs/heads/").concat(p),O+"\n");case 29:if(x){e.next=46;break}return P=0,M=[],e.prev=32,e.next=35,Mm({fs:c,dir:a,gitdir:u,trees:[Tm({ref:p}),Im(),$m()],map:function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,i,o,u,s,f,h,m,v,p,g,b,w,y,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(r,3),i=n[0],o=n[1],u=n[2],"."!==t){e.next=3;break}return e.abrupt("return");case 3:if(i||u||!o){e.next=8;break}return e.next=6,Kl.isIgnored({fs:c,dir:a,filepath:t});case 6:if(!e.sent){e.next=8;break}return e.abrupt("return",null);case 8:if(z||j.some((function(e){return Rm(t,e)}))){e.next=10;break}return e.abrupt("return",null);case 10:if(!I){e.next=33;break}s=!1,f=A(j),e.prev=13,f.s();case 15:if((h=f.n()).done){e.next=23;break}if(m=h.value,v=t.replace(m+"/",""),!I.regex.test(v)){e.next=21;break}return s=!0,e.abrupt("break",23);case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),f.e(e.t0);case 28:return e.prev=28,f.f(),e.finish(28);case 31:if(s){e.next=33;break}return e.abrupt("return");case 33:if(i){e.next=41;break}if(!o){e.next=40;break}return e.next=37,c.rm(Vl(a,t));case 37:if(!l){e.next=40;break}return e.next=40,l.emit("".concat(d,"progress"),{phase:"Updating workdir",loaded:++P,lengthComputable:!1});case 40:return e.abrupt("return",null);case 41:return p="".concat(a,"/").concat(t),e.next=44,i.type();case 44:e.t1=e.sent,e.next="tree"===e.t1?47:"commit"===e.t1?51:"blob"===e.t1?69:108;break;case 47:if(o){e.next=50;break}return e.next=50,c.mkdir(p);case 50:return e.abrupt("break",119);case 51:if(C||console.log(new $l(Ul.NotImplementedFail,{thing:"submodule support"})),!_){e.next=68;break}if(o){e.next=56;break}return e.next=56,c.mkdir(p);case 56:return e.next=58,c.lstat(p);case 58:return(g=e.sent).mode=57344,e.t2=M,e.t3=t,e.t4=g,e.next=65,i.oid();case 65:e.t5=e.sent,e.t6={filepath:e.t3,stats:e.t4,oid:e.t5},e.t2.push.call(e.t2,e.t6);case 68:return e.abrupt("break",119);case 69:return e.next=71,i.oid();case 71:return b=e.sent,e.next=74,i.mode();case 74:if(w=e.sent,e.t7=!u||!o,e.t7){e.next=82;break}return e.next=79,u.oid();case 79:e.t8=e.sent,e.t9=b,e.t7=e.t8!==e.t9;case 82:if(!e.t7){e.next=102;break}return e.next=85,i.content();case 85:y=e.sent,e.t10=w,e.next=33188===e.t10?89:33261===e.t10?92:40960===e.t10?95:98;break;case 89:return e.next=91,c.write(p,y);case 91:return e.abrupt("break",99);case 92:return e.next=94,c.write(p,y,{mode:511});case 94:return e.abrupt("break",99);case 95:return e.next=97,c.writelink(p,y);case 97:return e.abrupt("break",99);case 98:throw new $l(Ul.InternalFail,{message:'Invalid mode "'.concat(w,'" detected in blob ').concat(b)});case 99:if(!l){e.next=102;break}return e.next=102,l.emit("".concat(d,"progress"),{phase:"Updating workdir",loaded:++P,lengthComputable:!1});case 102:return e.next=104,c.lstat(p);case 104:return R=e.sent,33261===w&&(R.mode=33261),M.push({filepath:t,stats:R,oid:b}),e.abrupt("break",119);case 108:return e.t11=$l,e.t12=Ul.ObjectTypeAssertionInTreeFail,e.next=112,i.type();case 112:return e.t13=e.sent,e.next=115,i.oid();case 115:throw e.t14=e.sent,e.t15=t,e.t16={type:e.t13,oid:e.t14,entrypath:e.t15},new e.t11(e.t12,e.t16);case 119:case"end":return e.stop()}}),e,null,[[13,25,28,31]])})));return function(t,r){return e.apply(this,arguments)}}()});case 35:return e.next=37,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.clear(),r=A(M);try{for(r.s();!(n=r.n()).done;)i=n.value,t.insert(i)}catch(e){r.e(e)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 37:e.next=46;break;case 39:if(e.prev=39,e.t1=e.catch(32),e.t1.code!==Ul.ReadObjectFail||e.t1.data.oid!==O){e.next=45;break}throw new $l(Ul.CommitNotFetchedError,{ref:p,oid:O});case 45:throw e.t1;case 46:return e.next=48,bd.expand({fs:c,gitdir:u,ref:p});case 48:return L=e.sent,B=L.startsWith("refs/heads")?"ref: ".concat(L):O,e.next=52,c.write("".concat(u,"/HEAD"),"".concat(B,"\n"));case 52:e.next=58;break;case 54:throw e.prev=54,e.t2=e.catch(1),e.t2.caller="git.checkout",e.t2;case 58:case"end":return e.stop()}}),e,null,[[1,54],[11,17],[32,39]])})))).apply(this,arguments)}var Hm=["."];function Vm(){return(Vm=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,y,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.remote,v=void 0===m?"origin":m,p=t.ref,g=t.filepaths,b=void 0===g?Hm:g,w=t.noCheckout,y=void 0!==w&&w,R=t.noUpdateHead,x=void 0===R?void 0===p:R,S=t.dryRun,C=void 0!==S&&S,T=t.debug,_=void 0!==T&&T,E=t.force,I=void 0!==E&&E,j=t.noSubmodules,z=void 0!==j&&j,O=t.newSubmoduleBehavior,F=void 0!==O&&O,e.prev=1,P=p||"HEAD",e.prev=3,e.next=6,bd.resolve({fs:c,gitdir:u,ref:P});case 6:M=e.sent,e.next=23;break;case 9:if(e.prev=9,e.t0=e.catch(3),"HEAD"!==P){e.next=13;break}throw e.t0;case 13:return L="".concat(v,"/").concat(P),e.next=16,bd.resolve({fs:c,gitdir:u,ref:L});case 16:return M=e.sent,e.next=19,Id({gitdir:u,fs:c,path:"branch.".concat(P,".remote"),value:"".concat(v)});case 19:return e.next=21,Id({gitdir:u,fs:c,path:"branch.".concat(P,".merge"),value:"refs/heads/".concat(P)});case 21:return e.next=23,c.write("".concat(u,"/refs/heads/").concat(P),M+"\n");case 23:if(y){e.next=59;break}return e.prev=24,e.next=27,Km({fs:c,dir:a,gitdir:u,ref:P,force:I,filepaths:b,emitter:l,emitterPrefix:d,noSubmodules:z,newSubmoduleBehavior:F});case 27:B=e.sent,e.next=37;break;case 30:if(e.prev=30,e.t1=e.catch(24),e.t1.code!==Ul.ReadObjectFail||e.t1.data.oid!==M){e.next=36;break}throw new $l(Ul.CommitNotFetchedError,{ref:P,oid:M});case 36:throw e.t1;case 37:if(!((D=B.filter((function(e){return"conflict"===k(e,1)[0]})).map((function(e){var t=k(e,2);t[0];return t[1]}))).length>0)){e.next=40;break}throw new $l(Ul.CheckoutConflictError,{filepaths:D});case 40:if(!((U=B.filter((function(e){return"error"===k(e,1)[0]})).map((function(e){var t=k(e,2);t[0];return t[1]}))).length>0)){e.next=43;break}throw new $l(Ul.InternalFail,{message:U});case 43:if(!C){e.next=49;break}if(!_){e.next=48;break}return e.abrupt("return",B);case 48:return e.abrupt("return");case 49:return $=0,N=B.length,e.next=53,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(B.filter((function(e){var t=k(e,1)[0];return"delete"===t||"delete-index"===t})).map(function(){var e=r(regeneratorRuntime.mark((function e(r){var n,i,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(r,2),i=n[0],o=n[1],u="".concat(a,"/").concat(o),"delete"!==i){e.next=5;break}return e.next=5,c.rm(u);case 5:if(t.delete({filepath:o}),!l){e.next=9;break}return e.next=9,l.emit("".concat(d,"progress"),{phase:"Updating workdir",loaded:++$,total:N});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 53:return e.next=55,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A(B),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=23;break}if(i=k(n.value,2),o=i[0],u=i[1],"rmdir"!==o&&"rmdir-index"!==o){e.next=21;break}return s="".concat(a,"/").concat(u),e.prev=7,"rmdir-index"===o&&t.delete({filepath:u}),e.next=11,c.rmdir(s);case 11:l&&l.emit("".concat(d,"progress"),{phase:"Updating workdir",loaded:++$,total:N}),e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(7),"ENOTEMPTY"!==e.t0.code){e.next=20;break}console.log("Did not delete ".concat(u," because directory is not empty")),e.next=21;break;case 20:throw e.t0;case 21:e.next=3;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),r.e(e.t1);case 28:return e.prev=28,r.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[1,25,28,31],[7,14]])})));return function(t){return e.apply(this,arguments)}}());case 55:return e.next=57,Promise.all(B.filter((function(e){var t=k(e,1)[0];return"mkdir"===t||"mkdir-index"===t})).map(function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k(t,2),r[0],n=r[1],i="".concat(a,"/").concat(n),e.next=4,c.mkdir(i);case 4:if(!l){e.next=7;break}return e.next=7,l.emit("".concat(d,"progress"),{phase:"Updating workdir",loaded:++$,total:N});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 57:return e.next=59,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(B.filter((function(e){var t=k(e,1)[0];return"create"===t||"create-index"===t||"update"===t||"mkdir-index"===t})).map(function(){var e=r(regeneratorRuntime.mark((function e(r){var n,i,o,s,f,h,m,v,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(r,5),i=n[0],o=n[1],s=n[2],f=n[3],h=n[4],m="".concat(a,"/").concat(o),e.prev=2,"create-index"===i||"mkdir-index"===i){e.next=27;break}return e.next=6,rm({fs:c,gitdir:u,oid:s});case 6:if(v=e.sent,p=v.object,!h){e.next=11;break}return e.next=11,c.rm(m);case 11:if(33188!==f){e.next=16;break}return e.next=14,c.write(m,p);case 14:e.next=27;break;case 16:if(33261!==f){e.next=21;break}return e.next=19,c.write(m,p,{mode:511});case 19:e.next=27;break;case 21:if(40960!==f){e.next=26;break}return e.next=24,c.writelink(m,p);case 24:e.next=27;break;case 26:throw new $l(Ul.InternalFail,{message:"Invalid mode 0o".concat(f.toString(8)," detected in blob ").concat(s)});case 27:return e.next=29,c.lstat(m);case 29:if(g=e.sent,33261===f&&(g.mode=493),"mkdir-index"===i&&(g.mode=57344),t.insert({filepath:o,stats:g,oid:s}),!l){e.next=36;break}return e.next=36,l.emit("".concat(d,"progress"),{phase:"Updating workdir",loaded:++$,total:N});case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(2),console.log(e.t0);case 41:case"end":return e.stop()}}),e,null,[[2,38]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 59:if(x){e.next=70;break}return e.next=62,bd.expand({fs:c,gitdir:u,ref:P});case 62:if(!(G=e.sent).startsWith("refs/heads")){e.next=68;break}return e.next=66,bd.writeSymbolicRef({fs:c,gitdir:u,ref:"HEAD",value:G});case 66:e.next=70;break;case 68:return e.next=70,bd.writeRef({fs:c,gitdir:u,ref:"HEAD",value:M});case 70:e.next=76;break;case 72:throw e.prev=72,e.t2=e.catch(1),e.t2.caller="git.checkout",e.t2;case 76:case"end":return e.stop()}}),e,null,[[1,72],[3,9],[24,30]])})))).apply(this,arguments)}function Km(e){return qm.apply(this,arguments)}function qm(){return(qm=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fs,i=t.dir,a=t.gitdir,o=t.ref,u=t.force,s=t.filepaths,c=t.emitter,f=t.emitterPrefix,l=t.noSubmodules,h=t.newSubmoduleBehavior,d=0,e.abrupt("return",Mm({fs:n,dir:i,gitdir:a,trees:[Tm({ref:o}),Im(),$m()],map:function(){var e=r(regeneratorRuntime.mark((function e(t,r){var a,o,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=k(r,3),o=a[0],m=a[1],v=a[2],"."!==t){e.next=3;break}return e.abrupt("return");case 3:if(o||v||!m){e.next=8;break}return e.next=6,Kl.isIgnored({fs:n,dir:i,filepath:t});case 6:if(!e.sent){e.next=8;break}return e.abrupt("return",null);case 8:if(s===Hm||s.some((function(e){return Rm(t,e)}))){e.next=10;break}return e.abrupt("return",null);case 10:if(!c){e.next=13;break}return e.next=13,c.emit("".concat(f,"progress"),{phase:"Analyzing workdir",loaded:++d,lengthComputable:!1});case 13:p=[!!v,!!o,!!m].map(Number).join(""),e.t0=p,e.next="000"===e.t0?17:"001"===e.t0?18:"010"===e.t0?21:"011"===e.t0?54:"100"===e.t0?128:"101"===e.t0?129:"110"===e.t0?157:"111"===e.t0?157:313;break;case 17:return e.abrupt("return");case 18:if(!u||!s.includes(t)){e.next=20;break}return e.abrupt("return",["delete",t]);case 20:return e.abrupt("return");case 21:return e.next=23,o.type();case 23:e.t1=e.sent,e.next="tree"===e.t1?26:"blob"===e.t1?27:"commit"===e.t1?35:48;break;case 26:return e.abrupt("return",["mkdir",t]);case 27:return e.t2=t,e.next=30,o.oid();case 30:return e.t3=e.sent,e.next=33,o.mode();case 33:return e.t4=e.sent,e.abrupt("return",["create",e.t2,e.t3,e.t4]);case 35:if(l||console.log(new $l(Ul.NotImplementedFail,{thing:"submodule support"})),!h){e.next=47;break}return e.t5=t,e.next=40,o.oid();case 40:return e.t6=e.sent,e.next=43,o.mode();case 43:return e.t7=e.sent,e.abrupt("return",["mkdir-index",e.t5,e.t6,e.t7]);case 47:return e.abrupt("return");case 48:return e.t8="new entry Unhandled type ",e.next=51,o.type();case 51:return e.t9=e.sent,e.t10=e.t8.concat.call(e.t8,e.t9),e.abrupt("return",["error",e.t10]);case 54:return e.t13="",e.next=57,o.type();case 57:return e.t14=e.sent,e.t12=e.t13.concat.call(e.t13,e.t14,"-"),e.next=61,m.type();case 61:e.t15=e.sent,e.t11=e.t12.concat.call(e.t12,e.t15),e.next="tree-tree"===e.t11?65:"tree-blob"===e.t11?66:"blob-tree"===e.t11?66:"blob-blob"===e.t11?67:"commit-tree"===e.t11?124:"commit-blob"===e.t11?126:127;break;case 65:return e.abrupt("return");case 66:return e.abrupt("return",["conflict",t]);case 67:return e.next=69,o.oid();case 69:return e.t16=e.sent,e.next=72,m.oid();case 72:if(e.t17=e.sent,e.t16===e.t17){e.next=95;break}if(!u){e.next=92;break}return e.t18=t,e.next=78,o.oid();case 78:return e.t19=e.sent,e.next=81,o.mode();case 81:return e.t20=e.sent,e.next=84,o.mode();case 84:return e.t21=e.sent,e.next=87,m.mode();case 87:return e.t22=e.sent,e.t23=e.t21!==e.t22,e.abrupt("return",["update",e.t18,e.t19,e.t20,e.t23]);case 92:return e.abrupt("return",["conflict",t]);case 93:e.next=124;break;case 95:return e.next=97,o.mode();case 97:return e.t24=e.sent,e.next=100,m.mode();case 100:if(e.t25=e.sent,e.t24===e.t25){e.next=116;break}if(!u){e.next=113;break}return e.t26=t,e.next=106,o.oid();case 106:return e.t27=e.sent,e.next=109,o.mode();case 109:return e.t28=e.sent,e.abrupt("return",["update",e.t26,e.t27,e.t28,!0]);case 113:return e.abrupt("return",["conflict",t]);case 114:e.next=124;break;case 116:return e.t29=t,e.next=119,o.oid();case 119:return e.t30=e.sent,e.next=122,o.mode();case 122:return e.t31=e.sent,e.abrupt("return",["create-index",e.t29,e.t30,e.t31]);case 124:return console.log(new $l(Ul.NotImplementedFail,{thing:"submodule support"})),e.abrupt("return");case 126:return e.abrupt("return",["conflict",t]);case 127:return e.abrupt("return",["error","new entry Unhandled type ".concat(o.type)]);case 128:return e.abrupt("return",["delete-index",t]);case 129:return e.next=131,v.type();case 131:e.t32=e.sent,e.next="tree"===e.t32?134:"blob"===e.t32?135:"commit"===e.t32?150:151;break;case 134:return e.abrupt("return",["rmdir",t]);case 135:return e.next=137,v.oid();case 137:return e.t33=e.sent,e.next=140,m.oid();case 140:if(e.t34=e.sent,e.t33===e.t34){e.next=149;break}if(!u){e.next=146;break}return e.abrupt("return",["delete",t]);case 146:return e.abrupt("return",["conflict",t]);case 147:e.next=150;break;case 149:return e.abrupt("return",["delete",t]);case 150:return e.abrupt("return",["rmdir-index",t]);case 151:return e.t35="delete entry Unhandled type ",e.next=154,v.type();case 154:return e.t36=e.sent,e.t37=e.t35.concat.call(e.t35,e.t36),e.abrupt("return",["error",e.t37]);case 157:return e.t40="",e.next=160,v.type();case 160:return e.t41=e.sent,e.t39=e.t40.concat.call(e.t40,e.t41,"-"),e.next=164,o.type();case 164:e.t42=e.sent,e.t38=e.t39.concat.call(e.t39,e.t42),e.next="tree-tree"===e.t38?168:"blob-blob"===e.t38?169:"tree-blob"===e.t38?276:"blob-tree"===e.t38?281:"commit-commit"===e.t38?282:303;break;case 168:return e.abrupt("return");case 169:return e.next=171,v.oid();case 171:return e.t45=e.sent,e.next=174,o.oid();case 174:if(e.t46=e.sent,e.t44=e.t45===e.t46,!e.t44){e.next=184;break}return e.next=179,v.mode();case 179:return e.t47=e.sent,e.next=182,o.mode();case 182:e.t48=e.sent,e.t44=e.t47===e.t48;case 184:if(e.t43=e.t44,!e.t43){e.next=187;break}e.t43=!u;case 187:if(!e.t43){e.next=189;break}return e.abrupt("return");case 189:if(!m){e.next=227;break}return e.next=192,m.oid();case 192:return e.t50=e.sent,e.next=195,v.oid();case 195:if(e.t51=e.sent,e.t49=e.t50!==e.t51,!e.t49){e.next=205;break}return e.next=200,m.oid();case 200:return e.t52=e.sent,e.next=203,o.oid();case 203:e.t53=e.sent,e.t49=e.t52!==e.t53;case 205:if(!e.t49){e.next=225;break}if(!u){e.next=224;break}return e.t54=t,e.next=210,o.oid();case 210:return e.t55=e.sent,e.next=213,o.mode();case 213:return e.t56=e.sent,e.next=216,o.mode();case 216:return e.t57=e.sent,e.next=219,m.mode();case 219:return e.t58=e.sent,e.t59=e.t57!==e.t58,e.abrupt("return",["update",e.t54,e.t55,e.t56,e.t59]);case 224:return e.abrupt("return",["conflict",t]);case 225:e.next=243;break;case 227:if(!u){e.next=243;break}return e.t60=t,e.next=231,o.oid();case 231:return e.t61=e.sent,e.next=234,o.mode();case 234:return e.t62=e.sent,e.next=237,o.mode();case 237:return e.t63=e.sent,e.next=240,v.mode();case 240:return e.t64=e.sent,e.t65=e.t63!==e.t64,e.abrupt("return",["update",e.t60,e.t61,e.t62,e.t65]);case 243:return e.next=245,o.mode();case 245:return e.t66=e.sent,e.next=248,v.mode();case 248:if(e.t67=e.sent,e.t66===e.t67){e.next=258;break}return e.t68=t,e.next=253,o.oid();case 253:return e.t69=e.sent,e.next=256,o.mode();case 256:return e.t70=e.sent,e.abrupt("return",["update",e.t68,e.t69,e.t70,!0]);case 258:return e.next=260,o.oid();case 260:return e.t71=e.sent,e.next=263,v.oid();case 263:if(e.t72=e.sent,e.t71===e.t72){e.next=275;break}return e.t73=t,e.next=268,o.oid();case 268:return e.t74=e.sent,e.next=271,o.mode();case 271:return e.t75=e.sent,e.abrupt("return",["update",e.t73,e.t74,e.t75,!1]);case 275:return e.abrupt("return");case 276:return e.t76=t,e.next=279,o.oid();case 279:return e.t77=e.sent,e.abrupt("return",["update-dir-to-blob",e.t76,e.t77]);case 281:return e.abrupt("return",["update-blob-to-tree",t]);case 282:if(!h){e.next=293;break}return e.t78=t,e.next=286,o.oid();case 286:return e.t79=e.sent,e.next=289,o.mode();case 289:return e.t80=e.sent,e.abrupt("return",["mkdir-index",e.t78,e.t79,e.t80]);case 293:return e.t82="update entry Unhandled type ",e.next=296,v.type();case 296:return e.t83=e.sent,e.t81=e.t82.concat.call(e.t82,e.t83,"-"),e.next=300,o.type();case 300:return e.t84=e.sent,e.t85=e.t81.concat.call(e.t81,e.t84),e.abrupt("return",["error",e.t85]);case 303:return e.t87="update entry Unhandled type ",e.next=306,v.type();case 306:return e.t88=e.sent,e.t86=e.t87.concat.call(e.t87,e.t88,"-"),e.next=310,o.type();case 310:return e.t89=e.sent,e.t90=e.t86.concat.call(e.t86,e.t89),e.abrupt("return",["error",e.t90]);case 313:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),reduce:function(){var e=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zm(r),t){e.next=5;break}return e.abrupt("return",r);case 5:if(!t||"rmdir"!==t[0]){e.next=10;break}return r.push(t),e.abrupt("return",r);case 10:return r.unshift(t),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zm(e){return e=(e=e.replace(/^git@([^:]+):/,"https://$1/")).replace(/^ssh:\/\//,"https://")}function Ym(e){var t=e.username,r=e.password;return"Basic ".concat(wa.from("".concat(t,":").concat(r)).toString("base64"))}function Jm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.username,r=e.password,n=e.token,i=e.oauth2format,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[!!t,!!r,!!n,!!i].map(Number).join("");switch(o){case"0000":return null;case"1000":if(a)return{username:t,password:""};throw new $l(Ul.MissingPasswordTokenError);case"0100":throw new $l(Ul.MissingUsernameError);case"1100":return{username:t,password:r};case"0010":return{username:n,password:""};case"1010":return{username:t,password:n};case"0110":throw new $l(Ul.MixPasswordTokenError);case"1110":throw new $l(Ul.MixUsernamePasswordTokenError);case"0001":throw new $l(Ul.MissingTokenError);case"1001":throw new $l(Ul.MixUsernameOauth2formatMissingTokenError);case"0101":throw new $l(Ul.MixPasswordOauth2formatMissingTokenError);case"1101":throw new $l(Ul.MixUsernamePasswordOauth2formatMissingTokenError);case"0011":return Nl(i,n);case"1011":throw new $l(Ul.MixUsernameOauth2formatTokenError);case"0111":throw new $l(Ul.MixPasswordOauth2formatTokenError);case"1111":throw new $l(Ul.MixUsernamePasswordOauth2formatTokenError)}}function Qm(e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dd(t);case 1:return e.next=4,n.next();case 4:if(i=e.sent,a=i.value,o=i.done,!a){e.next=10;break}return e.next=10,r(a);case 10:if(!o){e.next=12;break}return e.abrupt("break",14);case 12:e.next=1;break;case 14:n.return&&n.return();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ev(e){return tv.apply(this,arguments)}function tv(){return(tv=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,Qm(t,(function(e){return r.push(wa.from(e))}));case 3:return e.abrupt("return",wa.concat(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rv(e){var t=e.match(/^https?:\/\/([^/]+)@/);if(null==t)return null;var r=k((t=t[1]).split(":"),2),n=r[0],i=r[1];return{url:e=e.replace("".concat(t,"@"),""),username:n,password:i}}function nv(e){return iv.apply(this,arguments)}function iv(){return(iv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.core,t.emitter,t.emitterPrefix,r=t.url,n=t.method,i=void 0===n?"GET":n,a=t.headers,o=void 0===a?{}:a,!(u=t.body)){e.next=5;break}return e.next=4,ev(u);case 4:u=e.sent;case 5:return e.next=7,na.fetch(r,{method:i,headers:o,body:u});case 7:if(!(s=e.sent).body||!s.body.getReader){e.next=12;break}e.t0=Bd(s.body),e.next=18;break;case 12:return e.t1=Uint8Array,e.next=15,s.arrayBuffer();case 15:e.t2=e.sent,e.t3=new e.t1(e.t2),e.t0=[e.t3];case 18:c=e.t0,o={},f=A(s.headers.entries());try{for(f.s();!(l=f.n()).done;)h=k(l.value,2),d=h[0],m=h[1],o[d]=m}catch(e){f.e(e)}finally{f.f()}return e.abrupt("return",{url:s.url,method:s.method,statusCode:s.status,statusMessage:s.statusText,body:c,headers:o});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var av="0.0.0-development",ov="git/isomorphic-git@0.0.0-development";function uv(e,t){var r=t.toString(16);return"0".repeat(e-r.length)+r}var sv=function(){function e(){n(this,e)}return a(e,null,[{key:"flush",value:function(){return wa.from("0000","utf8")}},{key:"encode",value:function(e){"string"==typeof e&&(e=wa.from(e));var t=uv(4,e.length+4);return wa.concat([wa.from(t,"utf8"),e])}},{key:"streamReader",value:function(e){var t=new Ud(e);return(function(){var e=r(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.read(4);case 3:if(null!=(r=e.sent)){e.next=6;break}return e.abrupt("return",!0);case 6:if(0!==(r=parseInt(r.toString("utf8"),16))){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,t.read(r-4);case 11:if(null!=(n=e.sent)){e.next=14;break}return e.abrupt("return",!0);case 14:return e.abrupt("return",n);case 17:return e.prev=17,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}())}}]),e}();function cv(e,t){return fv.apply(this,arguments)}function fv(){return(fv=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,y,R,x,S,C,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.service,i=new Set,a=new Map,o=new Map,u=sv.streamReader(t),e.next=7,u();case 7:s=e.sent;case 8:if(null!==s){e.next=14;break}return e.next=11,u();case 11:s=e.sent,e.next=8;break;case 14:if(!0!==s){e.next=16;break}throw new $l(Ul.EmptyServerResponseFail);case 16:if(s.toString("utf8").replace(/\n$/,"")==="# service=".concat(n)){e.next=18;break}throw new $l(Ul.AssertServerResponseFail,{expected:"# service=".concat(n,"\\n"),actual:s.toString("utf8")});case 18:return e.next=20,u();case 20:c=e.sent;case 21:if(null!==c){e.next=27;break}return e.next=24,u();case 24:c=e.sent,e.next=21;break;case 27:if(!0!==c){e.next=29;break}return e.abrupt("return",{capabilities:i,refs:a,symrefs:o});case 29:f=lv(c.toString("utf8"),"\0","\\x00"),l=k(f,2),h=l[0],l[1].split(" ").map((function(e){return i.add(e)})),d=lv(h," "," "),m=k(d,2),v=m[0],p=m[1],a.set(p,v);case 33:return e.next=36,u();case 36:if(!0!==(g=e.sent)){e.next=39;break}return e.abrupt("break",42);case 39:null!==g&&(b=lv(g.toString("utf8")," "," "),w=k(b,2),y=w[0],R=w[1],a.set(R,y)),e.next=33;break;case 42:x=A(i);try{for(x.s();!(S=x.n()).done;)(C=S.value).startsWith("symref=")&&3===(T=C.match(/symref=([^:]+):(.*)/)).length&&o.set(T[1],T[2])}catch(e){x.e(e)}finally{x.f()}return e.abrupt("return",{capabilities:i,refs:a,symrefs:o});case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(e,t,r){var n=e.trim().split(t);if(2!==n.length)throw new $l(Ul.AssertServerResponseFail,{expected:"Two strings separated by '".concat(r,"'"),actual:e.toString("utf8")});return n}var hv=function(e,t){return e.endsWith("?")?"".concat(e).concat(t):"".concat(e,"/").concat(t.replace(/^https?:\/\//,""))},dv=function(){function e(){n(this,e)}var t,i,o;return a(e,null,[{key:"capabilities",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["discover","connect"]);case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"discover",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=t.corsProxy,i=t.service,a=t.url,o=t.noGitSuffix,u=t.auth,s=t.headers,c=a,a.endsWith(".git")||o||(a=a+=".git"),(f=rv(a))&&(a=f.url,u.oauth2format||(u.username=u.username||f.username,u.password=u.password||f.password)),n&&(a=hv(n,a)),l=Kh.get(r).get("http")||nv,("undefined"==typeof window||n)&&(s["user-agent"]=s["user-agent"]||ov),(h=Jm(u,!!f))&&(s.Authorization=Ym(h)),e.next=12,l({core:r,method:"GET",url:"".concat(a,"/info/refs?service=").concat(i),headers:s});case 12:if(401!==(d=e.sent).statusCode||!Kh.get(r).has("credentialManager")){e.next=31;break}return m=Kh.get(r).get("credentialManager"),e.next=17,m.fill({url:c});case 17:return u=e.sent,(v=Jm(u))&&(s.Authorization=Ym(v)),e.next=22,l({core:r,method:"GET",url:"".concat(a,"/info/refs?service=").concat(i),headers:s});case 22:if(401!==(d=e.sent).statusCode){e.next=28;break}return e.next=26,m.rejected({url:c,auth:u});case 26:e.next=31;break;case 28:if(200!==d.statusCode){e.next=31;break}return e.next=31,m.approved({url:c,auth:u});case 31:if(200===d.statusCode){e.next=33;break}throw new $l(Ul.HTTPError,{statusCode:d.statusCode,statusMessage:d.statusMessage});case 33:if(d.headers["content-type"]!=="application/x-".concat(i,"-advertisement")){e.next=41;break}return e.next=36,cv(d.body,{service:i});case 36:return(p=e.sent).auth=u,e.abrupt("return",p);case 41:return e.next=43,ev(d.body);case 43:return g=e.sent,b=g.toString("utf8"),w=b.length<256?b:b.slice(0,256)+"...",e.prev=46,e.next=49,cv([g],{service:i});case 49:return(k=e.sent).auth=u,e.abrupt("return",k);case 54:throw e.prev=54,e.t0=e.catch(46),new $l(Ul.RemoteDoesNotSupportSmartHTTP,{preview:w,response:b});case 57:case"end":return e.stop()}}),e,null,[[46,54]])}))),function(e){return i.apply(this,arguments)})},{key:"connect",value:(t=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=t.emitter,i=t.emitterPrefix,a=t.corsProxy,o=t.service,u=t.url,s=t.noGitSuffix,c=t.auth,f=t.body,l=t.headers,u.endsWith(".git")||s||(u=u+=".git"),(h=rv(u))&&(u=h.url,c.username=c.username||h.username,c.password=c.password||h.password),a&&(u=hv(a,u)),l["content-type"]="application/x-".concat(o,"-request"),l.accept="application/x-".concat(o,"-result"),d=Kh.get(r).get("http")||nv,("undefined"==typeof window||a)&&(l["user-agent"]=l["user-agent"]||ov),(c=Jm(c,!!h))&&(l.Authorization=Ym(c)),e.next=13,d({core:r,emitter:n,emitterPrefix:i,method:"POST",url:"".concat(u,"/").concat(o),body:f,headers:l});case 13:if(200===(m=e.sent).statusCode){e.next=16;break}throw new $l(Ul.HTTPError,{statusCode:m.statusCode,statusMessage:m.statusMessage});case 16:return e.abrupt("return",m);case 17:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();var mv=function(){function e(){n(this,e)}return a(e,null,[{key:"getRemoteHelperFor",value:function(e){var t=e.url,r=new Map;r.set("http",dv),r.set("https",dv);var n=function(e){var t=e.url;if(t.startsWith("git@"))return{transport:"ssh",address:t};var r=t.match(/(\w+)(:\/\/|::)(.*)/);return null!==r?"://"===r[2]?{transport:r[1],address:r[0]}:"::"===r[2]?{transport:r[1],address:r[3]}:void 0:void 0}({url:t});if(!n)throw new $l(Ul.RemoteUrlParseError,{url:t});if(r.has(n.transport))return r.get(n.transport);throw new $l(Ul.UnknownTransportError,{url:t,transport:n.transport,suggestion:"ssh"===n.transport?Zm(t):void 0})}}]),e}(),vv=null,pv=function(){function e(){n(this,e)}var t,i;return a(e,null,[{key:"read",value:(i=r(regeneratorRuntime.mark((function e(t){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fs,i=t.gitdir,null===vv&&(vv=new Hu),a=Vl(i,"shallow"),o=new Set,e.next=6,vv.acquire(a,r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.read(a,{encoding:"utf8"});case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",o);case 5:if(""!==t.trim()){e.next=7;break}return e.abrupt("return",o);case 7:t.trim().split("\n").map((function(e){return o.add(e)}));case 8:case"end":return e.stop()}}),e)}))));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"write",value:(t=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fs,i=t.gitdir,a=t.oids,null===vv&&(vv=new Hu),o=Vl(i,"shallow"),!(a.size>0)){e.next=9;break}return u=y(a).join("\n")+"\n",e.next=7,vv.acquire(o,r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.write(o,u,{encoding:"utf8"});case 2:case"end":return e.stop()}}),e)}))));case 7:e.next=11;break;case 9:return e.next=11,vv.acquire(o,r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.rm(o);case 2:case"end":return e.stop()}}),e)}))));case 11:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function gv(e){return bv.apply(this,arguments)}function bv(){return(bv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a="objects/".concat(i.slice(0,2),"/").concat(i.slice(2)),e.abrupt("return",r.exists("".concat(n,"/").concat(a)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(e){return kv.apply(this,arguments)}function kv(){return(kv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a=t.getExternalRefDelta,e.next=3,r.readdir(Vl(n,"objects/pack"));case 3:o=(o=e.sent).filter((function(e){return e.endsWith(".idx")})),u=A(o),e.prev=6,u.s();case 8:if((s=u.n()).done){e.next=20;break}return c=s.value,f="".concat(n,"/objects/pack/").concat(c),e.next=13,Xd({fs:r,filename:f,getExternalRefDelta:a});case 13:if(!(l=e.sent).error){e.next=16;break}throw new $l(Ul.InternalFail,{message:l.error});case 16:if(!l.offsets.has(i)){e.next=18;break}return e.abrupt("return",!0);case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),u.e(e.t0);case 25:return e.prev=25,u.f(),e.finish(25);case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e,null,[[6,22,25,28]])})))).apply(this,arguments)}function yv(e){return Rv.apply(this,arguments)}function Rv(){return(Rv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a=t.format,void 0===a?"content":a,o=function(e){return rm({fs:r,gitdir:n,oid:e})},e.next=4,gv({fs:r,gitdir:n,oid:i});case 4:if(u=e.sent){e.next=9;break}return e.next=8,wv({fs:r,gitdir:n,oid:i,getExternalRefDelta:o});case 8:u=e.sent;case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xv=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function Av(e){var t=xv.exec(e);return t?"remotes/"===t[1]&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}function Sv(e){return"5041434b0000000200000000"===e.slice(0,12).toString("hex")}function Cv(e,t){var r=e.map((function(e){return e.split("=",1)[0]}));return t.filter((function(e){var t=e.split("=",1)[0];return r.includes(t)}))}var Tv=function(){function e(){n(this,e),this._queue=[]}var t;return a(e,[{key:"write",value:function(e){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){var t=this._waiting;this._waiting=null,t({value:e})}else this._queue.push(e)}},{key:"end",value:function(){if(this._ended=!0,this._waiting){var e=this._waiting;this._waiting=null,e({done:!0})}}},{key:"destroy",value:function(e){this._ended=!0,this.error=e}},{key:"next",value:(t=r(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queue.length>0)){e.next=2;break}return e.abrupt("return",{value:this._queue.shift()});case 2:if(!this._ended){e.next=4;break}return e.abrupt("return",{done:!0});case 4:if(!this._waiting){e.next=6;break}throw Error("You cannot call read until the previous call to read has returned!");case 6:return e.abrupt("return",new Promise((function(e){t._waiting=e})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function _v(e){var t=new Tv,n="";return r(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qm(e,(function(e){for(e=e.toString("utf8"),n+=e;;){var r=(a=void 0,o=void 0,a=(i=n).indexOf("\r"),o=i.indexOf("\n"),-1===a&&-1===o?-1:-1===a?o+1:-1===o?a+1:o===a+1?o+1:Math.min(a,o)+1);if(-1===r)break;t.write(n.slice(0,r)),n=n.slice(r)}var i,a,o}));case 2:n.length>0&&t.write(n),t.end();case 4:case"end":return r.stop()}}),r)})))(),t}var Ev=function(){function e(){n(this,e)}return a(e,null,[{key:"demux",value:function(e){var t=sv.streamReader(e),n=new Tv,i=new Tv,a=new Tv,o=function(){var e=r(regeneratorRuntime.mark((function e(){var r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(null!==(r=e.sent)){e.next=5;break}return e.abrupt("return",o());case 5:if(!0!==r){e.next=10;break}return n.end(),a.end(),i.end(),e.abrupt("return");case 10:e.t0=r[0],e.next=1===e.t0?13:2===e.t0?15:3===e.t0?17:21;break;case 13:return i.write(r.slice(1)),e.abrupt("break",22);case 15:return a.write(r.slice(1)),e.abrupt("break",22);case 17:return u=r.slice(1),a.write(u),i.destroy(new Error(u.toString("utf8"))),e.abrupt("return");case 21:n.write(r.slice(0));case 22:o();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o(),{packetlines:n,packfile:i,progress:a}}}]),e}();function Iv(e){return jv.apply(this,arguments)}function jv(){return(jv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev.demux(t),n=r.packetlines,i=r.packfile,a=r.progress,o=[],u=[],s=[],c=!1,f=!1,e.abrupt("return",new Promise((function(e,t){Qm(n,(function(r){var n=r.toString("utf8").trim();if(n.startsWith("shallow")){var l=n.slice(-41).trim();40!==l.length&&t(new $l(Ul.CorruptShallowOidFail,{oid:l})),o.push(l)}else if(n.startsWith("unshallow")){var h=n.slice(-41).trim();40!==h.length&&t(new $l(Ul.CorruptShallowOidFail,{oid:h})),u.push(h)}else if(n.startsWith("ACK")){var d=k(n.split(" "),3),m=d[1],v=d[2];s.push({oid:m,status:v}),v||(f=!0)}else n.startsWith("NAK")&&(c=!0,f=!0);f&&e({shallows:o,unshallows:u,acks:s,nak:c,packfile:i,progress:a})}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zv(e){var t=e.capabilities,r=void 0===t?[]:t,n=e.wants,i=void 0===n?[]:n,a=e.haves,o=void 0===a?[]:a,u=e.shallows,s=void 0===u?[]:u,c=e.depth,f=void 0===c?null:c,l=e.since,h=void 0===l?null:l,d=e.exclude,m=void 0===d?[]:d,v=[];i=y(new Set(i));var p,g=" ".concat(r.join(" ")),b=A(i);try{for(b.s();!(p=b.n()).done;){var w=p.value;v.push(sv.encode("want ".concat(w).concat(g,"\n"))),g=""}}catch(e){b.e(e)}finally{b.f()}var k,R=A(s);try{for(R.s();!(k=R.n()).done;){var x=k.value;v.push(sv.encode("shallow ".concat(x,"\n")))}}catch(e){R.e(e)}finally{R.f()}null!==f&&v.push(sv.encode("deepen ".concat(f,"\n"))),null!==h&&v.push(sv.encode("deepen-since ".concat(Math.floor(h.valueOf()/1e3),"\n")));var S,C=A(m);try{for(C.s();!(S=C.n()).done;){var T=S.value;v.push(sv.encode("deepen-not ".concat(T,"\n")))}}catch(e){C.e(e)}finally{C.f()}v.push(sv.flush());var _,E=A(o);try{for(E.s();!(_=E.n()).done;){var I=_.value;v.push(sv.encode("have ".concat(I,"\n")))}}catch(e){E.e(e)}finally{E.f()}return v.push(sv.encode("done\n")),v}function Ov(e){return Fv.apply(this,arguments)}function Fv(){return(Fv=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K,q,Z,Y,J,Q,X,ee,te,re,ne;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.ref,v=void 0===m?"HEAD":m,p=t.refs,g=t.remote,b=t.url,w=t.noGitSuffix,k=void 0!==w&&w,y=t.corsProxy,R=t.authUsername,x=t.authPassword,A=t.username,S=void 0===A?R:A,C=t.password,T=void 0===C?x:C,_=t.token,E=t.oauth2format,I=t.depth,j=void 0===I?null:I,z=t.since,O=void 0===z?null:z,F=t.exclude,P=void 0===F?[]:F,M=t.relative,L=void 0!==M&&M,B=t.tags,D=void 0!==B&&B,U=t.singleBranch,$=void 0!==U&&U,N=t.headers,G=void 0===N?{}:N,W=t.prune,H=void 0!==W&&W,V=t.pruneTags,K=void 0!==V&&V,q=t.autoTranslateSSH,Z=void 0!==q&&q,Y=t.onprogress,e.prev=1,void 0!==Y&&console.warn("The `onprogress` callback has been deprecated. Please use the more generic `emitter` EventEmitter argument instead."),e.next=5,Pv({core:i,gitdir:u,fs:c,emitter:l,emitterPrefix:d,ref:v,refs:p,remote:g,url:b,noGitSuffix:k,corsProxy:y,username:S,password:T,token:_,oauth2format:E,depth:j,since:O,exclude:P,relative:L,tags:D,singleBranch:$,headers:G,prune:H,pruneTags:K,autoTranslateSSH:Z});case 5:if(null!==(J=e.sent)){e.next=8;break}return e.abrupt("return",{defaultBranch:null,fetchHead:null,fetchHeadDescription:null});case 8:return l&&Qm(_v(J.progress),function(){var e=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.emit("".concat(d,"message"),t),!(r=t.match(/([^:]*).*\((\d+?)\/(\d+?)\)/))){e.next=5;break}return e.next=5,l.emit("".concat(d,"progress"),{phase:r[1].trim(),loaded:parseInt(r[2],10),total:parseInt(r[3],10),lengthComputable:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,ev(J.packfile);case 11:if(Q=e.sent,X=Q.slice(-20).toString("hex"),ee={defaultBranch:J.HEAD,fetchHead:J.FETCH_HEAD.oid,fetchHeadDescription:J.FETCH_HEAD.description},J.headers&&(ee.headers=J.headers),H&&(ee.pruned=J.pruned),""===X||Sv(Q)){e.next=32;break}return ee.packfile="objects/pack/pack-".concat(X,".pack"),te=Vl(u,ee.packfile),e.next=21,c.write(te,Q);case 21:return re=function(e){return rm({fs:c,gitdir:u,oid:e})},e.next=24,Yd.fromPack({pack:Q,getExternalRefDelta:re,emitter:l,emitterPrefix:d});case 24:return ne=e.sent,e.t0=c,e.t1=te.replace(/\.pack$/,".idx"),e.next=29,ne.toBuffer();case 29:return e.t2=e.sent,e.next=32,e.t0.write.call(e.t0,e.t1,e.t2);case 32:return e.abrupt("return",ee);case 35:throw e.prev=35,e.t3=e.catch(1),e.t3.caller="git.fetch",e.t3;case 39:case"end":return e.stop()}}),e,null,[[1,35]])})))).apply(this,arguments)}function Pv(e){return Mv.apply(this,arguments)}function Mv(){return(Mv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K,q,Z,Y,J,Q,X,ee,te,re,ne,ie,ae,oe,ue,se,ce,fe,le,he,de,me,ve,pe,ge,be,we,ke,ye,Re,xe,Ae,Se,Ce,Te;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=t.gitdir,i=t.fs,a=t.emitter,o=t.emitterPrefix,u=t.ref,s=t.refs,c=void 0===s?[u]:s,f=t.remote,l=t.url,h=t.noGitSuffix,d=t.corsProxy,m=t.username,v=t.password,p=t.token,g=t.oauth2format,b=t.depth,w=t.since,R=t.exclude,x=t.relative,S=t.tags,C=t.singleBranch,T=t.headers,_=t.prune,E=t.pruneTags,I=t.autoTranslateSSH,null===b){e.next=5;break}if(!Number.isNaN(parseInt(b))){e.next=4;break}throw new $l(Ul.InvalidDepthParameterError,{depth:b});case 4:b=parseInt(b);case 5:if(e.t1=f,e.t1){e.next=10;break}return e.next=9,Id({gitdir:n,fs:i,path:"branch.".concat(u,".remote")});case 9:e.t1=e.sent;case 10:if(e.t0=e.t1,e.t0){e.next=13;break}e.t0="origin";case 13:if(f=e.t0,void 0!==l){e.next=18;break}return e.next=17,Id({fs:i,gitdir:n,path:"remote.".concat(f,".url")});case 17:l=e.sent;case 18:if(e.t2=I,e.t2){e.next=23;break}return e.next=22,Id({fs:i,gitdir:n,path:"isomorphic-git.autoTranslateSSH"});case 22:e.t2=e.sent;case 23:if(!e.t2){e.next=25;break}l=Zm(l);case 25:if(void 0!==d){e.next=29;break}return e.next=28,Id({fs:i,gitdir:n,path:"http.corsProxy"});case 28:d=e.sent;case 29:return j={username:m,password:v,token:p,oauth2format:g},z=mv.getRemoteHelperFor({url:l}),e.next=33,z.discover({core:r,corsProxy:d,service:"git-upload-pack",url:l,noGitSuffix:h,auth:j,headers:T});case 33:if(O=e.sent,j=O.auth,0!==(F=O.refs).size){e.next=38;break}return e.abrupt("return",null);case 38:if(null===b||O.capabilities.has("shallow")){e.next=40;break}throw new $l(Ul.RemoteDoesNotSupportShallowFail);case 40:if(null===w||O.capabilities.has("deepen-since")){e.next=42;break}throw new $l(Ul.RemoteDoesNotSupportDeepenSinceFail);case 42:if(!(R.length>0)||O.capabilities.has("deepen-not")){e.next=44;break}throw new $l(Ul.RemoteDoesNotSupportDeepenNotFail);case 44:if(!0!==x||O.capabilities.has("deepen-relative")){e.next=46;break}throw new $l(Ul.RemoteDoesNotSupportDeepenRelativeFail);case 46:P=bd.resolveAgainstMap({ref:u,map:F}),M=P.oid,L=P.fullref,B=A(F.keys()),e.prev=48,B.s();case 50:if((D=B.n()).done){e.next=57;break}if(!((U=D.value)===L||"HEAD"===U||U.startsWith("refs/heads/")||S&&U.startsWith("refs/tags/"))){e.next=54;break}return e.abrupt("continue",55);case 54:F.delete(U);case 55:e.next=50;break;case 57:e.next=62;break;case 59:e.prev=59,e.t3=e.catch(48),B.e(e.t3);case 62:return e.prev=62,B.f(),e.finish(62);case 65:if($=Cv(y(O.capabilities),["multi_ack_detailed","no-done","side-band-64k","ofs-delta","agent=".concat(ov)]),x&&$.push("deepen-relative"),N=C?[M]:F.values(),!C){e.next=72;break}e.t4=c,e.next=75;break;case 72:return e.next=74,bd.listRefs({fs:i,gitdir:n,filepath:"refs"});case 74:e.t4=e.sent;case 75:G=e.t4,W=[],H=A(G),e.prev=78,H.s();case 80:if((V=H.n()).done){e.next=99;break}return K=V.value,e.prev=82,e.next=85,bd.expand({fs:i,gitdir:n,ref:K});case 85:return K=e.sent,e.next=88,bd.resolve({fs:i,gitdir:n,ref:K});case 88:return q=e.sent,e.next=91,yv({fs:i,gitdir:n,oid:q});case 91:if(!e.sent){e.next=93;break}W.push(q);case 93:e.next=97;break;case 95:e.prev=95,e.t5=e.catch(82);case 97:e.next=80;break;case 99:e.next=104;break;case 101:e.prev=101,e.t6=e.catch(78),H.e(e.t6);case 104:return e.prev=104,H.f(),e.finish(104);case 107:return W=y(new Set(W)),e.next=110,pv.read({fs:i,gitdir:n});case 110:return Z=e.sent,Y=O.capabilities.has("shallow")?y(Z):[],J=zv({capabilities:$,wants:N,haves:W,shallows:Y,depth:b,since:w,exclude:R}),e.next=115,ev(J);case 115:return Q=e.sent,e.next=118,z.connect({core:r,emitter:a,emitterPrefix:o,corsProxy:d,service:"git-upload-pack",url:l,noGitSuffix:h,auth:j,body:[Q],headers:T});case 118:return X=e.sent,e.next=121,Iv(X.body);case 121:ee=e.sent,X.headers&&(ee.headers=X.headers),te=A(ee.shallows),e.prev=124,te.s();case 126:if((re=te.n()).done){e.next=147;break}if(ne=re.value,Z.has(ne)){e.next=145;break}return e.prev=129,e.next=132,rm({fs:i,gitdir:n,oid:ne});case 132:return ie=e.sent,ae=ie.object,oe=new Ed(ae),e.next=137,Promise.all(oe.headers().parent.map((function(e){return yv({fs:i,gitdir:n,oid:e})})));case 137:ue=e.sent,0===ue.length||ue.every((function(e){return e}))||Z.add(ne),e.next=145;break;case 142:e.prev=142,e.t7=e.catch(129),Z.add(ne);case 145:e.next=126;break;case 147:e.next=152;break;case 149:e.prev=149,e.t8=e.catch(124),te.e(e.t8);case 152:return e.prev=152,te.f(),e.finish(152);case 155:se=A(ee.unshallows);try{for(se.s();!(ce=se.n()).done;)fe=ce.value,Z.delete(fe)}catch(e){se.e(e)}finally{se.f()}return e.next=159,pv.write({fs:i,gitdir:n,oids:Z});case 159:if(!C){e.next=180;break}le=new Map([[L,M]]),he=new Map,de=10,me=L;case 164:if(!de--){e.next=172;break}if(void 0!==(ve=O.symrefs.get(me))){e.next=168;break}return e.abrupt("break",172);case 168:he.set(me,ve),me=ve,e.next=164;break;case 172:return le.set(me,F.get(me)),e.next=175,bd.updateRemoteRefs({fs:i,gitdir:n,remote:f,refs:le,symrefs:he,tags:S,prune:_});case 175:pe=e.sent,ge=pe.pruned,_&&(ee.pruned=ge),e.next=185;break;case 180:return e.next=182,bd.updateRemoteRefs({fs:i,gitdir:n,remote:f,refs:F,symrefs:O.symrefs,tags:S,prune:_,pruneTags:E});case 182:be=e.sent,we=be.pruned,_&&(ee.pruned=we);case 185:if(ee.HEAD=O.symrefs.get("HEAD"),void 0!==ee.HEAD){e.next=206;break}ke=bd.resolveAgainstMap({ref:"HEAD",map:F}),ye=ke.oid,Re=A(F.entries()),e.prev=189,Re.s();case 191:if((xe=Re.n()).done){e.next=198;break}if(Ae=k(xe.value,2),Se=Ae[0],Ce=Ae[1],"HEAD"===Se||Ce!==ye){e.next=196;break}return ee.HEAD=Se,e.abrupt("break",198);case 196:e.next=191;break;case 198:e.next=203;break;case 200:e.prev=200,e.t9=e.catch(189),Re.e(e.t9);case 203:return e.prev=203,Re.f(),e.finish(203);case 206:return Te=L.startsWith("refs/tags")?"tag":"branch",ee.FETCH_HEAD={oid:M,description:"".concat(Te," '").concat(Av(L),"' of ").concat(l)},e.abrupt("return",ee);case 209:case"end":return e.stop()}}),e,null,[[48,59,62,65],[78,101,104,107],[82,95],[124,149,152,155],[129,142],[189,200,203,206]])})))).apply(this,arguments)}function Lv(e){return Bv.apply(this,arguments)}function Bv(){return(Bv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.bare,a=void 0!==i&&i,o=t.dir,u=t.gitdir,s=void 0===u?a?o:Vl(o,".git"):u,c=t.emitter,f=void 0===c?Kh.get(n).get("emitter"):c,l=t.emitterPrefix,h=void 0===l?"":l,d=t.fs,m=void 0===d?Kh.get(n).get("fs"):d,v=t.noOverwrite,p=void 0!==v&&v,e.prev=1,g=0,e.t0=p,!e.t0){e.next=8;break}return e.next=7,m.exists(s+"/config");case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return");case 10:if(w=(b=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"]).length,b=b.map((function(e){return s+"/"+e})),!f){e.next=16;break}return e.next=16,f.emit("".concat(h,"progress"),{phase:"Initializing repo",loaded:0,total:w,lengthComputable:!0});case 16:k=A(b),e.prev=17,k.s();case 19:if((y=k.n()).done){e.next=28;break}return R=y.value,e.next=23,m.mkdir(R);case 23:if(!f){e.next=26;break}return e.next=26,f.emit("".concat(h,"progress"),{phase:"Initializing repo",loaded:++g,total:w,lengthComputable:!0});case 26:e.next=19;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(17),k.e(e.t1);case 33:return e.prev=33,k.f(),e.finish(33);case 36:return e.next=38,m.write(s+"/config","[core]\n\trepositoryformatversion = 0\n\tfilemode = false\n"+"\tbare = ".concat(a,"\n")+(a?"":"\tlogallrefupdates = true\n")+"\tsymlinks = false\n\tignorecase = true\n");case 38:return e.next=40,m.write(s+"/HEAD","ref: refs/heads/master\n");case 40:e.next=46;break;case 42:throw e.prev=42,e.t2=e.catch(1),e.t2.caller="git.init",e.t2;case 46:case"end":return e.stop()}}),e,null,[[1,42],[17,30,33,36]])})))).apply(this,arguments)}function Dv(){return(Dv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K,q,Z,Y,J,Q,X,ee,te,re;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.emitter,f=void 0===c?Kh.get(n).get("emitter"):c,l=t.emitterPrefix,h=void 0===l?"":l,d=t.url,m=t.noGitSuffix,v=void 0!==m&&m,p=t.corsProxy,g=void 0===p?void 0:p,b=t.ref,w=void 0===b?void 0:b,k=t.remote,y=void 0===k?"origin":k,R=t.authUsername,x=t.authPassword,A=t.username,S=void 0===A?void 0:A,C=t.password,T=void 0===C?void 0:C,_=t.token,E=void 0===_?void 0:_,I=t.oauth2format,j=void 0===I?void 0:I,z=t.depth,O=void 0===z?void 0:z,F=t.since,P=void 0===F?void 0:F,M=t.exclude,L=void 0===M?[]:M,B=t.relative,D=void 0!==B&&B,U=t.singleBranch,$=void 0!==U&&U,N=t.noCheckout,G=void 0!==N&&N,W=t.noSubmodules,H=void 0!==W&&W,V=t.newSubmoduleBehavior,K=void 0!==V&&V,q=t.noTags,Z=void 0!==q&&q,Y=t.headers,J=void 0===Y?{}:Y,Q=t.autoTranslateSSH,X=void 0!==Q&&Q,ee=t.onprogress,e.prev=1,void 0!==ee&&console.warn("The `onprogress` callback has been deprecated. Please use the more generic `emitter` EventEmitter argument instead."),S=void 0===S?R:S,T=void 0===T?x:T,e.next=7,Lv({gitdir:o,fs:s});case 7:return e.next=9,Id({gitdir:o,fs:s,path:"remote.".concat(y,".url"),value:d});case 9:return e.next=11,Id({gitdir:o,fs:s,path:"remote.".concat(y,".fetch"),value:"+refs/heads/*:refs/remotes/".concat(y,"/*")});case 11:if(!g){e.next=14;break}return e.next=14,Id({gitdir:o,fs:s,path:"http.corsProxy",value:g});case 14:return e.next=16,Ov({core:n,gitdir:o,fs:s,emitter:f,emitterPrefix:h,noGitSuffix:v,ref:w,remote:y,username:S,password:T,token:E,oauth2format:j,depth:O,since:P,exclude:L,relative:D,singleBranch:$,headers:J,tags:!Z,autoTranslateSSH:X});case 16:if(te=e.sent,re=te.defaultBranch,null!==te.fetchHead){e.next=21;break}return e.abrupt("return");case 21:return w=(w=w||re).replace("refs/heads/",""),e.next=25,Gm({dir:i,gitdir:o,fs:s,emitter:f,emitterPrefix:h,ref:w,remote:y,noCheckout:G,noSubmodules:H,newSubmoduleBehavior:K});case 25:e.next=31;break;case 27:throw e.prev=27,e.t0=e.catch(1),e.t0.caller="git.clone",e.t0;case 31:case"end":return e.stop()}}),e,null,[[1,27]])})))).apply(this,arguments)}function Uv(e){return $v.apply(this,arguments)}function $v(){return($v=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.fullname,f=void 0!==c&&c,e.prev=1,e.next=4,bd.resolve({fs:s,gitdir:o,ref:"HEAD",depth:2});case 4:if((l=e.sent).startsWith("refs/")){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",f?l:Av(l));case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.currentBranch",e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Nv(){return(Nv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"deleteBranch",parameter:"ref"});case 4:if(c===hl.clean(c)){e.next=6;break}throw new $l(Ul.InvalidRefNameError,{verb:"delete",noun:"branch",ref:c,suggestion:hl.clean(c)});case 6:return e.next=8,s.exists("".concat(o,"/refs/heads/").concat(c));case 8:if(e.sent){e.next=11;break}throw new $l(Ul.RefNotExistsError,{verb:"delete",noun:"branch",ref:c});case 11:return e.next=13,Uv({fs:s,gitdir:o});case 13:if(f=e.sent,c!==f){e.next=16;break}throw new $l(Ul.BranchDeleteError,{ref:c});case 16:return e.next=18,s.rm("".concat(o,"/refs/heads/").concat(c));case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(1),e.t0.caller="git.deleteBranch",e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function Gv(e){return Wv.apply(this,arguments)}function Wv(){return(Wv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,e.prev=1,e.next=4,bd.deleteRef({fs:s,gitdir:o,ref:c});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0.caller="git.deleteRef",e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function Hv(){return(Hv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.remote,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"deleteRemote",parameter:"remote"});case 4:return e.next=6,vd.get({fs:s,gitdir:o});case 6:return f=e.sent,e.next=9,f.deleteSection("remote",c);case 9:return e.next=11,vd.save({fs:s,gitdir:o,config:f});case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(1),e.t0.caller="git.deleteRemote",e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function Vv(){return(Vv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"deleteTag",parameter:"ref"});case 4:return c=c.startsWith("refs/tags/")?c:"refs/tags/".concat(c),e.next=7,Gv({fs:s,gitdir:o,ref:c});case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0.caller="git.deleteTag",e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Kv(e){return qv.apply(this,arguments)}function qv(){return(qv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a=i.slice(0,2),e.next=4,r.readdir("".concat(n,"/objects/").concat(a));case 4:return o=e.sent,e.abrupt("return",o.map((function(e){return"".concat(a).concat(e)})).filter((function(e){return e.startsWith(i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zv(e){return Yv.apply(this,arguments)}function Yv(){return(Yv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a=t.getExternalRefDelta,o=[],e.next=4,r.readdir(Vl(n,"objects/pack"));case 4:u=(u=e.sent).filter((function(e){return e.endsWith(".idx")})),s=A(u),e.prev=7,s.s();case 9:if((c=s.n()).done){e.next=21;break}return f=c.value,l="".concat(n,"/objects/pack/").concat(f),e.next=14,Xd({fs:r,filename:l,getExternalRefDelta:a});case 14:if(!(h=e.sent).error){e.next=17;break}throw new $l(Ul.InternalFail,{message:h.error});case 17:d=A(h.offsets.keys());try{for(d.s();!(m=d.n()).done;)(v=m.value).startsWith(i)&&o.push(v)}catch(e){d.e(e)}finally{d.f()}case 19:e.next=9;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),s.e(e.t0);case 26:return e.prev=26,s.f(),e.finish(26);case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}}),e,null,[[7,23,26,29]])})))).apply(this,arguments)}function Jv(e){return Qv.apply(this,arguments)}function Qv(){return(Qv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a=function(e){return rm({fs:r,gitdir:n,oid:e})},e.next=4,Kv({fs:r,gitdir:n,oid:i});case 4:return o=e.sent,e.next=7,Zv({fs:r,gitdir:n,oid:i,getExternalRefDelta:a});case 7:if(u=e.sent,1!==(s=o.concat(u)).length){e.next=11;break}return e.abrupt("return",s[0]);case 11:if(!(s.length>1)){e.next=13;break}throw new $l(Ul.AmbiguousShortOid,{short:i,matches:s.join(", ")});case 13:throw new $l(Ul.ShortOidNotFound,{short:i});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xv(){return(Xv=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,e.prev=1,e.next=4,Jv({fs:s,gitdir:o,oid:c});case 4:return f=e.sent,e.abrupt("return",f);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.caller="git.expandOid",e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ep(){return(ep=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,e.prev=1,e.next=4,bd.expand({fs:s,gitdir:o,ref:c});case 4:return f=e.sent,e.abrupt("return",f);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.caller="git.expandRef",e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function tp(e){return rp.apply(this,arguments)}function rp(){return(rp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,S,C,T,_,E,I,j,z,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oids,e.prev=1,f={},l=(1<<c.length)-1,h=c.map((function(e,t){return{oid:e,i:t}}));case 5:if(!h.length){e.next=44;break}d={},m=A(h);try{for(m.s();!(v=m.n()).done;)p=v.value,g=p.oid,b=p.i,f[g]?f[g]|=1<<b:f[g]=1<<b,f[g]===l&&(d[g]=1)}catch(e){m.e(e)}finally{m.f()}if(!((d=Object.keys(d)).length>0)){e.next=12;break}return e.abrupt("return",d);case 12:w=[],k=A(h),e.prev=14,k.s();case 16:if((y=k.n()).done){e.next=33;break}return R=y.value,x=R.oid,S=R.i,e.prev=18,e.next=21,rm({fs:s,gitdir:o,oid:x});case 21:C=e.sent,T=C.object,_=Ed.from(T),E=_.parseHeaders(),I=E.parent,j=A(I);try{for(j.s();!(z=j.n()).done;)O=z.value,w.push({oid:O,i:S})}catch(e){j.e(e)}finally{j.f()}e.next=31;break;case 29:e.prev=29,e.t0=e.catch(18);case 31:e.next=16;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(14),k.e(e.t1);case 38:return e.prev=38,k.f(),e.finish(38);case 41:h=w,e.next=5;break;case 44:return e.abrupt("return",[]);case 47:throw e.prev=47,e.t2=e.catch(1),e.t2.caller="git.findMergeBase",e.t2;case 51:case"end":return e.stop()}}),e,null,[[1,47],[14,35,38,41],[18,29]])})))).apply(this,arguments)}function np(){return(np=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.fs,a=void 0===i?Kh.get(n).get("fs"):i,o=t.filepath,e.prev=1,e.abrupt("return",ip(a,o));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0.caller="git.findRoot",e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}function ip(e,t){return ap.apply(this,arguments)}function ap(){return(ap=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.exists(Vl(r,".git"));case 2:if(!e.sent){e.next=6;break}return e.abrupt("return",r);case 6:if((n=Wl(r))!==r){e.next=9;break}throw new $l(Ul.GitRootNotFoundError,{filepath:r});case 9:return e.abrupt("return",ip(t,n));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function op(e){return up.apply(this,arguments)}function up(){return(up=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.tree,"string"==typeof(f=t.path)&&(f=f.split("/")),c){e.next=6;break}return e.next=5,sp({fs:s,gitdir:o});case 5:c=e.sent;case 6:l=f.shift(),h=A(c),e.prev=8,h.s();case 10:if((d=h.n()).done){e.next=27;break}if((m=d.value).path!==l){e.next=25;break}if(0!==f.length){e.next=15;break}return e.abrupt("return",m.oid);case 15:return e.next=17,rm({fs:s,gitdir:o,oid:m.oid});case 17:if(v=e.sent,p=v.type,g=v.object,"tree"!==p){e.next=23;break}return b=xh.from(g),e.abrupt("return",op({fs:s,gitdir:o,tree:b,path:f}));case 23:if("blob"!==p){e.next=25;break}throw new $l(Ul.ObjectTypeAssertionInPathFail,{oid:m.oid,path:f.join("/")});case 25:e.next=10;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(8),h.e(e.t0);case 32:return e.prev=32,h.f(),e.finish(32);case 35:return e.abrupt("return",null);case 36:case"end":return e.stop()}}),e,null,[[8,29,32,35]])})))).apply(this,arguments)}function sp(e){return cp.apply(this,arguments)}function cp(){return(cp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,e.prev=1,e.next=4,bd.resolve({fs:r,gitdir:n,ref:"HEAD"});case 4:i=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.code!==Ul.ResolveRefError){e.next=11;break}return e.abrupt("return",[]);case 11:return e.next=13,rm({fs:r,gitdir:n,oid:i});case 13:if(a=e.sent,o=a.type,u=a.object,"commit"===o){e.next=18;break}throw new $l(Ul.ResolveCommitError,{oid:i});case 18:return s=Ed.from(u),i=s.parseHeaders().tree,e.abrupt("return",fp({fs:r,gitdir:n,oid:i}));case 21:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function fp(e){return lp.apply(this,arguments)}function lp(){return(lp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,e.next=3,rm({fs:r,gitdir:n,oid:i});case 3:if(a=e.sent,o=a.type,u=a.object,"tree"===o){e.next=8;break}throw new $l(Ul.ResolveTreeError,{oid:i});case 8:return s=xh.from(u).entries(),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hp(){return(hp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.corsProxy,a=t.url,o=t.authUsername,u=t.authPassword,s=t.noGitSuffix,c=void 0!==s&&s,f=t.username,l=void 0===f?o:f,h=t.password,d=void 0===h?u:h,m=t.token,v=t.oauth2format,p=t.headers,g=void 0===p?{}:p,b=t.forPush,w=void 0!==b&&b,e.prev=1,R={username:l,password:d,token:m,oauth2format:v},e.next=5,dv.discover({core:n,corsProxy:i,service:w?"git-receive-pack":"git-upload-pack",url:a,noGitSuffix:c,auth:R,headers:g});case 5:x=e.sent,R=x.auth,S={capabilities:y(x.capabilities)},C=A(x.refs);try{for(C.s();!(T=C.n()).done;){_=k(T.value,2),E=_[0],I=_[1],j=E.split("/"),z=j.pop(),O=S,F=A(j);try{for(F.s();!(P=F.n()).done;)M=P.value,O[M]=O[M]||{},O=O[M]}catch(e){F.e(e)}finally{F.f()}O[z]=I}}catch(e){C.e(e)}finally{C.f()}L=A(x.symrefs);try{for(L.s();!(B=L.n()).done;){D=k(B.value,2),U=D[0],$=D[1],N=U.split("/"),G=N.pop(),W=S,H=A(N);try{for(H.s();!(V=H.n()).done;)K=V.value,W[K]=W[K]||{},W=W[K]}catch(e){H.e(e)}finally{H.f()}W[G]=$}}catch(e){L.e(e)}finally{L.f()}return e.abrupt("return",S);case 15:throw e.prev=15,e.t0=e.catch(1),e.t0.caller="git.getRemoteInfo",e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function dp(e){return mp.apply(this,arguments)}function mp(){return(mp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,n=t.object,i=t.format,a=void 0===i?"content":i,o=t.oid,u=void 0===o?void 0:o,"deflated"===a){e.next=6;break}return"wrapped"!==a&&(n=Ah.wrap({type:r,object:n})),e.next=5,nh(n);case 5:u=e.sent;case 6:return e.abrupt("return",{oid:u,object:n});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vp(){return(vp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.core,r=t.object,e.prev=1,"string"==typeof r&&(r=wa.from(r,"utf8")),n="blob",e.next=6,dp({type:"blob",format:"content",object:r});case 6:return i=e.sent,a=i.oid,o=i.object,e.abrupt("return",{oid:a,type:n,object:o,format:"wrapped"});case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.caller="git.hashBlob",e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function pp(){return(pp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.emitter,f=void 0===c?Kh.get(n).get("emitter"):c,l=t.emitterPrefix,h=void 0===l?"":l,d=t.filepath,e.prev=1,d=Vl(i,d),e.next=5,s.read(d);case 5:return m=e.sent,v=function(e){return rm({fs:s,gitdir:o,oid:e})},e.next=9,Yd.fromPack({pack:m,getExternalRefDelta:v,emitter:f,emitterPrefix:h});case 9:return p=e.sent,e.t0=s,e.t1=d.replace(/\.pack$/,".idx"),e.next=14,p.toBuffer();case 14:return e.t2=e.sent,e.next=17,e.t0.write.call(e.t0,e.t1,e.t2);case 17:e.next=23;break;case 19:throw e.prev=19,e.t3=e.catch(1),e.t3.caller="git.indexPack",e.t3;case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function gp(e){return bp.apply(this,arguments)}function bp(){return(bp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,S,C,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,f=t.ancestor,l=t.depth,h=void 0===l?-1:l,e.prev=1,e.next=4,pv.read({fs:s,gitdir:o});case 4:if(d=e.sent,c){e.next=7;break}throw new $l(Ul.MissingRequiredParameterError,{function:"isDescendent",parameter:"oid"});case 7:if(f){e.next=9;break}throw new $l(Ul.MissingRequiredParameterError,{function:"isDescendent",parameter:"ancestor"});case 9:if(c!==f){e.next=11;break}return e.abrupt("return",!1);case 11:m=[c],v=new Set,p=0;case 14:if(!m.length){e.next=46;break}if(p++!==h){e.next=17;break}throw new $l(Ul.MaxSearchDepthExceeded,{depth:h});case 17:return g=m.shift(),e.next=20,rm({fs:s,gitdir:o,oid:g});case 20:if(b=e.sent,w=b.type,k=b.object,"commit"===w){e.next=25;break}throw new $l(Ul.ResolveCommitError,{oid:g});case 25:y=Ed.from(k).parse(),R=A(y.parent),e.prev=27,R.s();case 29:if((x=R.n()).done){e.next=35;break}if(x.value!==f){e.next=33;break}return e.abrupt("return",!0);case 33:e.next=29;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(27),R.e(e.t0);case 40:return e.prev=40,R.f(),e.finish(40);case 43:if(!d.has(g)){S=A(y.parent);try{for(S.s();!(C=S.n()).done;)T=C.value,v.has(T)||(m.push(T),v.add(T))}catch(e){S.e(e)}finally{S.f()}}e.next=14;break;case 46:return e.abrupt("return",!1);case 49:throw e.prev=49,e.t1=e.catch(1),e.t1.caller="git.isDescendent",e.t1;case 53:case"end":return e.stop()}}),e,null,[[1,49],[27,37,40,43]])})))).apply(this,arguments)}function wp(){return(wp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.remote,f=void 0===c?void 0:c,e.prev=1,e.abrupt("return",bd.listBranches({fs:s,gitdir:o,remote:f}));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0.caller="git.listBranches",e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}function kp(e){return yp.apply(this,arguments)}function yp(){return(yp=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,S,C,T,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S=function(){return(S=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,f,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.add(t),e.next=3,rm({fs:c,gitdir:u,oid:t});case 3:if(r=e.sent,n=r.type,i=r.object,"tag"!==n){e.next=10;break}return a=im.from(i),o=a.headers().object,e.abrupt("return",x(o));case 10:if("commit"===n){e.next=12;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:t,type:n,expected:"commit"});case 12:if(h.has(t)){e.next=33;break}s=Ed.from(i),f=s.headers().parent,l=A(f),e.prev=16,l.s();case 18:if((d=l.n()).done){e.next=25;break}if(t=d.value,m.has(t)||R.has(t)){e.next=23;break}return e.next=23,x(t);case 23:e.next=18;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(16),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[16,27,30,33]])})))).apply(this,arguments)},x=function(e){return S.apply(this,arguments)},n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.start,l=t.finish,e.next=5,pv.read({fs:c,gitdir:u});case 5:h=e.sent,d=new Set,m=new Set,v=A(f),e.prev=9,v.s();case 11:if((p=v.n()).done){e.next=20;break}return g=p.value,e.t0=d,e.next=16,bd.resolve({fs:c,gitdir:u,ref:g});case 16:e.t1=e.sent,e.t0.add.call(e.t0,e.t1);case 18:e.next=11;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(9),v.e(e.t2);case 25:return e.prev=25,v.f(),e.finish(25);case 28:b=A(l),e.prev=29,b.s();case 31:if((w=b.n()).done){e.next=44;break}return k=w.value,e.prev=33,e.next=36,bd.resolve({fs:c,gitdir:u,ref:k});case 36:y=e.sent,m.add(y),e.next=42;break;case 40:e.prev=40,e.t3=e.catch(33);case 42:e.next=31;break;case 44:e.next=49;break;case 46:e.prev=46,e.t4=e.catch(29),b.e(e.t4);case 49:return e.prev=49,b.f(),e.finish(49);case 52:R=new Set,C=A(d),e.prev=54,C.s();case 56:if((T=C.n()).done){e.next=62;break}return _=T.value,e.next=60,x(_);case 60:e.next=56;break;case 62:e.next=67;break;case 64:e.prev=64,e.t5=e.catch(54),C.e(e.t5);case 67:return e.prev=67,C.f(),e.finish(67);case 70:return e.abrupt("return",R);case 71:case"end":return e.stop()}}),e,null,[[9,22,25,28],[29,46,49,52],[33,40],[54,64,67,70]])})))).apply(this,arguments)}function Rp(e){return xp.apply(this,arguments)}function xp(){return(xp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,f=t.format,l=void 0===f?"parsed":f,h=t.filepath,d=void 0===h?void 0:h,m=t.encoding,v=void 0===m?void 0:m,e.prev=1,void 0===d){e.next=18;break}if(!d.startsWith("/")&&!d.endsWith("/")){e.next=5;break}throw new $l(Ul.DirectorySeparatorsError);case 5:return p=c,e.next=8,am({fs:s,gitdir:o,oid:c});case 8:if(g=e.sent,b=g.tree,""!==d){e.next=14;break}c=g.oid,e.next=18;break;case 14:return w=d.split("/"),e.next=17,Ap({fs:s,gitdir:o,tree:b,pathArray:w,oid:p,filepath:d});case 17:c=e.sent;case 18:return k="parsed"===l?"content":l,e.next=21,rm({fs:s,gitdir:o,oid:c,format:k});case 21:if((y=e.sent).oid=c,"parsed"!==l){e.next=37;break}y.format="parsed",e.t0=y.type,e.next="commit"===e.t0?28:"tree"===e.t0?30:"blob"===e.t0?32:"tag"===e.t0?34:36;break;case 28:return y.object=Ed.from(y.object).parse(),e.abrupt("break",37);case 30:return y.object={entries:xh.from(y.object).entries()},e.abrupt("break",37);case 32:return v?y.object=y.object.toString(v):y.format="content",e.abrupt("break",37);case 34:return y.object=im.from(y.object).parse(),e.abrupt("break",37);case 36:throw new $l(Ul.ObjectTypeUnknownFail,{type:y.type});case 37:return e.abrupt("return",y);case 40:throw e.prev=40,e.t1=e.catch(1),e.t1.caller="git.readObject",e.t1;case 44:case"end":return e.stop()}}),e,null,[[1,40]])})))).apply(this,arguments)}function Ap(e){return Sp.apply(this,arguments)}function Sp(){return(Sp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fs,n=t.gitdir,i=t.tree,a=t.pathArray,o=t.oid,u=t.filepath,s=a.shift(),c=A(i),e.prev=3,c.s();case 5:if((f=c.n()).done){e.next=25;break}if((l=f.value).path!==s){e.next=23;break}if(0!==a.length){e.next=12;break}return e.abrupt("return",l.oid);case 12:return e.next=14,rm({fs:r,gitdir:n,oid:l.oid});case 14:if(h=e.sent,d=h.type,m=h.object,"blob"!==d){e.next=19;break}throw new $l(Ul.DirectoryIsAFileError,{oid:o,filepath:u});case 19:if("tree"===d){e.next=21;break}throw new $l(Ul.ObjectTypeAssertionInTreeFail,{oid:l.oid,entrypath:u,type:d});case 21:return i=xh.from(m),e.abrupt("return",Ap({fs:r,gitdir:n,tree:i,pathArray:a,oid:o,filepath:u}));case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),c.e(e.t0);case 30:return e.prev=30,c.f(),e.finish(30);case 33:throw new $l(Ul.TreeOrBlobNotFoundError,{oid:o,filepath:u});case 34:case"end":return e.stop()}}),e,null,[[3,27,30,33]])})))).apply(this,arguments)}function Cp(){return(Cp=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.ref,e.prev=1,!f){e.next=12;break}return e.next=5,bd.resolve({gitdir:u,fs:c,ref:f});case 5:return l=e.sent,h=[],e.next=9,Tp({gitdir:u,fs:c,oid:l,filenames:h,prefix:""});case 9:return e.abrupt("return",h);case 12:return e.abrupt("return",Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.entries.map((function(e){return e.path})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(1),e.t0.caller="git.listFiles",e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function Tp(e){return _p.apply(this,arguments)}function _p(){return(_p=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gitdir,n=t.fs,i=t.oid,a=t.filenames,o=t.prefix,e.next=3,Rp({gitdir:r,fs:n,oid:i,filepath:""});case 3:u=e.sent,s=u.object,c=A(s.entries),e.prev=6,c.s();case 8:if((f=c.n()).done){e.next=18;break}if("tree"!==(l=f.value).type){e.next=15;break}return e.next=13,Tp({gitdir:r,fs:n,oid:l.oid,filenames:a,prefix:Vl(o,l.path)});case 13:e.next=16;break;case 15:a.push(Vl(o,l.path));case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[6,20,23,26]])})))).apply(this,arguments)}function Ep(){return(Ep=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=void 0===c?"refs/notes/commits":c,e.prev=1,l=new xd(s),e.prev=3,e.next=6,bd.resolve({gitdir:o,fs:l,ref:f});case 6:h=e.sent,e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(3),e.t0.code!==Ul.ResolveRefError){e.next=13;break}return e.abrupt("return",[]);case 13:return e.next=15,lm({gitdir:o,fs:l,oid:h});case 15:return d=e.sent,m=d.tree.map((function(e){return{target:e.path,note:e.oid}})),e.abrupt("return",m);case 20:throw e.prev=20,e.t1=e.catch(1),e.t1.caller="git.listNotes",e.t1;case 24:case"end":return e.stop()}}),e,null,[[1,20],[3,9]])})))).apply(this,arguments)}function Ip(){return(Ip=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,e.prev=1,e.next=4,vd.get({fs:c,gitdir:u});case 4:return f=e.sent,e.next=7,f.getSubsections("remote");case 7:return l=e.sent,h=Promise.all(l.map(function(){var e=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("remote.".concat(t,".url"));case 2:return r=e.sent,e.abrupt("return",{remote:t,url:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",h);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.caller="git.listRemotes",e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function jp(){return(jp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,e.prev=1,e.abrupt("return",bd.listTags({fs:s,gitdir:o}));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0.caller="git.listTags",e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}function zp(e,t){return e.committer.timestamp-t.committer.timestamp}function Op(e){return Fp.apply(this,arguments)}function Fp(){return(Fp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,a=t.signing,e.prev=1,e.next=4,rm({fs:r,gitdir:n,oid:i});case 4:if(o=e.sent,u=o.type,s=o.object,"commit"===u){e.next=9;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:i,expected:"commit",type:u});case 9:return c=Ed.from(s),f=Object.assign({oid:i},c.parse()),a&&(f.payload=c.withoutSignature()),e.abrupt("return",f);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",{oid:i,error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function Pp(){return(Pp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,S,C,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=void 0===c?"HEAD":c,l=t.depth,h=void 0===l?void 0:l,d=t.since,m=void 0===d?void 0:d,v=t.signing,p=void 0!==v&&v,e.prev=1,g=void 0===m?void 0:Math.floor(m.valueOf()/1e3),b=[],e.next=6,pv.read({fs:s,gitdir:o});case 6:return w=e.sent,e.next=9,bd.resolve({fs:s,gitdir:o,ref:f});case 9:return k=e.sent,e.next=12,Op({fs:s,gitdir:o,oid:k,signing:p});case 12:e.t0=e.sent,y=[e.t0];case 14:if(!(R=y.pop()).error){e.next=19;break}return b.push(R),e.abrupt("break",49);case 19:if(!(void 0!==g&&R.committer.timestamp<=g)){e.next=21;break}return e.abrupt("break",49);case 21:if(b.push(R),void 0===h||b.length!==h){e.next=24;break}return e.abrupt("break",49);case 24:if(w.has(R.oid)){e.next=44;break}x=A(R.parent),e.prev=26,x.s();case 28:if((S=x.n()).done){e.next=36;break}return C=S.value,e.next=32,Op({fs:s,gitdir:o,oid:C,signing:p});case 32:T=e.sent,y.map((function(e){return e.oid})).includes(T.oid)||y.push(T);case 34:e.next=28;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(26),x.e(e.t1);case 41:return e.prev=41,x.f(),e.finish(41);case 44:if(0!==y.length){e.next=46;break}return e.abrupt("break",49);case 46:y.sort(zp),e.next=14;break;case 49:return e.abrupt("return",b);case 52:throw e.prev=52,e.t2=e.catch(1),e.t2.caller="git.log",e.t2;case 56:case"end":return e.stop()}}),e,null,[[1,52],[26,38,41,44]])})))).apply(this,arguments)}function Mp(e){return Lp.apply(this,arguments)}function Lp(){return(Lp=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.gitdir,r=t.type,n=t.object,e.abrupt("return",nh(Ah.wrap({type:r,object:n})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bp(e){return Dp.apply(this,arguments)}function Dp(){return(Dp=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.ourOid,v=t.theirOid,p=t.baseOid,e.prev=1,g=0,e.next=5,Mm({fs:c,dir:a,gitdir:u,trees:[Tm({ref:m}),Tm({ref:v}),Tm({ref:p})],map:function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(r,3),i=n[0],a=n[1],o=n[2],"."!==t){e.next=3;break}return e.abrupt("return");case 3:if(e.t2=o,!e.t2){e.next=9;break}return e.next=7,o.type();case 7:e.t3=e.sent,e.t2="blob"!==e.t3;case 9:if(e.t1=e.t2,e.t1){e.next=18;break}if(e.t4=i,!e.t4){e.next=17;break}return e.next=15,i.type();case 15:e.t5=e.sent,e.t4="blob"!==e.t5;case 17:e.t1=e.t4;case 18:if(e.t0=e.t1,e.t0){e.next=27;break}if(e.t6=a,!e.t6){e.next=26;break}return e.next=24,a.type();case 24:e.t7=e.sent,e.t6="blob"!==e.t7;case 26:e.t0=e.t6;case 27:if(!e.t0){e.next=29;break}return e.abrupt("return");case 29:if(!l){e.next=32;break}return e.next=32,l.emit("".concat(d,"progress"),{phase:"Counting changes",loaded:++g,lengthComputable:!1});case 32:return e.next=34,Up(i,a,o);case 34:return e.t8=e.sent,e.t9=t,e.t10=i,e.t11=a,e.t12=o,e.abrupt("return",{status:e.t8,filepath:e.t9,ours:e.t10,theirs:e.t11,base:e.t12});case 40:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()});case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.caller="git.findChangedFiles",e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Up(e,t,r){return $p.apply(this,arguments)}function $p(){return($p=r(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t||n||!r)&&(!t||n||r)){e.next=4;break}return e.abrupt("return","added");case 4:if(!(t&&n&&!r||!t&&n&&r)){e.next=8;break}return e.abrupt("return","deleted");case 8:return e.next=10,Promise.all([t&&t.oid(),r&&r.oid(),n&&n.oid()]);case 10:if(i=e.sent,a=k(i,3),o=a[0],u=a[1],s=a[2],o!==u){e.next=29;break}return e.next=18,t.mode();case 18:return e.t0=e.sent,e.next=21,r.mode();case 21:if(e.t1=e.sent,e.t0!==e.t1){e.next=26;break}return e.abrupt("return","unmodified");case 26:return e.abrupt("return","modified");case 27:e.next=35;break;case 29:if(!t||!r||o===u){e.next=35;break}if(o===s||u===s){e.next=34;break}return e.abrupt("return","conflict");case 34:return e.abrupt("return","modified");case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Np=/^.*(\r?\n|$)/gm;function Gp(e){var t,r=e.ourContent,n=e.baseContent,i=e.theirContent,a=e.ourName,o=void 0===a?"ours":a,u=e.baseName,s=void 0===u?"base":u,c=e.theirName,f=void 0===c?"theirs":c,l=e.format,h=void 0===l?"diff":l,d=e.markerSize,m=void 0===d?7:d,v=r.match(Np),p=n.match(Np),g=i.match(Np),b="",w=!0,k=A(Ml(v,p,g));try{for(k.s();!(t=k.n()).done;){var y=t.value;y.ok&&(b+=y.ok.join("")),y.conflict&&(w=!1,b+="".concat("<".repeat(m)," ").concat(o,"\n"),b+=y.conflict.a.join(""),"diff3"===h&&(b+="".concat("|".repeat(m)," ").concat(s,"\n"),b+=y.conflict.o.join("")),b+="".concat("=".repeat(m),"\n"),b+=y.conflict.b.join(""),b+="".concat(">".repeat(m)," ").concat(f,"\n"))}}catch(e){k.e(e)}finally{k.f()}return{cleanMerge:w,mergedText:b}}function Wp(e){return Hp.apply(this,arguments)}function Hp(){return(Hp=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K,q,Z,Y,J,Q,X,ee,te;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.ourRef,v=t.theirRef,p=t.fastForwardOnly,g=void 0!==p&&p,b=t.dryRun,w=void 0!==b&&b,k=t.noUpdateBranch,y=void 0!==k&&k,R=t.noCheckout,x=void 0!==R&&R,S=t.message,C=t.author,T=t.committer,_=t.signingKey,E=t.noSubmodules,I=void 0!==E&&E,j=t.newSubmoduleBehavior,z=void 0!==j&&j,e.prev=1,!l){e.next=5;break}return e.next=5,l.emit("".concat(d,"progress"),{phase:"Merging repo",loaded:0,lengthComputable:!1});case 5:return e.next=7,Uv({fs:c,gitdir:u,fullname:!0});case 7:if(O=e.sent,void 0!==m){e.next=12;break}m=O,e.next=15;break;case 12:return e.next=14,bd.expand({fs:c,gitdir:u,ref:m});case 14:m=e.sent;case 15:return e.next=17,bd.expand({fs:c,gitdir:u,ref:v});case 17:return v=e.sent,e.next=20,bd.resolve({fs:c,gitdir:u,ref:m});case 20:return F=e.sent,e.next=23,bd.resolve({fs:c,gitdir:u,ref:v});case 23:return P=e.sent,e.next=26,tp({core:i,dir:a,gitdir:u,fs:c,oids:[F,P]});case 26:if(M=e.sent,L=M[0]){e.next=32;break}throw new $l(Ul.MergeNoCommonAncestryError,{theirRef:v,ourRef:m});case 32:if(L!==P){e.next=36;break}return e.abrupt("return",{oid:F,alreadyMerged:!0});case 36:if(L!==F){e.next=46;break}if(w||y){e.next=40;break}return e.next=40,bd.writeRef({fs:c,gitdir:u,ref:m,value:P});case 40:if(x){e.next=43;break}return e.next=43,Gm({dir:a,gitdir:u,fs:c,ref:m,emitter:l,emitterPrefix:d,noSubmodules:I,newSubmoduleBehavior:z});case 43:return e.abrupt("return",{oid:P,fastForward:!0});case 46:if(!g){e.next=48;break}throw new $l(Ul.FastForwardFail);case 48:if(O===m){e.next=51;break}return e.next=51,Gm({dir:a,gitdir:u,fs:c,ref:m,emitter:l,emitterPrefix:d});case 51:return e.next=53,bd.writeRef({fs:c,gitdir:u,ref:"MERGE_HEAD",value:P});case 53:return e.next=55,Bp({fs:c,gitdir:u,dir:a,emitter:l,emitterPrefix:d,ourOid:F,theirOid:P,baseOid:L});case 55:B=e.sent,D=B.length,U=[],$=[],N=[],G=0,W=A(B),e.prev=62,W.s();case 64:if((H=W.n()).done){e.next=98;break}V=H.value,K=V.ours,q=V.theirs,Z=V.base,Y=V.filepath,e.t0=V.status,e.next="added"===e.t0?70:"deleted"===e.t0?76:"modified"===e.t0?80:"conflict"===e.t0?86:93;break;case 70:return e.t1=U,e.next=73,Vp({ours:K,theirs:q,fs:c,dir:a,filepath:Y});case 73:return e.t2=e.sent,e.t1.push.call(e.t1,e.t2),e.abrupt("break",93);case 76:return e.next=78,c.rm("".concat(a,"/").concat(Y));case 78:return $.push({filepath:Y}),e.abrupt("break",93);case 80:return e.t3=U,e.next=83,qp({ours:K,theirs:q,base:Z,fs:c,dir:a,filepath:Y});case 83:return e.t4=e.sent,e.t3.push.call(e.t3,e.t4),e.abrupt("break",93);case 86:return e.next=88,Yp({ours:K,theirs:q,base:Z,fs:c,filepath:Y,dir:a,gitdir:u});case 88:return J=e.sent,Q=J.conflict,X=J.add,Q?(N.push(Q),l&&l.emit("".concat(d,"conflict"),{filepath:Y,ourOid:Q.ourOid,theirOid:Q.theirOid,baseOid:Q.baseOid})):U&&U.push(X),e.abrupt("break",93);case 93:if(!l){e.next=96;break}return e.next=96,l.emit("".concat(d,"progress"),{phase:"Applying changes",loaded:++G,total:D,lengthComputable:!0});case 96:e.next=64;break;case 98:e.next=103;break;case 100:e.prev=100,e.t5=e.catch(62),W.e(e.t5);case 103:return e.prev=103,W.f(),e.finish(103);case 106:return e.next=108,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A(U);try{for(r.s();!(n=r.n()).done;)i=n.value,t.insert(i)}catch(e){r.e(e)}finally{r.f()}a=A($);try{for(a.s();!(o=a.n()).done;)s=o.value,t.delete(s)}catch(e){a.e(e)}finally{a.f()}f=A(N);try{for(f.s();!(l=f.n()).done;)h=l.value,t.writeConflict(h)}catch(e){f.e(e)}finally{f.f()}return e.next=8,Nh.constructTree({fs:c,gitdir:u,dryRun:w,index:t});case 8:ee=e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 108:if(S||(S="Merge branch '".concat(Av(v),"' into ").concat(Av(m))),0!==N.length){e.next=115;break}return e.next=112,Fd({fs:c,gitdir:u,message:S,ref:m,tree:ee,parent:[F],author:C,committer:T,signingKey:_,dryRun:w,noUpdateBranch:y});case 112:te=e.sent,e.next=117;break;case 115:return e.next=117,c.write(Vl(u,"MERGE_MSG"),S,"utf8");case 117:return e.abrupt("return",{oid:te,tree:ee,recursiveMerge:!0,mergeCommit:0===N.length});case 118:e.next=124;break;case 120:throw e.prev=120,e.t6=e.catch(1),e.t6.caller="git.merge",e.t6;case 124:case"end":return e.stop()}}),e,null,[[1,120],[62,100,103,106]])})))).apply(this,arguments)}function Vp(e){return Kp.apply(this,arguments)}function Kp(){return(Kp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filepath,n=t.ours,i=t.theirs,a=t.fs,o=t.dir,u=n||i,s="".concat(o,"/").concat(r),e.t0=a,e.t1=s,e.next=7,u.content();case 7:return e.t2=e.sent,e.next=10,e.t0.write.call(e.t0,e.t1,e.t2);case 10:return e.next=12,a.lstat(s);case 12:return c=e.sent,e.t3=r,e.t4=c,e.next=17,u.oid();case 17:return e.t5=e.sent,e.abrupt("return",{filepath:e.t3,stats:e.t4,oid:e.t5});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qp(e){return Zp.apply(this,arguments)}function Zp(){return(Zp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ours,n=t.theirs,i=t.base,a=t.fs,o=t.dir,u=t.filepath,e.next=3,i.oid();case 3:return e.t0=e.sent,e.next=6,r.oid();case 6:if(e.t1=e.sent,e.t0!==e.t1){e.next=11;break}e.t2=n,e.next=12;break;case 11:e.t2=r;case 12:return s=e.t2,c="".concat(o,"/").concat(u),e.t3=a,e.t4=c,e.next=18,s.content();case 18:return e.t5=e.sent,e.next=21,s.mode();case 21:return e.t6=e.sent,e.t7={mode:e.t6},e.next=25,e.t3.write.call(e.t3,e.t4,e.t5,e.t7);case 25:return e.next=27,a.lstat(c);case 27:return f=e.sent,e.t8=u,e.t9=f,e.next=32,s.oid();case 32:return e.t10=e.sent,e.abrupt("return",{filepath:e.t8,stats:e.t9,oid:e.t10});case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yp(e){return Jp.apply(this,arguments)}function Jp(){return(Jp=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,y,R,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ours,n=t.theirs,i=t.base,a=t.fs,o=t.dir,u=t.gitdir,s=t.filepath,e.next=3,Promise.all([r.content(),n.content(),i.content()]);case 3:return c=e.sent,f=k(c,3),l=f[0],h=f[1],d=f[2],e.next=10,Gp({ourContent:l.toString("utf8"),baseContent:d.toString("utf8"),theirContent:h.toString("utf8")});case 10:return m=e.sent,e.next=13,i.oid();case 13:return e.t0=e.sent,e.next=16,r.oid();case 16:if(e.t1=e.sent,e.t0!==e.t1){e.next=21;break}e.t2=n,e.next=22;break;case 21:e.t2=r;case 22:return v=e.t2,p="".concat(o,"/").concat(s),e.t3=a,e.t4=p,e.t5=m.mergedText,e.next=29,v.mode();case 29:return e.t6=e.sent,e.t7={mode:e.t6},e.next=33,e.t3.write.call(e.t3,e.t4,e.t5,e.t7);case 33:return e.next=35,a.lstat(p);case 35:if(g=e.sent,m.cleanMerge){e.next=47;break}return e.next=39,Promise.all([r.oid(),n.oid(),i.oid()]);case 39:return b=e.sent,w=k(b,3),y=w[0],R=w[1],x=w[2],e.abrupt("return",{conflict:{filepath:s,stats:g,ourOid:y,theirOid:R,baseOid:x}});case 47:return e.next=49,Mp({gitdir:u,type:"blob",object:m.mergedText});case 49:return A=e.sent,e.abrupt("return",{add:{filepath:s,stats:g,oid:A}});case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qp={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};function Xp(e){return eg.apply(this,arguments)}function eg(){return(eg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=function(){return(v=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.stype,n=t.object,i=Qp[r],a=n.length,o=a>15?128:0,u=15&a,a>>>=4,s=(o|i|u).toString(16),d(s,"hex");o;)d(uv(2,s=(o=a>127?128:0)|127&a),"hex"),a>>>=7;return e.t0=d,e.t1=wa,e.next=13,_h(n);case 13:e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),(0,e.t0)(e.t3);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m=function(e){return v.apply(this,arguments)},d=function(e,t){var r=wa.from(e,t);h.push(r),l.update(r)},n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.oids,l=new Ps,h=[],d("PACK"),d("00000002","hex"),d(uv(8,f.length),"hex"),p=A(f),e.prev=10,p.s();case 12:if((g=p.n()).done){e.next=23;break}return b=g.value,e.next=16,rm({fs:c,gitdir:u,oid:b});case 16:return w=e.sent,k=w.type,y=w.object,e.next=21,m({write:d,object:y,stype:k});case 21:e.next=12;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),p.e(e.t0);case 28:return e.prev=28,p.f(),e.finish(28);case 31:return R=l.digest(),h.push(R),e.abrupt("return",h);case 34:case"end":return e.stop()}}),e,null,[[10,25,28,31]])})))).apply(this,arguments)}function tg(){return(tg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oids,f=t.write,l=void 0!==f&&f,e.prev=1,e.next=4,Xp({core:n,gitdir:o,fs:s,oids:c});case 4:return h=e.sent,e.next=7,ev(h);case 7:if(d=e.sent,m=d.slice(-20).toString("hex"),v="pack-".concat(m,".pack"),!l){e.next=14;break}return e.next=13,s.write(Vl(o,"objects/pack/".concat(v)),d);case 13:return e.abrupt("return",{filename:v});case 14:return e.abrupt("return",{filename:v,packfile:d});case 17:throw e.prev=17,e.t0=e.catch(1),e.t0.caller="git.packObjects",e.t0;case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function rg(){return(rg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.remote,l=t.fastForwardOnly,h=void 0!==l&&l,d=t.noGitSuffix,m=void 0!==d&&d,v=t.corsProxy,p=t.emitter,g=void 0===p?Kh.get(n).get("emitter"):p,b=t.emitterPrefix,w=void 0===b?"":b,k=t.authUsername,y=t.authPassword,R=t.username,x=void 0===R?k:R,A=t.password,S=void 0===A?y:A,C=t.token,T=t.oauth2format,_=t.singleBranch,E=t.headers,I=void 0===E?{}:E,j=t.author,z=t.committer,O=t.signingKey,F=t.autoTranslateSSH,P=void 0!==F&&F,M=t.fast,L=void 0!==M&&M,B=t.noSubmodules,D=void 0!==B&&B,U=t.newSubmoduleBehavior,$=void 0!==U&&U,e.prev=1,!g){e.next=5;break}return e.next=5,g.emit("".concat(w,"progress"),{phase:"Pulling repo",loaded:0,lengthComputable:!1});case 5:if(c){e.next=9;break}return e.next=8,Uv({fs:s,gitdir:o});case 8:c=e.sent;case 9:if(e.t1=f,e.t1){e.next=14;break}return e.next=13,Id({gitdir:o,fs:s,path:"branch.".concat(c,".remote")});case 13:e.t1=e.sent;case 14:if(e.t0=e.t1,e.t0){e.next=17;break}e.t0="origin";case 17:return f=e.t0,e.next=20,Ov({dir:i,gitdir:o,fs:s,emitter:g,emitterPrefix:w,noGitSuffix:m,corsProxy:v,ref:c,remote:f,username:x,password:S,token:C,oauth2format:T,singleBranch:_,headers:I,autoTranslateSSH:P});case 20:return N=e.sent,G=N.fetchHead,W=N.fetchHeadDescription,e.next=25,Wp({dir:i,gitdir:o,fs:s,ourRef:c,theirRef:G,emitter:g,emitterPrefix:w,fastForwardOnly:h,fast:L,message:"Merge ".concat(W),author:j,committer:z,signingKey:O,noSubmodules:D,newSubmoduleBehavior:$});case 25:e.next=31;break;case 27:throw e.prev=27,e.t2=e.catch(1),e.t2.caller="git.pull",e.t2;case 31:case"end":return e.stop()}}),e,null,[[1,27]])})))).apply(this,arguments)}function ng(e){return ig.apply(this,arguments)}function ig(){return(ig=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n="",i=sv.streamReader(t),e.next=5,i();case 5:a=e.sent;case 6:if(!0===a){e.next=13;break}return null!==a&&(n+=a.toString("utf8")+"\n"),e.next=10,i();case 10:a=e.sent,e.next=6;break;case 13:if(o=n.toString("utf8").split("\n"),(a=o.shift()).startsWith("unpack ")){e.next=17;break}throw new $l(Ul.UnparseableServerResponseFail,{line:a});case 17:"unpack ok"===a?r.ok=["unpack"]:r.errors=[a.trim()],u=A(o);try{for(u.s();!(s=u.n()).done;)c=s.value,f=c.slice(0,2),l=c.slice(3),"ok"===f?(r.ok=r.ok||[],r.ok.push(l)):"ng"===f&&(r.errors=r.errors||[],r.errors.push(l))}catch(e){u.e(e)}finally{u.f()}return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ag(e){return og.apply(this,arguments)}function og(){return(og=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.capabilities,n=void 0===r?[]:r,i=t.triplets,a=void 0===i?[]:i,o=[],u="\0 ".concat(n.join(" ")),s=A(a);try{for(s.s();!(c=s.n()).done;)f=c.value,o.push(sv.encode("".concat(f.oldoid," ").concat(f.oid," ").concat(f.fullRef).concat(u,"\n"))),u=""}catch(e){s.e(e)}finally{s.f()}return o.push(sv.flush()),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ug(e){return sg.apply(this,arguments)}function sg(){return(sg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=function(){return(d=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,s,f,d,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.add(t),e.next=3,rm({fs:c,gitdir:u,oid:t});case 3:if(r=e.sent,n=r.type,i=r.object,"tag"!==n){e.next=13;break}return a=im.from(i),o=a.headers().object,e.next=11,h(o);case 11:e.next=41;break;case 13:if("commit"!==n){e.next=20;break}return s=Ed.from(i),f=s.headers().tree,e.next=18,h(f);case 18:e.next=41;break;case 20:if("tree"!==n){e.next=41;break}d=xh.from(i),m=A(d),e.prev=23,m.s();case 25:if((v=m.n()).done){e.next=33;break}if("blob"!==(p=v.value).type&&"tree"!==p.type||l.add(p.oid),"tree"!==p.type){e.next=31;break}return e.next=31,h(p.oid);case 31:e.next=25;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(23),m.e(e.t0);case 38:return e.prev=38,m.f(),e.finish(38);case 41:case"end":return e.stop()}}),e,null,[[23,35,38,41]])})))).apply(this,arguments)},h=function(e){return d.apply(this,arguments)},n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.oids,l=new Set,m=A(f),e.prev=5,m.s();case 7:if((v=m.n()).done){e.next=13;break}return p=v.value,e.next=11,h(p);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),m.e(e.t0);case 18:return e.prev=18,m.f(),e.finish(18);case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})))).apply(this,arguments)}function cg(){return(cg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,R,x,S,C,T,_,E,I,j,z,O,F,P,M,L,B,D,U,$,N,G,W,H,V,K,q,Z,Y,J,Q,X,ee,te,re,ne,ie,ae,oe,ue,se;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.emitter,f=void 0===c?Kh.get(n).get("emitter"):c,l=t.emitterPrefix,h=void 0===l?"":l,d=t.ref,m=t.remoteRef,v=t.remote,p=void 0===v?"origin":v,g=t.url,b=t.force,w=void 0!==b&&b,k=t.delete,R=void 0!==k&&k,x=t.noGitSuffix,S=void 0!==x&&x,C=t.corsProxy,T=t.authUsername,_=t.authPassword,E=t.username,I=void 0===E?T:E,j=t.password,z=void 0===j?_:j,O=t.token,F=t.oauth2format,P=t.headers,M=void 0===P?{}:P,L=t.autoTranslateSSH,B=void 0!==L&&L,e.prev=1,!f){e.next=5;break}return e.next=5,f.emit("".concat(h,"progress"),{phase:"Pushing repo",loaded:0,lengthComputable:!1});case 5:if(void 0!==g){e.next=9;break}return e.next=8,Id({fs:s,gitdir:o,path:"remote.".concat(p,".url")});case 8:g=e.sent;case 9:if(e.t0=B,e.t0){e.next=14;break}return e.next=13,Id({fs:s,gitdir:o,path:"isomorphic-git.autoTranslateSSH"});case 13:e.t0=e.sent;case 14:if(!e.t0){e.next=16;break}g=Zm(g);case 16:if(void 0!==C){e.next=20;break}return e.next=19,Id({fs:s,gitdir:o,path:"http.corsProxy"});case 19:C=e.sent;case 20:if(d){e.next=26;break}return e.next=23,bd.resolve({fs:s,gitdir:o,ref:"HEAD",depth:2});case 23:D=e.sent,e.next=29;break;case 26:return e.next=28,bd.expand({fs:s,gitdir:o,ref:d});case 28:D=e.sent;case 29:if(U="0000000000000000000000000000000000000000",!R){e.next=34;break}e.t1=U,e.next=37;break;case 34:return e.next=36,bd.resolve({fs:s,gitdir:o,ref:D});case 36:e.t1=e.sent;case 37:return $=e.t1,N={username:I,password:z,token:O,oauth2format:F},G=mv.getRemoteHelperFor({url:g}),e.next=42,G.discover({core:n,corsProxy:C,service:"git-receive-pack",url:g,noGitSuffix:S,auth:N,headers:M});case 42:if(W=e.sent,N=W.auth,m){e.next=48;break}H=D,e.next=61;break;case 48:return e.prev=48,e.next=51,bd.expandAgainstMap({ref:m,map:W.refs});case 51:H=e.sent,e.next=61;break;case 54:if(e.prev=54,e.t2=e.catch(48),e.t2.code!==Ul.ExpandRefError){e.next=60;break}H=m.startsWith("refs/")?m:"refs/heads/".concat(m),e.next=61;break;case 60:throw e.t2;case 61:if(V=W.refs.get(H)||U,K=[],R){e.next=90;break}return q=y(W.refs.values()),e.next=67,tp({fs:s,gitdir:o,oids:[$,V]});case 67:Z=e.sent,Y=A(Z);try{for(Y.s();!(J=Y.n()).done;)Q=J.value,q.push(Q)}catch(e){Y.e(e)}finally{Y.f()}return e.next=72,kp({fs:s,gitdir:o,start:[$],finish:q});case 72:return X=e.sent,e.next=75,ug({fs:s,gitdir:o,oids:X});case 75:if(K=e.sent,$===U||V===U||0!==Z.length){e.next=80;break}throw new $l(Ul.PushRejectedNoCommonAncestry,{});case 80:if(w){e.next=90;break}if(!D.startsWith("refs/tags")||V===U){e.next=83;break}throw new $l(Ul.PushRejectedTagExists,{});case 83:if(e.t3=$!==U&&V!==U,!e.t3){e.next=88;break}return e.next=87,gp({fs:s,gitdir:o,oid:$,ancestor:V});case 87:e.t3=!e.sent;case 88:if(!e.t3){e.next=90;break}throw new $l(Ul.PushRejectedNonFastForward,{});case 90:return ee=Cv(y(W.capabilities),["report-status","side-band-64k","agent=".concat(ov)]),e.next=93,ag({capabilities:ee,triplets:[{oldoid:V,oid:$,fullRef:H}]});case 93:if(te=e.sent,!R){e.next=98;break}e.t4=[],e.next=101;break;case 98:return e.next=100,Xp({fs:s,gitdir:o,oids:y(K)});case 100:e.t4=e.sent;case 101:return re=e.t4,e.next=104,G.connect({core:n,emitter:f,emitterPrefix:h,corsProxy:C,service:"git-receive-pack",url:g,noGitSuffix:S,auth:N,headers:M,body:[].concat(y(te),y(re))});case 104:return ne=e.sent,e.next=107,Ev.demux(ne.body);case 107:return ie=e.sent,ae=ie.packfile,oe=ie.progress,f&&Qm(_v(oe),(function(e){f.emit("".concat(h,"message"),e)})),e.next=113,ng(ae);case 113:if(ue=e.sent,ne.headers&&(ue.headers=ne.headers),!(p&&ue.ok&&ue.ok.includes(H))){e.next=124;break}if(se="refs/remotes/".concat(p,"/").concat(H.replace("refs/heads","")),!R){e.next=122;break}return e.next=120,bd.deleteRef({fs:s,gitdir:o,ref:se});case 120:e.next=124;break;case 122:return e.next=124,bd.writeRef({fs:s,gitdir:o,ref:se,value:$});case 124:return e.abrupt("return",ue);case 127:throw e.prev=127,e.t5=e.catch(1),e.t5.caller="git.push",e.t5;case 131:case"end":return e.stop()}}),e,null,[[1,127],[48,54]])})))).apply(this,arguments)}function fg(e){return lg.apply(this,arguments)}function lg(){return(lg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,e.next=3,rm({fs:r,gitdir:n,oid:i});case 3:if(a=e.sent,o=a.type,u=a.object,"tag"!==o){e.next=9;break}return i=im.from(u).parse().object,e.abrupt("return",fg({fs:r,gitdir:n,oid:i}));case 9:if("blob"===o){e.next=11;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:i,type:o,expected:"blob"});case 11:return e.abrupt("return",{oid:i,blob:u});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hg(e){return dg.apply(this,arguments)}function dg(){return(dg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,f=t.filepath,l=void 0===f?void 0:f,e.prev=1,h=new xd(s),void 0===l){e.next=7;break}return e.next=6,um({fs:h,gitdir:o,oid:c,filepath:l});case 6:c=e.sent;case 7:return e.next=9,fg({fs:h,gitdir:o,oid:c});case 9:return d=e.sent,e.abrupt("return",d);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0.caller="git.readBlob",e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function mg(e){return vg.apply(this,arguments)}function vg(){return(vg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fs,n=t.gitdir,i=t.oid,e.next=3,rm({fs:r,gitdir:n,oid:i});case 3:if(a=e.sent,o=a.type,u=a.object,"tag"!==o){e.next=9;break}return i=im.from(u).parse().object,e.abrupt("return",mg({fs:r,gitdir:n,oid:i}));case 9:if("commit"===o){e.next=11;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:i,type:o,expected:"commit"});case 11:return e.abrupt("return",{commit:Ed.from(u),oid:i});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pg(){return(pg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,e.prev=1,f=new xd(s),e.next=5,mg({fs:f,gitdir:o,oid:c});case 5:return l=e.sent,h=l.commit,d=l.oid,m={oid:d,commit:h.parse(),payload:h.withoutSignature()},e.abrupt("return",m);case 12:throw e.prev=12,e.t0=e.catch(1),e.t0.caller="git.readCommit",e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function gg(){return(gg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=void 0===c?"refs/notes/commits":c,l=t.oid,e.prev=1,h=new xd(s),e.next=5,bd.resolve({gitdir:o,fs:h,ref:f});case 5:return d=e.sent,e.next=8,hg({gitdir:o,fs:h,oid:d,filepath:l});case 8:return m=e.sent,v=m.blob,e.abrupt("return",v);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0.caller="git.readNote",e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function bg(){return(bg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.oid,e.prev=1,f=new xd(s),e.next=5,rm({fs:f,gitdir:o,oid:c,format:"content"});case 5:if(l=e.sent,h=l.type,d=l.object,"tag"===h){e.next=10;break}throw new $l(Ul.ObjectTypeAssertionFail,{oid:c,type:h,expected:"tag"});case 10:return m=im.from(d),v={oid:c,tag:m.parse(),payload:m.payload()},e.abrupt("return",v);case 15:throw e.prev=15,e.t0=e.catch(1),e.t0.caller="git.readTag",e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function wg(){return(wg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.filepath,e.prev=1,e.next=4,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.delete({filepath:f});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0.caller="git.remove",e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function kg(){return(kg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=void 0===c?"refs/notes/commits":c,l=t.oid,h=t.author,d=t.committer,m=t.signingKey,e.prev=1,v=new xd(s),e.prev=3,e.next=6,bd.resolve({gitdir:o,fs:v,ref:f});case 6:p=e.sent,e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(3),e.t0.code===Ul.ResolveRefError){e.next=13;break}throw e.t0;case 13:return e.next=15,lm({core:n,dir:i,gitdir:o,fs:v,oid:p||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"});case 15:return g=e.sent,b=(b=g.tree).filter((function(e){return e.path!==l})),e.next=20,vm({core:n,dir:i,gitdir:o,fs:v,tree:b});case 20:return w=e.sent,e.next=23,Fd({core:n,dir:i,gitdir:o,fs:v,ref:f,tree:w,parent:p&&[p],message:"Note removed by 'isomorphic-git removeNote'\n",author:h,committer:d,signingKey:m});case 23:return k=e.sent,e.abrupt("return",k);case 27:throw e.prev=27,e.t1=e.catch(1),e.t1.caller="git.removeNote",e.t1;case 31:case"end":return e.stop()}}),e,null,[[1,27],[3,9]])})))).apply(this,arguments)}function yg(){return(yg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.filepath,l=t.ref,h=void 0===l?"HEAD":l,e.prev=1,e.next=4,bd.resolve({fs:c,gitdir:u,ref:h});case 4:return d=e.sent,e.prev=5,e.next=8,Rp({gitdir:u,fs:c,oid:d,filepath:f,format:"deflated"});case 8:v=e.sent,d=v&&v.oid,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),d=null;case 15:if(p={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0},e.t1=a,!e.t1){e.next=21;break}return e.next=20,c.read(Vl(a,f));case 20:e.t1=e.sent;case 21:if(!(g=e.t1)){e.next=30;break}return e.next=25,Mp({gitdir:u,type:"blob",object:g});case 25:if(m=e.sent,d!==m){e.next=30;break}return e.next=29,c.lstat(Vl(a,f));case 29:p=e.sent;case 30:return e.next=32,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.delete({filepath:f}),d&&t.insert({filepath:f,stats:p,oid:d});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 32:e.next=38;break;case 34:throw e.prev=34,e.t2=e.catch(1),e.t2.caller="git.reset",e.t2;case 38:case"end":return e.stop()}}),e,null,[[1,34],[5,12]])})))).apply(this,arguments)}function Rg(){return(Rg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.depth,e.prev=1,e.next=4,bd.resolve({fs:s,gitdir:o,ref:c,depth:f});case 4:return l=e.sent,e.abrupt("return",l);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.caller="git.resolveRef",e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var xg=function(e){c(s,e);var t,i,o,u=b(s);function s(){return n(this,s),u.apply(this,arguments)}return a(s,[{key:"sign",value:(o=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.withoutSignature(),i=Ed.justHeaders(this._commit),a=Ed.justMessage(this._commit),o=t.key.readArmored(r).keys,e.next=6,t.sign({data:t.util.str2Uint8Array(n),privateKeys:o,detached:!0,armor:!0});case 6:return u=e.sent,s=Cd(s=u.signature),c=i+"\ngpgsig"+Sd(s)+"\n"+a,e.abrupt("return",Ed.from(c));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"listSigningKeys",value:(i=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.message.readSignedContent(this.withoutSignature(),this.isolateSignature()),e.abrupt("return",r.getSigningKeyIds().map((function(e){return e.toHex()})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"verify",value:(t=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key.readArmored(r).keys,i=t.message.readSignedContent(this.withoutSignature(),this.isolateSignature()),a=i.verify(n),o=a.reduce((function(e,t){return e.valid&&t.valid}),{valid:!0}),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}],[{key:"from",value:function(e){return new s(e)}}]),s}(Ed);function Ag(){return(Ag=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.privateKeys,f=t.openpgp,e.prev=1,e.next=4,bd.resolve({fs:s,gitdir:o,ref:"HEAD"});case 4:return l=e.sent,e.next=7,rm({fs:s,gitdir:o,oid:l});case 7:if(h=e.sent,d=h.type,m=h.object,"commit"===d){e.next=12;break}throw new $l(Ul.ObjectTypeAssertionInRefFail,{expected:"commit",ref:"HEAD",type:d});case 12:if(!f){e.next=19;break}return v=xg.from(m),e.next=16,v.sign(f,c);case 16:v=e.sent,e.next=24;break;case 19:return p=Kh.get(n).get("pgp"),v=Ed.from(m),e.next=23,Ed.sign(v,p,c);case 23:v=e.sent;case 24:return e.next=26,Oh({fs:s,gitdir:o,type:"commit",object:v.toObject()});case 26:return g=e.sent,e.next=29,bd.resolve({fs:s,gitdir:o,ref:"HEAD",depth:2});case 29:return b=e.sent,e.next=32,s.write(Vl(o,b),g+"\n");case 32:e.next=38;break;case 34:throw e.prev=34,e.t0=e.catch(1),e.t0.caller="git.sign",e.t0;case 38:case"end":return e.stop()}}),e,null,[[1,34]])})))).apply(this,arguments)}function Sg(){return(Sg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.filepath,e.prev=1,e.next=4,Kl.isIgnored({gitdir:u,dir:a,filepath:f,fs:c});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","ignored");case 7:return e.next=9,op({fs:c,gitdir:u,path:f});case 9:return l=e.sent,e.next=12,Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{indexEntry:t.entriesMap.get(lh.key(f,0)),conflictEntry:t.entriesMap.get(lh.key(f,2))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:return h=e.sent,d=h.indexEntry,m=h.conflictEntry,e.next=17,c.lstat(Vl(a,f));case 17:if(v=e.sent,p=null!==l,g=!!d,b=null!==v,w=!!m,k=function(){var e=r(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||ph(d,v)){e.next=4;break}return e.abrupt("return",d.oid);case 4:return e.next=6,c.read(Vl(a,f));case 6:return t=e.sent,e.next=9,Mp({gitdir:u,type:"blob",object:t});case 9:return n=e.sent,g&&d.oid===n&&-1!==v.size&&Nh.acquire({fs:c,gitdir:u},function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.insert({filepath:f,stats:v,oid:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=w?"!":"",p||b||g){e.next=26;break}return e.abrupt("return",y+"absent");case 26:if(p||b||!g){e.next=28;break}return e.abrupt("return",y+"*absent");case 28:if(p||!b||g){e.next=30;break}return e.abrupt("return",y+"*added");case 30:if(p||!b||!g){e.next=35;break}return e.next=33,k();case 33:return R=e.sent,e.abrupt("return",y+(R===d.oid?"added":"*added"));case 35:if(!p||b||g){e.next=37;break}return e.abrupt("return",y+"deleted");case 37:if(!p||b||!g){e.next=39;break}return e.abrupt("return",y+(d.oid,"*deleted"));case 39:if(!p||!b||g){e.next=44;break}return e.next=42,k();case 42:return x=e.sent,e.abrupt("return",y+(x===l?"*undeleted":"*undeletemodified"));case 44:if(!(p&&b&&g)){e.next=53;break}return e.next=47,k();case 47:if((A=e.sent)!==l){e.next=52;break}return e.abrupt("return",y+(A===d.oid?"unmodified":"*unmodified"));case 52:return e.abrupt("return",y+(A===d.oid?"modified":"*modified"));case 53:e.next=59;break;case 55:throw e.prev=55,e.t0=e.catch(1),e.t0.caller="git.status",e.t0;case 59:case"end":return e.stop()}}),e,null,[[1,55]])})))).apply(this,arguments)}var Cg=["."];function Tg(){return(Tg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,R,x,S,C,T,_,E,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.dir,o=t.gitdir,u=void 0===o?Vl(a,".git"):o,s=t.fs,c=void 0===s?Kh.get(i).get("fs"):s,f=t.emitter,l=void 0===f?Kh.get(i).get("emitter"):f,h=t.emitterPrefix,d=void 0===h?"":h,m=t.ref,v=void 0===m?"HEAD":m,p=t.filepaths,g=void 0===p?Cg:p,b=t.pattern,w=void 0===b?null:b,R=t.noSubmodules,x=void 0!==R&&R,e.prev=1,S=0,C="",w&&((C=ym(w))&&(w=w.replace(C+"/","")),T=bl(w,{globstar:!0,extended:!0})),_=g.map((function(e){return Vl(e,C)})),E=g===Cg,e.next=9,Mm({fs:c,dir:a,gitdir:u,trees:[Tm({ref:v}),Im(),$m()],map:function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,i,o,u,s,f,h,m,v,p,g,b,w,R,C,I,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(r,3),i=n[0],o=n[1],u=n[2],i||u||!o){e.next=6;break}return e.next=4,Kl.isIgnored({fs:c,dir:a,filepath:t});case 4:if(!e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(E||_.some((function(e){return Rm(t,e)}))){e.next=8;break}return e.abrupt("return",null);case 8:if(!T){e.next=31;break}s=!1,f=A(_),e.prev=11,f.s();case 13:if((h=f.n()).done){e.next=21;break}if(m=h.value,v=t.replace(m+"/",""),!T.regex.test(v)){e.next=19;break}return s=!0,e.abrupt("break",21);case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),f.e(e.t0);case 26:return e.prev=26,f.f(),e.finish(26);case 29:if(s){e.next=31;break}return e.abrupt("return");case 31:if(e.t1=i,!e.t1){e.next=36;break}return e.next=35,i.type();case 35:e.t1=e.sent;case 36:if("tree"!==(p=e.t1)&&"special"!==p){e.next=39;break}return e.abrupt("return");case 39:if(!x){e.next=42;break}if("commit"!==p){e.next=42;break}return e.abrupt("return",null);case 42:if(e.t2=o,!e.t2){e.next=47;break}return e.next=46,o.type();case 46:e.t2=e.sent;case 47:if("tree"!==(g=e.t2)&&"special"!==g){e.next=50;break}return e.abrupt("return");case 50:if(e.t3=u,!e.t3){e.next=55;break}return e.next=54,u.type();case 54:e.t3=e.sent;case 55:if(b=e.t3,!x){e.next=59;break}if("commit"!==b){e.next=59;break}return e.abrupt("return",null);case 59:if("tree"!==b&&"special"!==b){e.next=61;break}return e.abrupt("return");case 61:if(!i){e.next=67;break}return e.next=64,i.oid();case 64:e.t4=e.sent,e.next=68;break;case 67:e.t4=void 0;case 68:if(w=e.t4,!u){e.next=75;break}return e.next=72,u.oid();case 72:e.t5=e.sent,e.next=76;break;case 75:e.t5=void 0;case 76:if(R=e.t5,i||!o||u){e.next=81;break}C="42",e.next=85;break;case 81:if(!o){e.next=85;break}return e.next=84,o.oid();case 84:C=e.sent;case 85:if((j=(I=[void 0,w,C,R]).map((function(e){return I.indexOf(e)}))).shift(),!l){e.next=91;break}return e.next=91,l.emit("".concat(d,"progress"),{phase:"Calculating status",loaded:++S,lengthComputable:!1});case 91:if(e.t6=[t],e.t7=y(j),e.t8=u,!e.t8){e.next=98;break}return e.next=97,u.conflict();case 97:e.t8=e.sent;case 98:return e.t9=!!e.t8,e.t10=[e.t9],e.abrupt("return",e.t6.concat.call(e.t6,e.t7,e.t10));case 101:case"end":return e.stop()}}),e,null,[[11,23,26,29]])})));return function(t,r){return e.apply(this,arguments)}}()});case 9:return I=e.sent,e.abrupt("return",I);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0.caller="git.statusMatrix",e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function _g(){return(_g=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.object,l=t.force,h=void 0!==l&&l,e.prev=1,void 0!==c){e.next=4;break}throw new $l(Ul.MissingRequiredParameterError,{function:"tag",parameter:"ref"});case 4:return c=c.startsWith("refs/tags/")?c:"refs/tags/".concat(c),e.next=7,bd.resolve({fs:s,gitdir:o,ref:f||"HEAD"});case 7:if(d=e.sent,e.t0=!h,!e.t0){e.next=13;break}return e.next=12,bd.exists({fs:s,gitdir:o,ref:c});case 12:e.t0=e.sent;case 13:if(!e.t0){e.next=15;break}throw new $l(Ul.RefExistsError,{noun:"tag",ref:c});case 15:return e.next=17,bd.writeRef({fs:s,gitdir:o,ref:c,value:d});case 17:e.next=23;break;case 19:throw e.prev=19,e.t1=e.catch(1),e.t1.caller="git.tag",e.t1;case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function Eg(){return(Eg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k,y,R,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.publicKeys,l=t.openpgp,e.prev=1,e.next=4,bd.resolve({fs:s,gitdir:o,ref:c});case 4:return h=e.sent,e.next=7,rm({fs:s,gitdir:o,oid:h});case 7:if(d=e.sent,m=d.type,v=d.object,"commit"===m||"tag"===m){e.next=12;break}throw new $l(Ul.ObjectTypeAssertionInRefFail,{expected:"commit/tag",ref:c,type:m});case 12:if(!l){e.next=25;break}return p=xg.from(v),e.next=16,p.listSigningKeys(l);case 16:return g=e.sent,e.next=19,p.verify(l,f);case 19:if(e.sent){e.next=22;break}return e.abrupt("return",!1);case 22:return e.abrupt("return",g);case 25:if(b=Kh.get(n).get("pgp"),"commit"!==m){e.next=38;break}return w=Ed.from(v),e.next=30,Ed.verify(w,b,f);case 30:if(k=e.sent,y=k.valid,!(k.invalid.length>0)){e.next=35;break}return e.abrupt("return",!1);case 35:return e.abrupt("return",y);case 38:if("tag"!==m){e.next=48;break}return R=im.from(v),e.next=42,im.verify(R,b,f);case 42:if(x=e.sent,A=x.valid,!(x.invalid.length>0)){e.next=47;break}return e.abrupt("return",!1);case 47:return e.abrupt("return",A);case 48:e.next=54;break;case 50:throw e.prev=50,e.t0=e.catch(1),e.t0.caller="git.verify",e.t0;case 54:case"end":return e.stop()}}),e,null,[[1,50]])})))).apply(this,arguments)}function Ig(e){var t,r,n,i,a,o,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(t=new Om,n=[],i=e.length,a=0;a<i;a++)n[a]=e[a].next().value,void 0!==n[a]&&t.consider(n[a].fullpath);if(null!==t.value){s.next=6;break}return s.abrupt("return");case 6:for(o=[],r=t.value,t.reset(),u=0;u<i;u++)void 0!==n[u]&&n[u].fullpath===r?(o[u]=n[u],n[u]=e[u].next().value):o[u]={fullpath:r,basename:Gl(r),exists:!1},void 0!==n[u]&&t.consider(n[u].fullpath);return s.next=13,o;case 13:if(null!==t.value){s.next=15;break}return s.abrupt("return");case 15:s.next=6;break;case 17:case"end":return s.stop()}}),Bl)}var jg=function(e,t){return Promise.all(y(t).map(e))};function zg(){return(zg=r(regeneratorRuntime.mark((function e(t){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.core,i=void 0===n?"default":n,a=t.trees,o=t.filter,u=void 0===o?r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))):o,s=t.map,c=void 0===s?function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():s,f=t.reduce,l=void 0===f?function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zm(r),void 0!==t&&n.unshift(t),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}():f,h=t.iterate,d=void 0===h?Kh.get(i).get("iterate"):h,m=d||jg,e.prev=2,v=a.map((function(e){return e[Sm]()})),p=new Array(v.length).fill({fullpath:".",basename:".",exists:!0}),g=jm(0,v.length),b=function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(g.map((function(e){return v[e].readdir(t[e])})));case 2:return r=e.sent,g.map((function(e){t[e]=new v[e].ConstructEntry(t[e])})),n=r.map((function(e){return null===e?[]:e})).map((function(e){return e[Symbol.iterator]()})),e.abrupt("return",{entry:t,children:Ig(n)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return r=e.sent,n=r.children,i=r.entry,e.next=7,u(i);case 7:if(!e.sent){e.next=16;break}return e.next=10,c(i);case 10:return a=e.sent,e.next=13,m(w,n);case 13:return o=(o=e.sent).filter((function(e){return void 0!==e})),e.abrupt("return",l(a,o));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",w(p));case 11:throw e.prev=11,e.t0=e.catch(2),e.t0.caller="git.walk",e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Og(){return(Og=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.commit,e.prev=1,f=new xd(s),l=Ed.from(c).toObject(),e.next=6,Oh({fs:f,gitdir:o,type:"commit",object:l,format:"content"});case 6:return h=e.sent,e.abrupt("return",h);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeCommit",e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Fg(){return(Fg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.type,f=t.object,l=t.format,h=void 0===l?"parsed":l,d=t.oid,m=t.encoding,v=void 0===m?void 0:m,e.prev=1,"parsed"!==h){e.next=15;break}e.t0=c,e.next="commit"===e.t0?6:"tree"===e.t0?8:"blob"===e.t0?10:"tag"===e.t0?12:14;break;case 6:return f=Ed.from(f).toObject(),e.abrupt("break",15);case 8:return f=xh.from(f.entries).toObject(),e.abrupt("break",15);case 10:return f=wa.from(f,v),e.abrupt("break",15);case 12:return f=im.from(f).toObject(),e.abrupt("break",15);case 14:throw new $l(Ul.ObjectTypeUnknownFail,{type:c});case 15:return p="parsed"===h?"content":h,e.next=18,Oh({fs:s,gitdir:o,type:c,object:f,oid:d,format:p});case 18:return d=e.sent,e.abrupt("return",d);case 22:throw e.prev=22,e.t1=e.catch(1),e.t1.caller="git.writeObject",e.t1;case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}function Pg(){return(Pg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.ref,f=t.value,l=t.force,h=void 0!==l&&l,d=t.symbolic,m=void 0!==d&&d,e.prev=1,c===hl.clean(c)){e.next=4;break}throw new $l(Ul.InvalidRefNameError,{verb:"write",noun:"ref",ref:c,suggestion:hl.clean(c)});case 4:if(e.t0=!h,!e.t0){e.next=9;break}return e.next=8,bd.exists({fs:s,gitdir:o,ref:c});case 8:e.t0=e.sent;case 9:if(!e.t0){e.next=11;break}throw new $l(Ul.RefExistsError,{noun:"ref",ref:c});case 11:if(!m){e.next=16;break}return e.next=14,bd.writeSymbolicRef({fs:s,gitdir:o,ref:c,value:f});case 14:e.next=21;break;case 16:return e.next=18,bd.resolve({fs:s,gitdir:o,ref:f});case 18:return f=e.sent,e.next=21,bd.writeRef({fs:s,gitdir:o,ref:c,value:f});case 21:e.next=27;break;case 23:throw e.prev=23,e.t1=e.catch(1),e.t1.caller="git.writeRef",e.t1;case 27:case"end":return e.stop()}}),e,null,[[1,23]])})))).apply(this,arguments)}function Mg(){return(Mg=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.core,n=void 0===r?"default":r,i=t.dir,a=t.gitdir,o=void 0===a?Vl(i,".git"):a,u=t.fs,s=void 0===u?Kh.get(n).get("fs"):u,c=t.tag,e.prev=1,f=new xd(s),l=im.from(c).toObject(),e.next=6,Oh({fs:f,gitdir:o,type:"tag",object:l,format:"content"});case 6:return h=e.sent,e.abrupt("return",h);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0.caller="git.writeTag",e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var Lg={auth:function(e,t){if(void 0===t){var r=e.indexOf(":");r>-1?(t=e.slice(r+1),e=e.slice(0,r)):t=""}return{username:e,password:t}},oauth2:Nl},Bg=Object.freeze({__proto__:null,E:Ul,FileSystem:xd,STAGE:$m,TREE:Tm,WORKDIR:Im,add:function(e){return qh.apply(this,arguments)},addNote:function(e){return gm.apply(this,arguments)},addRemote:function(e){return bm.apply(this,arguments)},annotatedTag:function(e){return wm.apply(this,arguments)},branch:function(e){return km.apply(this,arguments)},checkout:Gm,clone:function(e){return Dv.apply(this,arguments)},commit:Fd,config:Id,cores:Kh,currentBranch:Uv,deleteBranch:function(e){return Nv.apply(this,arguments)},deleteRef:Gv,deleteRemote:function(e){return Hv.apply(this,arguments)},deleteTag:function(e){return Vv.apply(this,arguments)},expandOid:function(e){return Xv.apply(this,arguments)},expandRef:function(e){return ep.apply(this,arguments)},fastCheckout:function(e){return Vm.apply(this,arguments)},fetch:Ov,findMergeBase:tp,findRoot:function(e){return np.apply(this,arguments)},getOidAtPath:op,getRemoteInfo:function(e){return hp.apply(this,arguments)},hashBlob:function(e){return vp.apply(this,arguments)},indexPack:function(e){return pp.apply(this,arguments)},init:Lv,isDescendent:gp,listBranches:function(e){return wp.apply(this,arguments)},listCommitsAndTags:kp,listFiles:function(e){return Cp.apply(this,arguments)},listNotes:function(e){return Ep.apply(this,arguments)},listRemotes:function(e){return Ip.apply(this,arguments)},listTags:function(e){return jp.apply(this,arguments)},log:function(e){return Pp.apply(this,arguments)},merge:Wp,packObjects:function(e){return tg.apply(this,arguments)},plugins:Hh,pull:function(e){return rg.apply(this,arguments)},push:function(e){return cg.apply(this,arguments)},readBlob:hg,readCommit:function(e){return pg.apply(this,arguments)},readNote:function(e){return gg.apply(this,arguments)},readObject:Rp,readTag:function(e){return bg.apply(this,arguments)},readTree:lm,remove:function(e){return wg.apply(this,arguments)},removeNote:function(e){return kg.apply(this,arguments)},resetIndex:function(e){return yg.apply(this,arguments)},resolveRef:function(e){return Rg.apply(this,arguments)},sign:function(e){return Ag.apply(this,arguments)},status:function(e){return Sg.apply(this,arguments)},statusMatrix:function(e){return Tg.apply(this,arguments)},tag:function(e){return _g.apply(this,arguments)},utils:Lg,verify:function(e){return Eg.apply(this,arguments)},version:function(){try{return av}catch(e){throw e.caller="git.version",e}},walkBeta1:function(e){return zg.apply(this,arguments)},walkBeta2:Mm,writeBlob:dm,writeCommit:function(e){return Og.apply(this,arguments)},writeObject:function(e){return Fg.apply(this,arguments)},writeRef:function(e){return Pg.apply(this,arguments)},writeTag:function(e){return Mg.apply(this,arguments)},writeTree:vm});function Dg(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);var a,o=A(t);try{for(o.s();!(a=o.n()).done;){var u,c=a.value,f=A(r);try{for(f.s();!(u=f.n()).done;){var l=u.value;c[e](l,n,s({capture:!1},i))}}catch(e){f.e(e)}finally{f.f()}}}catch(e){o.e(e)}finally{o.f()}return Array.prototype.slice.call(arguments,1)}var Ug=Dg.bind(null,"addEventListener"),$g=Dg.bind(null,"removeEventListener");function Ng(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function Gg(e,t){var r=e.getAttribute(t);return e.removeAttribute(t),r}function Wg(e){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Gg(t,":obj"),i=Gg(t,":ref"),a=n?r[n]={}:r;i&&(r[i]=t);for(var o=0,u=Array.from(t.children);o<u.length;o++){var s=u[o],c=Gg(s,":arr"),f=e(s,c?{}:a);c&&(a[c]||(a[c]=[])).push(Object.keys(f).length?f:s)}return r}(Ng(e))}function Hg(e){var t=e.path||e.composedPath&&e.composedPath();if(t)return t;var r=e.target.parentElement;for(t=[e.target,r];r=r.parentElement;)t.push(r);return t.push(document,window),t}function Vg(e){return e instanceof Element?e:"string"==typeof e?e.split(/>>/g).reduce((function(e,t,r,n){return e=e.querySelector(t),r<n.length-1?e.shadowRoot:e}),document):null}function Kg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};function r(r){var n=[.001,.01,.1][Number(r.shiftKey||2*r.ctrlKey)]*(r.deltaY<0?1:-1),i=0,a=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(function(e,r){return r<=a&&r+e.length>=a?(a=r,t(Number(e),n,i)):(i++,e)})),e.focus(),e.setSelectionRange(a,a),r.preventDefault(),e.dispatchEvent(new Event("input"))}Ug(e,"focus",(function(){return Ug(window,"wheel",r,{passive:!1})})),Ug(e,"blur",(function(){return $g(window,"wheel",r)}))}var qg=Object.freeze({__proto__:null,on:Ug,off:$g,createElementFromString:Ng,removeAttribute:Gg,createFromTemplate:Wg,eventPath:Hg,resolveElement:Vg,adjustableInputNumbers:Kg}),Zg=function(e,t,r,n){var i=String(ne(e)),a=i.length,o=void 0===r?" ":String(r),u=ce(t);if(u<=a||""==o)return i;var s=u-a,c=jo.call(o,Math.ceil(s/o.length));return c.length>s&&(c=c.slice(0,s)),n?c+i:i+c},Yg=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Wn);X(X.P+X.F*Yg,"String",{padStart:function(e){return Zg(this,e,arguments.length>1?arguments[1]:void 0,!0)}});var Jg=Math.min,Qg=Math.max,Xg=Math.floor,eb=Math.round;function tb(e,t,r){t/=100,r/=100;var n=Xg(e=e/360*6),i=e-n,a=r*(1-t),o=r*(1-i*t),u=r*(1-(1-i)*t),s=n%6;return[255*[r,o,a,a,u,r][s],255*[u,r,r,o,a,a][s],255*[a,a,u,r,r,o][s]]}function rb(e,t,r){return tb(e,t,r).map((function(e){return eb(e).toString(16).padStart(2,"0")}))}function nb(e,t,r){var n=tb(e,t,r),i=n[0]/255,a=n[1]/255,o=n[2]/255,u=Jg(1-i,1-a,1-o);return[100*(1===u?0:(1-i-u)/(1-u)),100*(1===u?0:(1-a-u)/(1-u)),100*(1===u?0:(1-o-u)/(1-u)),100*u]}function ib(e,t,r){var n=(2-(t/=100))*(r/=100)/2;return 0!==n&&(t=1===n?0:n<.5?t*r/(2*n):t*r/(2-2*n)),[e,100*t,100*n]}function ab(e,t,r){var n,i,a=Jg(e/=255,t/=255,r/=255),o=Qg(e,t,r),u=o-a;if(0===u)n=i=0;else{i=u/o;var s=((o-e)/6+u/2)/u,c=((o-t)/6+u/2)/u,f=((o-r)/6+u/2)/u;e===o?n=f-c:t===o?n=1/3+s-f:r===o&&(n=2/3+c-s),n<0?n+=1:n>1&&(n-=1)}return[360*n,100*i,100*o]}function ob(e,t,r,n){return t/=100,r/=100,y(ab(255*(1-Jg(1,(e/=100)*(1-(n/=100))+n)),255*(1-Jg(1,t*(1-n)+n)),255*(1-Jg(1,r*(1-n)+n))))}function ub(e,t,r){return t/=100,[e,2*(t*=(r/=100)<.5?r:1-r)/(r+t)*100,100*(r+t)]}function sb(e){return ab.apply(void 0,y(e.match(/.{2}/g).map((function(e){return parseInt(e,16)}))))}function cb(e){e=e.match(/^[a-zA-Z]+$/)?function(e){if("black"===e.toLowerCase())return"#000";var t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,"#000"===t.fillStyle?null:t.fillStyle}(e):e;var t,r={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},n=function(e){return e.map((function(e){return/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0}))};e:for(var i in r)if(t=r[i].exec(e)){var a=function(e){return!!t[2]==("number"==typeof e)};switch(i){case"cmyk":var o=k(n(t),5),u=o[1],s=o[2],c=o[3],f=o[4];if(u>100||s>100||c>100||f>100)break e;return{values:ob(u,s,c,f),type:i};case"rgba":var l=k(n(t),7),h=l[3],d=l[4],m=l[5],v=l[6];if(h>255||d>255||m>255||v<0||v>1||!a(v))break e;return{values:[].concat(y(ab(h,d,m)),[v]),a:v,type:i};case"hexa":var p=k(t,2)[1];4!==p.length&&3!==p.length||(p=p.split("").map((function(e){return e+e})).join(""));var g=p.substring(0,6),b=p.substring(6);return b=b?parseInt(b,16)/255:void 0,{values:[].concat(y(sb(g)),[b]),a:b,type:i};case"hsla":var w=k(n(t),7),R=w[3],x=w[4],A=w[5],S=w[6];if(R>360||x>100||A>100||S<0||S>1||!a(S))break e;return{values:[].concat(y(ub(R,x,A)),[S]),a:S,type:i};case"hsva":var C=k(n(t),7),T=C[3],_=C[4],E=C[5],I=C[6];if(T>360||_>100||E>100||I<0||I>1||!a(I))break e;return{values:[T,_,E,I],a:I,type:i}}}return{values:null,type:null}}function fb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return t(~r?e.map((function(e){return Number(e.toFixed(r))})):e)}},a={h:e,s:t,v:r,a:n,toHSVA:function(){var e=[a.h,a.s,a.v,a.a];return e.toString=i(e,(function(e){return"hsva(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(a.a,")")})),e},toHSLA:function(){var e=[].concat(y(ib(a.h,a.s,a.v)),[a.a]);return e.toString=i(e,(function(e){return"hsla(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(a.a,")")})),e},toRGBA:function(){var e=[].concat(y(tb(a.h,a.s,a.v)),[a.a]);return e.toString=i(e,(function(e){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(a.a,")")})),e},toCMYK:function(){var e=nb(a.h,a.s,a.v);return e.toString=i(e,(function(e){return"cmyk(".concat(e[0],"%, ").concat(e[1],"%, ").concat(e[2],"%, ").concat(e[3],"%)")})),e},toHEXA:function(){var e=rb(a.h,a.s,a.v),t=a.a>=1?"":Number((255*a.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return t&&e.push(t),e.toString=function(){return"#".concat(e.join("").toUpperCase())},e},clone:function(){return fb(a.h,a.s,a.v,a.a)}};return a}var lb=function(e){return Math.max(Math.min(e,1),0)};function hb(e){var t={options:Object.assign({lock:null,onchange:function(){return 0},onstop:function(){return 0}},e),_keyboard:function(e){var r=t.options,n=e.type,i=e.key;if(document.activeElement===r.wrapper){var a=t.options.lock,o="ArrowUp"===i,u="ArrowRight"===i,s="ArrowDown"===i,c="ArrowLeft"===i;if("keydown"===n&&(o||u||s||c)){var f=0,l=0;"v"===a?f=o||u?1:-1:"h"===a?f=o||u?-1:1:(l=o?-1:s?1:0,f=c?-1:u?1:0),t.update(lb(t.cache.x+.01*f),lb(t.cache.y+.01*l)),e.preventDefault()}else i.startsWith("Arrow")&&(t.options.onstop(),e.preventDefault())}},_tapstart:function(e){Ug(document,["mouseup","touchend","touchcancel"],t._tapstop),Ug(document,["mousemove","touchmove"],t._tapmove),e.preventDefault(),t._tapmove(e)},_tapmove:function(e){var r=t.options,n=t.cache,i=r.lock,a=r.element,o=r.wrapper.getBoundingClientRect(),u=0,s=0;if(e){var c=e&&e.touches&&e.touches[0];u=e?(c||e).clientX:0,s=e?(c||e).clientY:0,u<o.left?u=o.left:u>o.left+o.width&&(u=o.left+o.width),s<o.top?s=o.top:s>o.top+o.height&&(s=o.top+o.height),u-=o.left,s-=o.top}else n&&(u=n.x*o.width,s=n.y*o.height);"h"!==i&&(a.style.left="calc(".concat(u/o.width*100,"% - ").concat(a.offsetWidth/2,"px)")),"v"!==i&&(a.style.top="calc(".concat(s/o.height*100,"% - ").concat(a.offsetHeight/2,"px)")),t.cache={x:u/o.width,y:s/o.height};var f=lb(u/o.width),l=lb(s/o.height);switch(i){case"v":return r.onchange(f);case"h":return r.onchange(l);default:return r.onchange(f,l)}},_tapstop:function(){t.options.onstop(),$g(document,["mouseup","touchend","touchcancel"],t._tapstop),$g(document,["mousemove","touchmove"],t._tapmove)},trigger:function(){t._tapmove()},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.options.wrapper.getBoundingClientRect(),i=n.left,a=n.top,o=n.width,u=n.height;"h"===t.options.lock&&(r=e),t._tapmove({clientX:i+o*e,clientY:a+u*r})},destroy:function(){var e=t.options,r=t._tapstart,n=t._keyboard;$g(document,["keydown","keyup"],n),$g([e.wrapper,e.element],"mousedown",r),$g([e.wrapper,e.element],"touchstart",r,{passive:!1})}},r=t.options,n=t._tapstart,i=t._keyboard;return Ug([r.wrapper,r.element],"mousedown",n),Ug([r.wrapper,r.element],"touchstart",n,{passive:!1}),Ug(document,["keydown","keyup"],i),t}function db(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({onchange:function(){return 0},className:"",elements:[]},e);var t=Ug(e.elements,"click",(function(t){e.elements.forEach((function(r){return r.classList[t.target===r?"add":"remove"](e.className)})),e.onchange(t)}));return{destroy:function(){return $g.apply(qg,y(t))}}}function mb(e){var t=e.el,r=e.reference,n=e.padding,i=void 0===n?8:n,a={start:"sme",middle:"mse",end:"ems"},o={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e[t];if(r)return r;var n=t.split("-"),i=k(n,2),a=i[0],o=i[1],u=void 0===o?"middle":o,s="top"===a||"bottom"===a;return e[t]={position:a,variant:u,isVertical:s}}}();return{update:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=u(e),c=s.position,f=s.variant,l=s.isVertical,h=r.getBoundingClientRect(),d=t.getBoundingClientRect(),m=function(e){return e?{t:h.top-d.height-i,b:h.bottom+i}:{r:h.right+i,l:h.left-d.width-i}},v=function(e){return e?{s:h.left+h.width-d.width,m:-d.width/2+(h.left+h.width/2),e:h.left}:{s:h.bottom-d.height,m:h.bottom-h.height/2-d.height/2,e:h.bottom-h.height}},p={},g=function(e,t,r){var n,i="top"===r,a=i?d.height:d.width,o=window[i?"innerHeight":"innerWidth"],u=A(e);try{for(u.s();!(n=u.n()).done;){var s=t[n.value],c=p[r]="".concat(s,"px");if(s>0&&s+a<o)return c}}catch(e){u.e(e)}finally{u.f()}return null},b=0,w=[l,!l];b<w.length;b++){var k=w[b],y=k?"top":"left",R=k?"left":"top",x=g(o[c],m(k),y),S=g(a[f],v(k),R);if(x&&S)return t.style[R]=S,void(t.style[y]=x)}n?(t.style.top="".concat((window.innerHeight-d.height)/2,"px"),t.style.left="".concat((window.innerWidth-d.width)/2,"px")):(t.style.left=p.left,t.style.top=p.top)}}}var vb=function(){function e(t){var r=this;n(this,e),o(this,"_initializingActive",!0),o(this,"_recalc",!0),o(this,"_nanopop",null),o(this,"_root",null),o(this,"_color",fb()),o(this,"_lastColor",fb()),o(this,"_swatchColors",[]),o(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},strings:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},t);var i=t,a=i.swatches,u=i.components,s=i.theme,c=i.sliders,f=i.lockOpacity,l=i.padding;["nano","monolith"].includes(s)&&!c&&(t.sliders="h"),u.interaction||(u.interaction={});var h=u.preview,d=u.opacity,m=u.hue,v=u.palette;u.opacity=!f&&d,u.palette=v||h||d||m,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),a&&a.length&&a.forEach((function(e){return r.addSwatch(e)}));var p=this._root,g=p.button,b=p.app;this._nanopop=mb({reference:g,padding:l,el:b}),g.setAttribute("role","button"),g.setAttribute("aria-label","toggle color picker dialog");var w=this;requestAnimationFrame((function e(){if(!b.offsetWidth&&b.parentElement!==t.container)return requestAnimationFrame(e);w.setColor(t.default),w._rePositioningPicker(),t.defaultRepresentation&&(w._representation=t.defaultRepresentation,w.setColorRepresentation(w._representation)),t.showAlways&&w.show(),w._initializingActive=!1,w._emit("init")}))}return a(e,[{key:"_preBuild",value:function(){for(var e=this.options,t=0,r=["el","container"];t<r.length;t++){var n=r[t];e[n]=Vg(e[n])}this._root=function(e){var t=e.components,r=e.strings,n=e.useAsButton,i=e.inline,a=e.appClass,o=e.theme,u=e.lockOpacity,s=function(e){return e?"":'style="display:none" hidden'},c=Wg('\n      <div :ref="root" class="pickr">\n\n        '.concat(n?"":'<button type="button" :ref="button" class="pcr-button"></button>','\n\n        <div :ref="app" class="pcr-app ').concat(a||"",'" data-theme="').concat(o,'" ').concat(i?'style="position: unset"':"",' aria-label="color picker dialog" role="form">\n          <div class="pcr-selection" ').concat(s(t.palette),'>\n            <div :obj="preview" class="pcr-color-preview" ').concat(s(t.preview),'>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="use previous color"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="color selection area" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ').concat(s(t.hue),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="hue selection slider" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ').concat(s(t.opacity),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="opacity selection slider" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(t.palette?"":"pcr-last",'" :ref="swatches"></div> \n\n          <div :obj="interaction" class="pcr-interaction" ').concat(s(Object.keys(t.interaction).length),'>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ').concat(s(t.interaction.input),'>\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="').concat(u?"HEX":"HEXA",'" type="button" ').concat(s(t.interaction.hex),'>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="').concat(u?"RGB":"RGBA",'" type="button" ').concat(s(t.interaction.rgba),'>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="').concat(u?"HSL":"HSLA",'" type="button" ').concat(s(t.interaction.hsla),'>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="').concat(u?"HSV":"HSVA",'" type="button" ').concat(s(t.interaction.hsva),'>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(s(t.interaction.cmyk),'>\n\n            <input :ref="save" class="pcr-save" value="').concat(r.save||"Save",'" type="button" ').concat(s(t.interaction.save),' aria-label="save and exit">\n            <input :ref="cancel" class="pcr-cancel" value="').concat(r.cancel||"Cancel",'" type="button" ').concat(s(t.interaction.cancel),' aria-label="cancel and exit">\n            <input :ref="clear" class="pcr-clear" value="').concat(r.clear||"Clear",'" type="button" ').concat(s(t.interaction.clear),' aria-label="clear and exit">\n          </div>\n        </div>\n      </div>\n    ')),f=c.interaction;return f.options.find((function(e){return!e.hidden&&!e.classList.add("active")})),f.type=function(){return f.options.find((function(e){return e.classList.contains("active")}))},c}(e),e.useAsButton&&(this._root.button=e.el),e.container.appendChild(this._root.root)}},{key:"_finalBuild",value:function(){var e=this.options,t=this._root;if(e.container.removeChild(t.root),e.inline){var r=e.el.parentElement;e.el.nextSibling?r.insertBefore(t.app,e.el.nextSibling):r.appendChild(t.app)}else e.container.appendChild(t.app);e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}},{key:"_buildComponents",value:function(){var e=this,t=this,r=this.options.components,n=(t.options.sliders||"v").repeat(2),i=k(n.match(/^[vh]+$/g)?n:[],2),a=i[0],o=i[1],u=function(){return e._color||(e._color=e._lastColor.clone())},s={palette:hb({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:function(){return t._emit("changestop",t)},onchange:function(e,n){if(r.palette){var i=u(),a=t._root,o=t.options,s=a.preview,c=s.lastColor,f=s.currentColor;t._recalc&&(i.s=100*e,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput());var l=i.toRGBA().toString(0);this.element.style.background=l,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(i.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(i.h,", 100%, 50%, ").concat(i.a,"), rgba(255, 255, 255, ").concat(i.a,"))\n                    "),o.comparison?o.useAsButton||t._lastColor||(c.style.color=l):(a.button.style.color=l,a.button.classList.remove("clear"));var h,d=i.toHEXA().toString(),m=A(t._swatchColors);try{for(m.s();!(h=m.n()).done;){var v=h.value,p=v.el,g=v.color;p.classList[d===g.toHEXA().toString()?"add":"remove"]("pcr-active")}}catch(e){m.e(e)}finally{m.f()}f.style.color=l}}}),hue:hb({lock:"v"===o?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:function(){return t._emit("changestop",t)},onchange:function(e){if(r.hue&&r.palette){var n=u();t._recalc&&(n.h=360*e),this.element.style.backgroundColor="hsl(".concat(n.h,", 100%, 50%)"),s.palette.trigger()}}}),opacity:hb({lock:"v"===a?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:function(){return t._emit("changestop",t)},onchange:function(e){if(r.opacity&&r.palette){var n=u();t._recalc&&(n.a=Math.round(100*e)/100),this.element.style.background="rgba(0, 0, 0, ".concat(n.a,")"),s.palette.trigger()}}}),selectable:db({elements:t._root.interaction.options,className:"active",onchange:function(e){t._representation=e.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput()}})};this._components=s}},{key:"_bindEvents",value:function(){var e=this,t=this._root,r=this.options,n=[Ug(t.interaction.clear,"click",(function(){return e._clearColor()})),Ug([t.interaction.cancel,t.preview.lastColor],"click",(function(){e._emit("cancel",e),e.setHSVA.apply(e,y((e._lastColor||e._color).toHSVA()).concat([!0]))})),Ug(t.interaction.save,"click",(function(){!e.applyColor()&&!r.showAlways&&e.hide()})),Ug(t.interaction.result,["keyup","input"],(function(t){e.setColor(t.target.value,!0)&&!e._initializingActive&&e._emit("change",e._color),t.stopImmediatePropagation()})),Ug(t.interaction.result,["focus","blur"],(function(t){e._recalc="blur"===t.type,e._recalc&&e._updateOutput()})),Ug([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],(function(){return e._recalc=!0}))];if(!r.showAlways){var i=r.closeWithKey;n.push(Ug(t.button,"click",(function(){return e.isOpen()?e.hide():e.show()})),Ug(document,"keyup",(function(t){return e.isOpen()&&(t.key===i||t.code===i)&&e.hide()})),Ug(document,["touchstart","mousedown"],(function(r){e.isOpen()&&!Hg(r).some((function(e){return e===t.app||e===t.button}))&&e.hide()}),{capture:!0}))}if(r.adjustableNumbers){var a={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};Kg(t.interaction.result,(function(t,r,n){var i=a[e.getColorRepresentation().toLowerCase()];if(i){var o=i[n],u=t+(o>=100?1e3*r:r);return u<=0?0:Number((u<o?u:o).toPrecision(3))}return t}))}if(r.autoReposition&&!r.inline){var o=null,u=this;n.push(Ug(window,["scroll","resize"],(function(){u.isOpen()&&(r.closeOnScroll&&u.hide(),null===o?(o=setTimeout((function(){return o=null}),100),requestAnimationFrame((function e(){u._rePositioningPicker(),null!==o&&requestAnimationFrame(e)}))):(clearTimeout(o),o=setTimeout((function(){return o=null}),100)))}),{capture:!0}))}this._eventBindings=n}},{key:"_rePositioningPicker",value:function(){var e=this.options;e.inline||this._nanopop.update(e.position,!this._recalc)}},{key:"_updateOutput",value:function(){var e=this._root,t=this._color,r=this.options;if(e.interaction.type()){var n="to".concat(e.interaction.type().getAttribute("data-type"));e.interaction.result.value="function"==typeof t[n]?t[n]().toString(r.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",t)}},{key:"_clearColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._root,r=this.options;r.useAsButton||(t.button.style.color="rgba(0, 0, 0, 0.15)"),t.button.classList.add("clear"),r.showAlways||this.hide(),this._lastColor=null,this._initializingActive||e||(this._emit("save",null),this._emit("clear",this))}},{key:"_parseLocalColor",value:function(e){var t=cb(e),r=t.values,n=t.type,i=t.a,a=this.options.lockOpacity,o=void 0!==i&&1!==i;return r&&3===r.length&&(r[3]=void 0),{values:!r||a&&o?null:r,type:n}}},{key:"_emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this._eventListener[e].forEach((function(e){return e.apply(void 0,n.concat([t]))}))}},{key:"on",value:function(e,t){return"function"==typeof t&&"string"==typeof e&&e in this._eventListener&&this._eventListener[e].push(t),this}},{key:"off",value:function(e,t){var r=this._eventListener[e];if(r){var n=r.indexOf(t);~n&&r.splice(n,1)}return this}},{key:"addSwatch",value:function(e){var t=this,r=this._parseLocalColor(e).values;if(r){var n=this._swatchColors,i=this._root,a=fb.apply(void 0,y(r)),o=Ng('<button type="button" style="color: '.concat(a.toRGBA().toString(0),'" aria-label="color swatch"/>'));return i.swatches.appendChild(o),n.push({el:o,color:a}),this._eventBindings.push(Ug(o,"click",(function(){t.setHSVA.apply(t,y(a.toHSVA()).concat([!0])),t._emit("swatchselect",a),t._emit("change",a)}))),!0}return!1}},{key:"removeSwatch",value:function(e){var t=this._swatchColors[e];if(t){var r=t.el;return this._root.swatches.removeChild(r),this._swatchColors.splice(e,1),!0}return!1}},{key:"applyColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._root,r=t.preview,n=t.button,i=this._color.toRGBA().toString(0);return r.lastColor.style.color=i,this.options.useAsButton||(n.style.color=i),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color),this}},{key:"destroy",value:function(){var e=this;this._eventBindings.forEach((function(e){return $g.apply(qg,y(e))})),Object.keys(this._components).forEach((function(t){return e._components[t].destroy()}))}},{key:"destroyAndRemove",value:function(){var e=this;this.destroy();var t=this._root,r=t.root,n=t.app;r.parentElement&&r.parentElement.removeChild(r),n.parentElement.removeChild(n),Object.keys(this).forEach((function(t){return e[t]=null}))}},{key:"hide",value:function(){return this._root.app.classList.remove("visible"),this._emit("hide",this),this}},{key:"show",value:function(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this)),this}},{key:"isOpen",value:function(){return this._root.app.classList.contains("visible")}},{key:"setHSVA",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:360,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||r<0||r>100||n<0||n>1)return!1;this._color=fb(e,t,r,n);var o=this._components,u=o.hue,s=o.opacity,c=o.palette;return u.update(e/360),s.update(n),c.update(t/100,1-r/100),i||this.applyColor(),a&&this._updateOutput(),this._recalc=a,!0}},{key:"setColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return this._clearColor(t),!0;var r=this._parseLocalColor(e),n=r.values,i=r.type;if(n){var a=i.toUpperCase(),o=this._root.interaction.options,u=o.find((function(e){return e.getAttribute("data-type")===a}));if(u&&!u.hidden){var s,c=A(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.classList[f===u?"add":"remove"]("active")}}catch(e){c.e(e)}finally{c.f()}}return!!this.setHSVA.apply(this,y(n).concat([t]))&&this.setColorRepresentation(a)}return!1}},{key:"setColorRepresentation",value:function(e){return e=e.toUpperCase(),!!this._root.interaction.options.find((function(t){return t.getAttribute("data-type").startsWith(e)&&!t.click()}))}},{key:"getColorRepresentation",value:function(){return this._representation}},{key:"getColor",value:function(){return this._color}},{key:"getSelectedColor",value:function(){return this._lastColor}},{key:"getRoot",value:function(){return this._root}},{key:"disable",value:function(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}},{key:"enable",value:function(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}]),e}();vb.utils=qg,vb.libs={HSVaColor:fb,Moveable:hb,Nanopop:mb,Selectable:db},vb.create=function(e){return new vb(e)},vb.version="1.5.1",window.addEventListener("unhandledrejection",(function(e){e.preventDefault();var t=e.reason,r=e.promise;window.console.warn("Unhandled promise rejection:",r&&r.stack||t&&t.stack)})),window.git=Bg,window.Pickr=vb,m.debug=!1,window.$checkEnabled=!1,ace.config.set("basePath","ace");var pb=function(e,t){return"string"==typeof t?t:t[e]||""},gb={m:"le",f:"la",p:"les",a:"l'"},bb={m:"un",f:"une"},wb={Actions:{NoItemFound:function(e){return{de:"Keine ".concat(e.de," Gefunden"),en:"No ".concat(e.en," Found"),es:"No se Encontraron ".concat(e.es),fr:"Aucun ".concat(e.fr," Trouvé"),id:"Tidak Ada ".concat(e.id),ja:"".concat(e.ja,"が見つかりません"),pt:"Nenhum ".concat(e.pt," Encontrado"),ru:"".concat(pb("a",e.ru)," не найдены"),zh:"找不到".concat(e.zh),zhTW:"找不到".concat(e.zhTW)}},New:function(e){return{de:"".concat(pb(e.$.es,{m:"Neue",f:"Neuer"})," ").concat(e.de),en:"New ".concat(e.en),es:"".concat(pb(e.$.es,{m:"Nuevo",f:"Nueva"})," ").concat(e.es),fr:"Nouveau ".concat(e.fr),id:"".concat(e.id," Baru"),ja:"新規".concat(e.ja),pt:"".concat(pb(e.$.pt,{m:"Novo",f:"Nova"})," ").concat(e.pt),ru:"".concat(pb(e.$.ru,{m:"Новая",f:"Hовый"})," ").concat(pb("a",e.ru)),zh:"新建".concat(e.zh),zhTW:"新增".concat(e.zhTW)}},Upload:function(e){return{de:"".concat(e.de," Hochladen"),en:"Upload ".concat(e.en),es:"Subir ".concat(e.es),fr:"Téléverser ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Upload ".concat(e.id),ja:"".concat(e.ja," Upload"),pt:"Subir ".concat(e.pt),ru:"Загрузить ".concat(pb("a",e.ru)),zh:"上传".concat(e.zh),zhTW:"上传".concat(e.zhTW)}},Delete:function(e){return{de:"".concat(e.de," Löschen"),en:"Delete ".concat(e.en),es:"Borrar ".concat(e.es),fr:"Supprimer ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Hapus ".concat(e.id),ja:"".concat(e.ja,"を削除"),pt:"Excluir ".concat(e.pt),ru:"Удалить ".concat(pb("a",e.ru)),zh:"删除".concat(e.zh),zhTW:"删除".concat(e.zhTW)}},DeleteConfirm:function(e){return{en:"Do you want to delete “".concat(e.en,"”?"),es:"¿Quieres eliminar “".concat(e.es,"”?"),fr:"Voulez-vous supprimer “".concat(pb(e.$.fr,gb)," ").concat(e.fr,"”?"),id:"Apakah Anda ingin menghapus “".concat(e.id,"”?"),ja:"“".concat(e.ja,"”を削除しますか？"),pt:"Deseja excluir o “".concat(e.pt,"”?"),ru:"Хотите удалить “".concat(pb("a",e.ru),"”?"),zh:"是否要删除“".concat(e.zh,"”？"),zhTW:"您要刪除“".concat(e.zhTW,"”嗎？")}},CheckoutConfirm:function(e){return{en:"Do you want to checkout “".concat(e.en,"”?"),es:"¿Quieres adquirir “".concat(e.es,"”?"),fr:"Voulez-vous permuter/extraire “".concat(pb(e.$.fr,gb)," ").concat(e.fr,"”?"),id:"Anda ingin checkout “".concat(e.id,"”?"),ja:"“".concat(e.ja,"”をチェックアウトしますか？"),pt:"Deseja restaurar o “".concat(e.pt,"”?"),ru:"Хотите Извлечение “".concat(pb("a",e.ru),"”?"),zh:"是否要检出“".concat(e.zh,"”？"),zhTW:"您要取出“".concat(e.zhTW,"”嗎？")}},Rename:function(e){return{de:"".concat(e.de," Umbenennen"),en:"Rename ".concat(e.en),es:"Renombrar ".concat(e.es),fr:"Renommer ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Ganti nama ".concat(e.id),ja:"".concat(e.ja,"を名前を変更"),pt:"Renomear ".concat(e.pt),ru:"".concat(pb(e.$.ru,{m:"Переименуйте",ms:"Переименовать",f:"Переименовать"})," ").concat(pb("a",e.ru)),zh:"重新命".concat(e.zh,"名"),zhTW:"重命".concat(e.zhTW,"名")}},Enter:function(e){return{de:"".concat(e.de," Eingeben"),en:"Enter ".concat(e.en),es:"Ingrese el ".concat(e.es),fr:"Entrez ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Masukkan ".concat(e.id),ja:"".concat(e.ja,"を入力"),pt:"Digite o ".concat(e.pt),ru:"Введите ".concat(pb("a",e.ru)),zh:"输入".concat(e.zh),zhTW:"输入".concat(e.zhTW)}},Revert:function(e){return{en:"Revert ".concat(e.en),es:"Restituir ".concat(e.es),fr:"Restaurer ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Kembalikan ".concat(e.id),ja:"".concat(e.ja,"を取り消す"),pt:"Reverter ".concat(e.pt),ru:"Откатить ".concat(pb("a",e.ru)),zh:"还原".concat(e.zh),zhTW:"復原".concat(e.zhTW)}},Set:function(e){return{de:"".concat(e.de," Festlegen"),en:"Set ".concat(e.en),es:"Establecer ".concat(e.es),fr:"Définir ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Tetapkan ".concat(e.id),ja:"".concat(e.ja,"を設定"),pt:"Definir ".concat(e.pt),ru:"Установить ".concat(pb("a",e.ru)),zh:"设置".concat(e.zh),zhTW:"設定".concat(e.zhTW)}},Undo:function(e){return{en:"Undo ".concat(e.en),es:"Deshacer ".concat(e.es),fr:"Annuler ".concat(e.fr),id:"Membatalkan ".concat(e.id),ja:"".concat(e.ja,"を取り消す"),pt:"Desfazer ".concat(e.pt),ru:"Отменить ".concat(pb("a",e.ru)),zh:"撤销".concat(e.zh),zhTW:"復原".concat(e.zhTW)}},Redo:function(e){return{de:"".concat(e.de," Wiederholen"),en:"Redo ".concat(e.en),es:"Rehacer ".concat(e.es),fr:"Refaire ".concat(e.fr),id:"Ulangi ".concat(e.id),ja:"".concat(e.ja,"をやり直す"),pt:"Refazer ".concat(e.pt),ru:"Повторить ".concat(pb("a",e.ru)),zh:"重做".concat(e.zh),zhTW:"重做".concat(e.zhTW)}},Import:function(e){return{en:"Import ".concat(e.en),es:"Importar ".concat(e.es),fr:"Importer ".concat(pb(e.$.fr,bb)," ").concat(e.fr),id:"Mengimpor ".concat(e.id),ja:"".concat(e.ja,"をインポート"),pt:"Importar ".concat(e.pt),ru:"Импортировать ".concat(pb("a",e.ru)),zh:"导入".concat(e.zh),zhTW:"導入".concat(e.zhTW)}},Export:function(e){return{en:"Export ".concat(e.en),es:"Exportar ".concat(e.es),fr:"Exporter ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Ekspor ".concat(e.id),ja:"エクスポート".concat(e.ja),pt:"Exportar ".concat(e.pt),ru:"Экспорт ".concat(pb("a",e.ru)),zh:"导出为".concat(e.zh),zhTW:"匯出為".concat(e.zhTW)}},Create:function(e){return{en:"Create ".concat(e.en),es:"Crear ".concat(e.es),fr:"Créer ".concat(pb(e.$.fr,bb)," ").concat(e.fr),id:"Buat ".concat(e.id),ja:"".concat(e.ja,"を作成"),pt:"Criar ".concat(e.pt),ru:"".concat(pb(e.$.ru,{m:"Создать",ms:"Создавать",f:"Создать"})," ").concat(pb("a",e.ru)),zh:"创建新".concat(e.zh),zhTW:"建立新".concat(e.zhTW)}},View:function(e){return{en:"View ".concat(e.en),es:"Ver ".concat(e.es),fr:"Afficher ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Tampilkan ".concat(e.id),ja:"表示".concat(e.ja),pt:"Exibir ".concat(e.pt),ru:"".concat(pb(e.$.ru,{m:"Посмотреть",ms:"Просмотр",ns:"Просмотр",f:"Просмотр"})," ").concat(pb("a",e.ru)),zh:"查看".concat(e.zh),zhTW:"檢視".concat(e.zhTW)}},GoTo:function(e){return{en:"Go to ".concat(e.en),es:"Ir a ".concat(e.es),fr:"Aller à ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Lompat ke ".concat(e.id),ja:"".concat(e.ja,"へ移動"),pt:"Ir para a ".concat(e.pt),ru:"Перейти ".concat(pb("d",e.ru)),zh:"跳转到".concat(e.zh),zhTW:"前往".concat(e.zhTW)}},Select:function(e){return{en:"Select ".concat(e.en),es:"Seleccione ".concat(e.es),fr:"Choisir ".concat(pb(e.$.fr,bb)," ").concat(e.fr),id:"Seleksi ".concat(e.id),ja:"".concat(e.ja,"を選択してください"),pt:"Selecione o ".concat(e.pt),ru:"".concat(pb(e.$.ru,{m:"Выбрать",f:"Выберите"})," ").concat(pb("a",e.ru)),zh:"请选择".concat(e.zh),zhTW:"請選擇".concat(e.zhTW)}},Failed:function(e){return{en:"".concat(e.en," Failed"),es:"Fallo al ".concat(e.es),fr:"".concat(e.fr," Échoué"),id:"".concat(e.id," Gagal"),ja:"".concat(e.ja,"に失敗"),pt:"".concat(e.pt," Falhou"),ru:"Hе удалось ".concat(pb("a",e.ru)),zh:"".concat(e.zh,"失败"),zhTW:"".concat(e.zhTW,"失敗")}},SearchFor:function(e){return{en:"Search ".concat(e.en),es:"Buscar ".concat(e.es),fr:"Rechercher ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Cari Untuk ".concat(e.id),ja:"検索: ".concat(e.ja),pt:"Procurar ".concat(e.pt),ru:"Поиск ".concat(pb("g",e.ru)),zh:"查找".concat(e.zh),zhTW:"搜尋".concat(e.zhTW)}},Find:function(e){return{en:"Find ".concat(e.en),es:"Buscar ".concat(e.es),fr:"Trouver ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Cari ".concat(e.id),ja:"検索".concat(e.ja),pt:"Pesquisar ".concat(e.pt),ru:"Найти ".concat(e.ru),zh:"搜索".concat(e.zh),zhTW:"搜索".concat(e.zhTW)}},Replace:function(e){return{en:"Replace ".concat(e.en),es:"Reemplazar ".concat(e.es),fr:"Remplacer ".concat(pb(e.$.fr,gb)," ").concat(e.fr),id:"Ganti ".concat(e.id),ja:"代替".concat(e.ja),pt:"Substituir ".concat(e.pt),ru:"Заменить ".concat(e.ru),zh:"替换".concat(e.zh),zhTW:"替換".concat(e.zhTW)}}},Objects:{File:{en:"File",es:"Archivo",fr:"Fichier",id:"Berkas",ja:"ファイル",pt:"Arquivo",ru:{n:"файл",g:"файла",a:"файл"},zh:"文件",zhTW:"檔案",$:{es:"m",fr:"m",pt:"m",ru:"m"}},Files:{en:"Files",es:"Archivos",fr:"Fichiers",id:"Berkas",ja:"ファイル",pt:"Arquivos",ru:{n:"файлы",g:"файлов",a:"Файлы"},zh:"文件",zhTW:"檔案",$:{es:"m",fr:"p",pt:"m",ru:"m"}},Folder:{en:"Folder",es:"Carpeta",fr:"Dossier",id:"Folder",ja:"フォルダ",pt:"Pasta",ru:{n:"папка",g:"папки",a:"папку"},zh:"文件夹",zhTW:"資料夾",$:{es:"f",fr:"m",pt:"f",ru:"f"}},Settings:{en:"Settings",es:"Opciones",fr:"Préférences",id:"Preferensi",ja:"環境設定",pt:"Preferências",ru:"Настройки",zh:"设置",zhTW:"設定"},Setting:{en:"Setting",es:"Opcione",fr:"Préférence",id:"Preferensi",ja:"環境設定",pt:"Preferência",ru:"Настройки",zh:"设置",zhTW:"設定",$:{es:"m",fr:"m",pt:"f",ru:"m"}},Project:{en:"Project",es:"Proyecto",fr:"Projet",id:"Proyek",ja:"プロジェクト",pt:"Projeto",ru:{n:"проект",g:"проекта",a:"проект"},zh:"项目",zhTW:"專案",$:{es:"m",fr:"m",pt:"m",ru:"m"}},Projects:{de:"Projekte",en:"Projects",es:"Proyectos",fr:"Projets",id:"Proyek",ja:"プロジェクト",pt:"Projetos",ru:{n:"проекты",g:"проектов",a:"проекты"},zh:"项目",zhTW:"專案",$:{es:"m",fr:"p",pt:"m",ru:"m"}},Line:{en:"Line",es:"La Línea",fr:"Lignes",id:"Baris",ja:"指定行",pt:"Linha",ru:"строке",zh:"指定行",zhTW:"指定列",$:{es:"f",fr:"f",pt:"f",ru:"f"}},TargetPath:{en:"Target path",es:"La ruta de destino",fr:"Chemin cible",ja:"ターゲットパス",pt:"Caminho de destino",ru:"Целевой путь",zh:"目标路径",zhTW:"目標路徑",$:{es:"f",fr:"m",pt:"m",ru:"m"}},SourcePath:{en:"Source path",es:"La ruta de origen",fr:"Chemin source",ja:"ソースパス",pt:"Caminho de origem",ru:"Исходный путь",zh:"源路径",zhTW:"源路徑",$:{es:"f",pt:"m",ru:"m"}},Preview:{en:"Preview",es:"Vista Previa",fr:"Prévisualisation",id:"Pratinjau",ja:"プレビュー",pt:"Pré-Visualização",ru:"предпросмотр",zh:"预览",zhTW:"預覽頁面",$:{es:"f",fr:"f",pt:"f",ru:"m"}},Definition:{en:"Definition",es:"Definición",fr:"Définition",id:"Definisi",ja:"宣言に移動",pt:"Definição",ru:"определение",zh:"跳转至声明",zhTW:"移動至宣告",$:{es:"f",fr:"f",pt:"f",ru:"n"}},Credentials:{en:"Credentials",es:"Credenciales",fr:"Identifiants",id:"Otentikasi",ja:"資格情報",pt:"Credenciais",ru:"полномочия",zh:"凭证",zhTW:"憑證",$:{es:"fs",fr:"p",pt:"fs",ru:"ns"}},Labs:{en:"Labs",es:"Labs",fr:"Labs",id:"Labs",ja:"ラボを見る",pt:"Labs",ru:"лаборатории",zh:"实验项目",zhTW:"實驗專案",$:{es:"ms",fr:"p",pt:"ms",ru:"ns"}},Repository:{en:"Repo",es:"Repositorio",fr:"Dépôt",id:"Repo",ja:"リポジトリ",pt:"Repositório",ru:"репозиторий",zh:"版本库",zhTW:"版本庫",$:{es:"m",fr:"m",pt:"m",ru:"m"}},Text:{en:"Text",es:"Texto",fr:"Texte",id:"Teks",ja:"テキスト",pt:"Texto",ru:"текст",zh:"文字",zhTW:"文字",$:{es:"m",fr:"m",pt:"m",ru:"m"}},KeyboardShortcuts:{de:"Tastatürkürzel",en:"Keyboard Shortcuts",es:"Atajos de Teclado",fr:"Raccourcis Clavier",id:"Pintasan Keyboard",ja:"キーボードショートカット",pt:"Atalhos do Teclado",ru:"Горячие клавиши",zh:"键盘快捷键",zhTW:"鍵盤快捷鍵"},Upstream:{en:"Upstream",es:"Ascendencia (Upstream)",fr:"Branche",id:"Upstream",ja:"上流",pt:"Upstream",ru:"верховую",zh:"上游",zhTW:"上游",$:{es:"f",fr:"f",pt:"m",ru:"f"}},Path:{en:"Path",es:"Ruta",fr:"Chemin",id:"Path",ja:"パス",pt:"Caminho",ru:"Путь",zh:"路径",zhTW:"路徑",$:{es:"f",fr:"m",pt:"m",ru:"m"}},Remote:{en:"Remote",es:"Remoto",ja:"リモート",fr:"à Distance",id:"Remote",pt:"Remoto",ru:{n:"Внешнее",g:"Внешняя",a:"Внешнее"},zh:"远端",zhTW:"遠端",$:{es:"m",fr:"m",pt:"m",ru:"n"}},Diff:{en:"Diff",es:"Diff",fr:"Comparaison",ja:"差分",pt:"Comparação",ru:"Различия",zh:"差异",zhTW:"比較差異",$:{es:"m",fr:"f",pt:"f",ru:"f"}},Branch:{en:"Branch",es:"Ramal",fr:"Branche",id:"Cabang",ja:"ブランチ",pt:"Ramo",ru:{n:"Ветвь",g:"Bетви",a:"Bетвь"},zh:"分支",zhTW:"分支",$:{es:"m",fr:"f",pt:"m",ru:"f"}},Font:{en:"Font",es:"Fuente",fr:"Police",id:"Font",ja:"フォント",pt:"Fonte",ru:"Шрифта",zh:"字形",zhTW:"字形"},LogHistory:{de:"Protokollverlauf",en:"Log History",es:"Reg. Histórico",fr:"Historique",id:"Riwayat Log",ja:"ログの履歴",pt:"Histórico",ru:"Сообщения журнала",zh:"历史记录",zhTW:"日誌歷史"},Branches:{en:"Branches",es:"Ramals",fr:"Branches",id:"Cabang",ja:"ブランチ",pt:"Ramos",ru:"ветви",zh:"分支",zhTW:"分支",$:{es:"ms",fr:"p",pt:"ms",ru:"fs"}},RemoteBranches:{en:"Remote Branches",es:"Ramals Remoto",fr:"Branches Distante",id:"Remote Cabang",ja:"リモートブランチ",pt:"Ramos Remoto",ru:"Bетви внешнего",zh:"远端分支",zhTW:"遠端分支",$:{es:"ms",fr:"p",pt:"ms",ru:"fs"}},Log:{en:"Log",es:"Reg.",fr:"Journal",id:"Log",ja:"ログ",pt:"Histórico",ru:"Журнал",zh:"日志",zhTW:"日誌",$:{es:"m",fr:"m",pt:"m",ru:"m"}},Push:{en:"Push",es:"Impulsar",fr:"Pousser",id:"Push",ja:"プッシュ",pt:"Empurrar",ru:"Отправить",zh:"推送(Push)",zhTW:"推送",$:{es:"m",pt:"m",ru:"m"}},Pull:{en:"Pull",es:"Incorporar",fr:"Tirer",id:"Pull",ja:"プル",pt:"Puxar",ru:"Получить",zh:"拉取(Pull)",zhTW:"拉取",$:{es:"m",fr:"f",pt:"m",ru:"m"}},Fetch:{en:"Fetch",es:"Descargar",fr:"Tirer (Fetch)",id:"Fetch",ja:"フェッチ",pt:"Obter",ru:"Извлечь",zh:"获取",zhTW:"獲取",$:{es:"m",fr:"f",pt:"m",ru:"m"}},RemoteUrl:{en:"Remote URL",es:"URL Remota",fr:"L'URL Distante",id:"Remote URL",ja:"リモート URL ",pt:"URL Remota",ru:"URL внешнего",zh:"远端 URL ",zhTW:"遠端 URL ",$:{es:"m",fr:"a",pt:"m",ru:"m"}},Author:{en:"Author",es:"Autor",fr:"L'auteur",ja:"作者",pt:"Autor",ru:{n:"Автор",g:"Aвтора",a:"Автор"},zh:"作者",zhTW:"作者",$:{es:"m",pt:"m",ru:"m"}},AuthorEmail:{en:"Author Email",es:"E-mail del Autor",fr:"E-mail de l'auteur",ja:"作者メールアドレス",pt:"Autor Email",ru:"Эл.почта автора",zh:"作者邮件",zhTW:"作者電郵",$:{es:"m",fr:"m",pt:"m",ru:"m"}},CommitMessage:{en:"Commit Message",es:"Mensaje de Consigna",fr:"Commentaires de Livraison",ja:"コミットメッセージ",pt:"Mensagem de Submissão",ru:"Сообщение фиксации",zh:"提交消息",zhTW:"提交訊息",$:{es:"f",fr:"p",pt:"f",ru:"n"}},SuccessfulFor:function(e){return{en:"".concat(e.en," Successful"),es:"".concat(e.es," Exitoso"),fr:"".concat(e.fr," avec Succès"),ja:"".concat(e.ja,"成功"),pt:"".concat(e.pt," bem Sucedido"),ru:"".concat(pb("n",e.ru)," успешно"),zh:"".concat(e.zh,"成功"),zhTW:"".concat(e.zhTW,"成功")}},NameFor:function(e){return{en:"".concat(e.en," Name"),es:"Nombre del ".concat(e.es),fr:"Nom de ".concat(e.fr),id:"Nama ".concat(e.id),ja:"".concat(e.ja,"名"),pt:"Nome do ".concat(e.pt),ru:"имя ".concat(pb("g",e.ru)),zh:"".concat(e.zh,"名"),zhTW:"".concat(e.zhTW,"名"),$:{es:"m",fr:"m",pt:"m",ru:"m"}}},BranchWithName:function(e){return{en:"Branch: ".concat(e),es:"Ramal: ".concat(e),fr:"Branche: ".concat(e),id:"Cabang: ".concat(e),ja:"ブランチ: ".concat(e),pt:"Ramo: ".concat(e),ru:"Ветвь: ".concat(e),zh:"当前分支: ".concat(e),zhTW:"目前分支: ".concat(e),$:{es:"m",fr:"f",pt:"m",ru:"f"}}},Echo:function(e){return{en:e,es:e,fr:e,id:e,ja:e,pt:e,ru:e,zh:e,zhTW:e,$:{es:"m",pt:"m",ru:"m"}}}},Elements:{Ok:yb({en:"Ok",id:"Baik",ja:"確認",zh:"确认",zhTW:"確認"}),Cancel:yb({de:"Stornieren",en:"Cancel",es:"Cancelar",fr:"Annuler",id:"Membatalkan",ja:"キャンセル",pt:"Cancelar",ru:"Отменить",zh:"取消",zhTW:"取消"}),Revert:yb({en:"Revert",es:"Restituir",fr:"Restaurer",ja:"変更の取り消し",pt:"Reverter",ru:"Откатить",zh:"还原",zhTW:"還原"}),Undo:yb({en:"Undo",es:"Deshacer",fr:"Annuler",id:"Membatalkan",ja:"取り消す",pt:"Desfazer",ru:"Отменить",zh:"撤销",zhTW:"復原"}),Redo:yb({en:"Redo",es:"Rehacer",fr:"Refaire",id:"Ulangi",ja:"やり直す",pt:"Refazer",ru:"Вернуть",zh:"重做",zhTW:"重做"}),NextError:yb({en:"Next Error",es:"Siguiente Error",fr:"Erreur Suivante",id:"Kesalahan",ja:"次のエラー",pt:"Próximo Erro",ru:"Вставить",zh:"下一个错误",zhTW:"下一個錯誤"}),Paste:yb({en:"Paste",es:"Pegar",fr:"Coller",id:"Rekatkan",ja:"ペースト",pt:"Colar",ru:"Вставить",zh:"粘贴",zhTW:"貼上"}),Cut:yb({en:"Cut",es:"Cortar",fr:"Couper",id:"Potong",ja:"カット",pt:"Cortar",ru:"Вырезать",zh:"剪切",zhTW:"剪下"}),Delete:yb({de:"Datei",en:"Delete",es:"Borrar",fr:"Supprimer",id:"Hapus",ja:"削除",pt:"Excluir",ru:"Удалить",zh:"删除",zhTW:"删除"}),Rename:yb({de:"Umbenennen",en:"Rename",es:"Renombrar",fr:"Renommer",id:"Ganti nama",ja:"名前を変更",pt:"Renomear",ru:"Переименование",zh:"重新命名",zhTW:"重命名"}),Edit:yb({de:"Datei",en:"Edit",es:"Edita",fr:"Modifier",ja:"編集",pt:"Editar",ru:"Правка",zh:"编辑",zhTW:"編輯"}),LaunchDefault:yb({en:"Launch Default",es:"Predeterminado",ja:"デフォルトのファイル",pt:"Arquivo Padrão",ru:"Файл по умолчанию",zh:"默认文件",zhTW:"默認文件"}),Export:yb({en:"Export",es:"Exportar",fr:"Exporter",id:"Ekspor",ja:"エクスポート",pt:"Exportar",ru:"экспорт",zh:"导出",zhTW:"匯出"}),Format:yb({en:"Format",es:"Formato",ja:"自動インデント",pt:"Formato",ru:"Формат",zh:"自动缩进",zhTW:"自動縮排"}),FindAll:yb({de:"Suche Alle",en:"Find All",es:"Buscar Todos",fr:"Trouver Tout",id:"Cari Semua",ja:"すべて検索",pt:"Localizar Tudo",ru:"Найти все",zh:"查找全部",zhTW:"尋找所有項目"}),Find:yb({de:"Suche",en:"Find",es:"Buscar",fr:"Chercher",id:"Cari",ja:"検索",pt:"Procurar",ru:"Найти",zh:"查找",zhTW:"尋找"}),Replace:yb({en:"Replace",es:"Reemplazar",fr:"Remplacer",id:"Ganti",ja:"検索",pt:"Substituir",ru:"Заменить",zh:"替换",zhTW:"替換"}),ReplaceAll:yb({en:"Replace All",es:"Reemplaza Todas",fr:"Remplacer Tout",id:"Ganti Semua",ja:"すべて置換",pt:"Substituir Tudo",ru:"Заменить все",zh:"全部替换",zhTW:"全部取代"}),FindResults:yb({en:"Find Results",es:"Resultados",fr:"Résultats des Recherches",id:"Hasil Pencarian",ja:"検索結果",pt:"Resultados",ru:"Найти результаты",zh:"查找结果",zhTW:"搜尋結果"}),Open:yb({en:"Open",es:"Abrir",fr:"Ouvrir",id:"Buka",ja:"開",pt:"Abrir",ru:"Открыть",zh:"打开",zhTW:"開啟"}),Join:yb({en:"Join",es:"Unirse",fr:"Joindre",id:"Bergabung",ja:"参加する",pt:"Junte-se",ru:"Присоединиться",zh:"加入",zhTW:"加入"}),ShowInfo:yb({en:"Show Info",es:"Mostrar Info",ja:"情報を表示",pt:"Mostrar Info",ru:"информацию",zh:"显示信息",zhTW:"顯示信息"}),CommitAll:yb({en:"Commit All",es:"Consigna Todos",fr:"Livrer Tout",ja:"すべてコミット",pt:"Submeter Todos",ru:"Фиксировать все",zh:"全部提交",zhTW:"全部提交"}),RevertAll:yb({en:"Revert All",es:"Restituir Todos",fr:"Restaurer Tout",ja:"すべて変更の取り消し",pt:"Reverter Todos",ru:"откатить все",zh:"全部还原",zhTW:"全部還原"}),Checkout:yb({en:"Checkout",es:"Adquirir",fr:"Permuter/Extraire",ja:"チェックアウト",pt:"Restaurar",ru:"Извлечение",zh:"检出",zhTW:"取出"}),Local:yb({en:"Local",fr:"Locale",ja:"ローカル",ru:"Локальное",zh:"本地",zhTW:"本地"}),RevertAndCheckout:yb({en:"Revert & Checkout",es:"Restituir & Adquirir",ja:"取り消し/チェックアウト",pt:"Reverter e Restaurar",ru:"Откатить и Извлечение",zh:"还原/检出",zhTW:"復原/取出"}),MarkResolved:yb({en:"Mark Resolved",es:"Marcar Resuelto",fr:"Marquer comme Résolu",ja:"解決済みとする",pt:"Marcar Resolvido",ru:"Пометить как улаженный",zh:"标记为已解决",zhTW:"標記為已解決"}),Remotes:yb({en:"Remotes",es:"Remotos",ja:"リモート",pt:"Remotos",ru:"Bнешние",zh:"远端",zhTW:"遠端"}),GitCredentials:yb({de:"Referenzen",en:"Credentials",es:"Credenciales",fr:"Identifiants",id:"Kredensial",ja:"資格情報",pt:"Credenciais",ru:"Удостоверения",zh:"Git 凭证",zhTW:"Git 憑證"}),PrivateRepository:yb({en:"Private Repository",es:"Repositorio Privado",fr:"Dépôt Privé",ja:"プライベートリポジトリ",pt:"Repositório Privado",ru:"частный репозиторий",zh:"私版本库",zhTW:"私版本庫"}),CloneRepo:yb({en:"Clone Repo",es:"Clonar Repo",fr:"Cloner un Dépôt",id:"Klon Repo",ja:"クローン(複製)",pt:"Clonar Repositório",ru:"Клонировать хранилище",zh:"克隆版本库",zhTW:"克隆版本庫"})},Placeholders:{EnterNameOrPath:{de:"Geben Sie den Namen oder den Pfad ein",en:"Enter Name or Path",es:"Ingrese Nombre o Ruta",fr:"Entrez le Nom ou le Chemin",id:"Masukkan Nama atau Path",ja:"ファイルパス",pt:"Insira Nome ou Caminho",ru:"Введите имя или путь",zh:"输入名或路径",zhTW:"輸入名或路徑"},HttpsUrl:{de:"URL (Beginnt mit https://)",en:"URL (Start with https://)",es:"URL (Comienzan con https://)",fr:"URL (Commence par https://)",id:"URL (Mulai dengan https://)",ja:"「https://」で始まるURL",pt:"URL (Iniciam com https://)",ru:"URL (адреса начинаются с https://)",zh:"URL 以「https://」开始",zhTW:"「https://」開頭的 URL"},Username:{de:"Nutzername",en:"Username",es:"Nombre de Usuario",fr:"Nom d'utilisateur",id:"Nama Pengguna",ja:"ユーザー名",pt:"Usuário",ru:"Имя пользователя",zh:"用户名",zhTW:"帳號"}},ErrorMessages:{CannotBeEmptyFor:function(e){return yb({en:"".concat(e.en," cannot be empty."),es:"".concat(e.es," no puede estar vacío."),fr:"".concat(e.fr," ne peut pas être vide."),ja:"".concat(e.ja,"は空にすることはできません"),pt:"".concat(e.pt," não pode estar vazio."),ru:"".concat(pb("n",e.ru)," не может быть пустым"),zh:"".concat(e.zh,"不能为空"),zhTW:"".concat(e.zhTW,"不能為空")})},InvalidCharsFound:function(e){return yb({en:"Invalid characters: ".concat(e),es:"Caracteres inválidos: ".concat(e),fr:"Caractères invalides: ".concat(e),ja:"無効な文字: ".concat(e),pt:"Caracteres inválidos: ".concat(e),ru:"Недопустимые символы: ".concat(e),zh:"无效字符: ".concat(e),zhTW:"無效字符: ".concat(e)})},ExistsFor:function(e){return yb({en:"".concat(e.en," already exists."),es:"".concat(e.es," ya existe."),fr:"".concat(e.fr," existe déjà."),ja:"".concat(e.ja,"は既に存在します"),pt:"".concat(e.pt," já existe."),ru:"".concat(pb("n",e.ru)," уже существует"),zh:"".concat(e.zh,"已存在"),zhTW:"".concat(e.zhTW,"已經存在")})},NotExistsFor:function(e){return yb({en:"".concat(e.en," does not exists."),es:"".concat(e.es," no existe."),fr:"".concat(e.fr," n'existe pas."),ja:"".concat(e.ja,"が存在しません"),pt:"".concat(e.pt," não existe."),ru:"".concat(pb("n",e.ru)," не существует"),zh:"".concat(e.zh,"不存在"),zhTW:"".concat(e.zhTW,"不存在")})},InvalidFor:function(e){return yb({en:"".concat(e.en," is invalid."),es:"".concat(e.es," no es válida."),fr:"".concat(e.fr," est incorrecte."),ja:"".concat(e.ja,"は無効です。"),pt:"".concat(e.pt," é inválido."),ru:"".concat(pb("n",e.ru)," недействительна"),zh:"".concat(e.zh,"无效"),zhTW:"".concat(e.zhTW,"無效")})},DecodeError:yb({en:"Decoding Error",es:"Error de Decodificación",fr:"Erreur de Décodage",ja:"デコードエラー",pt:"Erro na decodificação",ru:"Ошибка декодирования",zh:"错误解码",zhTW:"錯誤解碼"})}};function kb(t){return Object.keys(t).reduce((function(r,n){if("$"!==n){var i=t[n];"object"===e(i)&&(i=i.n),r["data-i18n-"+n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()]=i}return r}),{})}function yb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";e=kb(e);var r=Object.keys(e).reduce((function(t,r){return t+"".concat(r,'="').concat(e[r],'"')}),"");return"<".concat(t," ").concat(r,"></").concat(t,">")}var Rb,xb,Ab,Sb,Cb,Tb,_b,Eb=function(){function e(t,r){n(this,e),this._keys=0,this._maxHits=1,this._cache={},this._hits={},this.maxSize=t,this.evictHitRatio=r}return a(e,[{key:"clear",value:function(){this._keys=0,this._maxHits=1,this._cache={},this._hits={}}},{key:"find",value:function(e){var t=this._cache;return Object.keys(t).find((function(r){return t[r]===e}))}},{key:"get",value:function(e){var t=this._hits,r=this._maxHits,n=this._cache,i=++t[e]||void 0;return i&&(this._maxHits=i>r?i:r)&&n[e]}},{key:"rename",value:function(e,t){var r=this._hits,n=this._cache;n[t]=n[e],r[t]=r[e],delete n[e],delete r[e]}},{key:"del",value:function(e){var t=this._hits;delete this._cache[e],delete t[e],this._keys--}},{key:"set",value:function(e,t){return this._keys++,this._keys>this.maxSize&&this._evict(),this._hits[e]=1,this._cache[e]=t}},{key:"_evict",value:function(){var e=this,t=this._hits,r=this._cache,n=this._maxHits,i=this.evictHitRatio,a={},o={};this._keys=0,Object.keys(t).forEach((function(u){var s=t[u];s&&s/n>i&&(e._keys++,a[u]=1,o[u]=r[u])})),this._cache=o,this._hits=a,this._maxHits=1}},{key:"keys",get:function(){return Object.keys(this._cache)}}]),e}();function Ib(e){var t=e.data,r=e.promiseGenerator,n=e.maxConcurrency,i=void 0===n?1:n,a=e.retryAttempts,o=void 0===a?0:a,u=e.useRaf,s=void 0!==u&&u,c=[],f=t.map((function(e){return{failures:0,entry:e}})),l=!1,h=0;return new Promise((function(e,t){for(var r=0;r<i&&d(e,t);r++);}));function d(e,t){if(f.length){var n=f.pop();return h++,r(n.entry).then((function(r){c.push(r),h--,l||(s?requestAnimationFrame(d.bind(this,e,t)):d(e,t))}),(function(r){n.failures<o?(n.failures++,f.push(n),h--,l||(s?requestAnimationFrame(d.bind(this,e,t)):d(e,t))):(l=!0,t(r))})),!0}return!(0===h&&!l)||(e(c),!1)}}function jb(e,t,n){var i=n||Object.create(null);return(r(regeneratorRuntime.mark((function r(){var n,a,o,u,s,c=this,f=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.from(f),a=t.apply(this,n),o=i[a],u=i[a]=o?o.then((function(){return e.apply(c,n)})):e.apply(this,n),r.prev=4,r.next=7,u;case 7:return s=r.sent,u===i[a]&&delete i[a],r.abrupt("return",s);case 12:throw r.prev=12,r.t0=r.catch(4),u===i[a]&&delete i[a],r.t0;case 16:case"end":return r.stop()}}),r,this,[[4,12]])}))))}define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(e,t,r){var n=e("../lib/dom"),i=e("../lib/lang"),a=e("../lib/event"),o=e("../keyboard/hash_handler").HashHandler,u=e("../lib/keys"),s='<div class="ace_search right">    <button action="toggleReplace" class="ace_search_toggle collapse" title="Toggle Replace"></button>    <div class="ace_search_form">      <div class="uk-flex uk-flex-middle uk-flex-space-between">        <div class="uk-flex-item-1">          <a action="findAll" class="ace_icon ti-align-left" title="All (Alt-Enter)"></a>          <a action="toggleRegexpMode" class="ace_icon x-menu-toggle x-outline regex" title="RegExp Search">&nbsp;</a>          <a action="toggleCaseSensitive" class="ace_icon x-menu-toggle x-outline case-sensitive" title="Case-Sensitive Search">&nbsp;</a>          <a action="toggleWholeWords" class="ace_icon x-menu-toggle x-outline whole-word" title="Whole Word Search">&nbsp;</a>        </div>        <a action="findPrev" class="ace_icon ti-arrow-up prev" title="Previous (Ctrl-Shift-G)"></a>        <a action="findNext" class="ace_icon ti-arrow-down next" title="Next (Ctrl-G)"></a>        <a action="hide" class="ace_icon ti-close close" title="Close (Esc)"></a>      </div>      <div class="uk-flex">        <div class="uk-flex-item-1">          <input class="uk-input" placeholder="Find" spellcheck="false">          <span class="ace_search_counter"></span>        </div>      </div>    </div>    <div class="ace_replace_form uk-flex uk-flex-middle">      <div class="uk-flex-item-1">        <input class="uk-input" placeholder="Replace" spellcheck="false">      </div>      <div action="replaceAndFindNext" class="ace_icon replace" title="Replace"></div>      <div action="replaceAll" class="ace_icon replace-all" title="Replace All"></div>    </div></div>'.replace(/> +/g,">"),c=function(e,t,r){var i=n.createElement("div");i.innerHTML=s,this.element=i.firstChild,this.checkedClass="uk-active",this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector("input.uk-input"),this.replaceInput=this.replaceBox.querySelector("input.uk-input"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;function r(e){e.preventDefault(),e.stopPropagation();var r=(e.target||e.srcElement).getAttribute("action");r&&t[r]?t[r]():t.$searchBarKb.commands[r]&&t.$searchBarKb.commands[r].exec(t)}function n(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&t.focus()}e.addEventListener("click",(function(e){r(e),n(e)})),e.addEventListener("touchstart",r),e.addEventListener("touchend",n),a.addCommandKeyListener(e,(function(e,r,n){var i=u.keyCodeToString(n),o=t.$searchBarKb.findKeyCommand(r,i);o&&o.exec&&(o.exec(t),a.stopEvent(e))})),this.$onChange=i.delayedCall((function(){t.find(!1,!1)})),a.addListener(this.searchInput,"input",(function(){t.$onChange.schedule(20)})),a.addListener(this.searchInput,"focus",(function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()})),a.addListener(this.replaceInput,"focus",(function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()}))},this.$closeSearchBarKb=new o([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new o,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-R|Ctrl-H|Command-Option-F":function(e){e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout((function(){e.hide()}))},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){this.searchRange=e,e?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){n.setCssClass(this.replaceOption,this.checkedClass,this.searchRange),n.setCssClass(this.replaceOption,this.checkedClass,this.replaceOption.checked),n.setCssClass(this.regExpOption,this.checkedClass,this.regExpOption.checked),n.setCssClass(this.wholeWordOption,this.checkedClass,this.wholeWordOption.checked),n.setCssClass(this.caseSensitiveOption,this.checkedClass,this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,r){var i=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:r,range:this.searchRange})&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,r=0,n=0;if(t){var i=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),a=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(a-=e.session.doc.positionToIndex(this.searchRange.start));for(var o,u=t.lastIndex=0;(o=t.exec(i))&&(r++,(u=o.index)<=a&&n++,!(r>999))&&(o[0]||(t.lastIndex=u+=1,!(u>=i.length))););}this.searchCounter.textContent=n+"/"+(r>999?"999+":r)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus(),this.editor._emit("searchBoxClose")},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor._emit("searchBoxOpen"),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),t?(this.replaceInput.focus(),this.replaceInput.select()):(this.searchInput.focus(),this.searchInput.select()),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(c.prototype),t.SearchBox=c,t.Search=function(e,t){(e.searchBox||new c(e)).show(e.session.getTextRange(),t)}})),window.require(["ace/ext/searchbox"],(function(){})),m.module("assets").__new__((function(e){e.svgIcons={github:'<svg class="svg-icon" style="width:100%" viewBox="-2 0 20 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>'}})),m.module("git").def({u:function(){return window.localStorage},A:(Cb=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=JSON,e.t1=Uw,e.next=5,$w.gitConfigPathAsync();case 5:return e.t2=e.sent,e.t3={encoding:"utf8"},e.next=9,e.t1.readFile.call(e.t1,e.t2,e.t3);case 9:return e.t4=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t4));case 13:return e.prev=13,e.t5=e.catch(0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(){return Cb.apply(this,arguments)}),C:(Sb=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uw,e.next=3,$w.gitConfigPathAsync();case 3:return e.t1=e.sent,e.t2=JSON.stringify(t),e.t3={atomic:!0},e.next=8,e.t0.write.call(e.t0,e.t1,e.t2,e.t3);case 8:case"end":return e.stop()}}),e)}))),function(e){return Sb.apply(this,arguments)}),T:function(e){return(e=e.toLowerCase()).startsWith("git@")?e="https://"+e.replace("git@","").replace(":","/"):e.startsWith("ssh://git@")?e="https://"+e.replace("ssh://git@","").replace(":","/"):e.startsWith("ssh://")&&(e="https://"+e.replace("ssh://","").replace(":","/")),Fw.hasExt(e,".git")||(e.includes("github.com")||e.includes("gitlab.com")||e.includes("bitbucket.org"))&&(e+=".git"),e=e.replace(/https:\/\/([\w]+)@bitbucket.org/,"https://bitbucket.org")},_:function(e){if(!e)return e;var t=e.match(/git@([A-Za-z0-9-.]+):/);return t?"https://"+t[1]+"/":e},I:function(e){return Fw.basename(Fw.hasExt(e,".git")?e.slice(0,e.length-4):e)},j:function(e){var t=new RegExp("https?://([\\w_\\.\\-@:]+)/([\\w_\\.\\-/]+)"),r=e.match(t);return r?{host:this._(r[1]),repoName:this.I(r[2]),url:e}:null},O:(Ab=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.M(t);case 2:return r=e.sent,e.abrupt("return",!!r.username&&!!r.token);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Ab.apply(this,arguments)}),M:(xb=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.A();case 2:return r=e.sent,n=UI.defaults(r,this.u()),i=n["git.username::"+t]||n["git.username::git"]||"",a=n["git.token::"+t]||n["git.token::git"]||"",o=n["git.email::"+t]||n["git.email::git"]||"",e.abrupt("return",{username:i,token:a,email:o});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return xb.apply(this,arguments)}),L:(Rb=r(regeneratorRuntime.mark((function e(t,r,n,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.A();case 2:return a=e.sent,t?(a["git.username::"+t]=r,a["git.token::"+t]=n,a["git.email::"+t]=i):(a["git.username::git"]=r,a["git.token::git"]=n,a["git.email::git"]=i),e.next=6,this.C(a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return Rb.apply(this,arguments)})}),m.module("history").__new__((function(e){e.HistoryTracker=function(){this.reset()},e.HistoryTracker.prototype={reset:function(){this.current=null,this.undoStack=[],this.redoStack=[]},getLastRedo:function(){return this.redoStack.length?this.redoStack[this.redoStack.length-1]:null},getLastUndo:function(){return this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},truncate:function(e){this.undoStack=this.undoStack.slice(this.undoStack.length-e)},clearRedo:function(){this.redoStack.length=0},push:function(e){this.current&&this.pushUndo(this.current),this.current=e,this.clearRedo()},pushUndo:function(e){return this.undoStack.push(e)},popUndo:function(){return this.undoStack.pop()},pushRedo:function(e){return this.redoStack.push(e)},popRedo:function(){return this.redoStack.pop()},canUndo:function(){return this.undoStack.length>0},canRedo:function(){return this.redoStack.length>0},redo:function(e){var t=this.popRedo();return t&&(e?(this.current&&this.pushUndo(this.current),this.current=t):this.pushUndo(t)),t},undo:function(e){var t=this.popUndo();return t&&(e?(this.current&&this.pushRedo(this.current),this.current=t):this.pushRedo(t)),t}}})),m.module("memory").require("prompt").__init__((function(e,t){var r=t.prompt,n=window.performance&&window.performance.memory;Object.assign(e,{prompt:r,supported:!!n&&["spck.io","www.spck.io"].includes(window.location.hostname),lowOnMemory:!1,observable:new zw,memory:n||{totalJSHeapSize:1,usedJSHeapSize:-1,jsHeapSizeLimit:100},CRITICAL_USAGE_LOW_MEMORY:100,ALLOWED_LANGUAGE_SERVICE_INITIAL_FILES_LIMIT:30,ALLOWED_LANGUAGE_SERVICE_INITIAL_SIZE_LIMIT:20971520,LANGUAGE_SERVICE_FILE_SIZE_LIMIT:2097152,EDITOR_FILE_SIZE_LIMIT:5242880})})).def({D:function(){this.supported&&Ww("memory_profile","n/a","mem_used_"+this.N())},N:function(){var e=this.memory;return Math.round(100*e.usedJSHeapSize/e.totalJSHeapSize)},H:function(){if(this.supported){var e=this.N();e>=this.CRITICAL_USAGE_LOW_MEMORY&&e<100&&(this.V(),this.D())}},V:function(){this.lowOnMemory||(this.lowOnMemory=!0,this.prompt.K("Low Memory Warning","System memory is running low, language service and syntax checking will be disabled."),this.observable.run({lowOnMemory:!0}))},q:(_b=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw.size(t);case 2:return e.t0=e.sent,e.t1=this.LANGUAGE_SERVICE_FILE_SIZE_LIMIT,e.abrupt("return",e.t0<e.t1);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return _b.apply(this,arguments)}),Z:function(e){return e.length<this.LANGUAGE_SERVICE_FILE_SIZE_LIMIT},Y:(Tb=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r.externalContent){e.next=4;break}e.t0=r.externalContent.length,e.next=7;break;case 4:return e.next=6,Uw.size(t);case 6:e.t0=e.sent;case 7:return n=e.t0,e.abrupt("return",n<this.EDITOR_FILE_SIZE_LIMIT);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return Tb.apply(this,arguments)})}),m.module("remote").def({J:function(e){var t=e.url,r=e.responseType,n=e.noCache;return new Promise((function(e,i){var a=new XMLHttpRequest;a.open("get",t+(n?"?_=".concat((new Date).getTime()):""),!0),a.responseType=r,a.onload=function(){if(200===a.status)e(a.response);else if(0===a.status&&a.response)try{JSON.parse(a.response)?e(a.response):i({status:a.status,response:a.response})}catch(e){i({status:a.status,response:a.response})}else i({status:a.status,response:a.response})},a.onerror=function(e){i(e)},a.send()}))},X:function(e){var t=e.url,r=e.responseType,n=void 0===r?"text":r,i=e.noCache,a=void 0===i||i,o=e.retryCount,u=void 0===o?0:o,s=e.tries,c=void 0===s?0:s,f=this;return f.J({url:t,responseType:n}).then(null,(function(e){return c>=u?Promise.reject(e):f.X({url:t,noCache:a,responseType:n,retryCount:u,tries:c+1})}))}});var zb=new Dexie("ProjectStore");zb.version(1).stores({projects:"pid, name, hash, repo",files:"id, &path, &fid, type, hash",folders:"id, &path, hash",data:"fid",libraries:"url",sessions:"pid",meta:"key"}),zb.version(2).stores({projects:"pid",files:"id, &path, &fid",folders:"id, &path",data:"fid",libraries:"url",meta:"key"}).upgrade((function(e){return Promise.all([e.projects.filter((function(e){return!e.dir})).modify((function(e){var t=e.ref?"".concat(e.pid,":").concat(e.ref.split("/").pop()):e.pid;e.olddir=t,e.dir="".concat(t,"/").concat(e.name)})),e.folders.filter((function(e){return e.deleted})).delete(),e.files.filter((function(e){return e.deleted})).delete(),e.data.filter((function(e){return"base64"===e.encoding})).modify((function(e){e.text=Gw(wa.from(e.text,"base64")),e.encoding="binary"}))])})),zb.version(3).stores({files:"id, &path, &fid",folders:"id, &path",data:"fid",meta:"key"});var Ob="project:404",Fb="file:404",Pb="rm:500",Mb="rmdir:405",Lb="mv:403",Bb="src:404",Db="inode:404",Ub="remote:404",$b="delete:500",Nb="args:400",Gb=function(e){c(r,e);var t=b(r);function r(e){var i;return n(this,r),i=t.call(this,e.message),Object.assign(p(i),e),i}return r}(v(Error)),Wb=function(e){return"idb"===e||e.startsWith("idb/")},Hb=function(e){if(null===e)return null;var t=Yb(e),r=t.lastIndexOf(".");return-1==r?"":t.substr(r).toLowerCase()},Vb=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Kb=new Eb(800,.8),qb=function(e){var t=Kb.get(e);if(t)return t;if(e.indexOf("\0")>=0)throw new Gb({name:"InvalidArgument",src:"".concat("filesystem",":normalizePath"),message:wb.ErrorMessages.InvalidFor(wb.Objects.Path),code:Nb});if(!e)throw new Gb({name:"InvalidArgument",src:"".concat("filesystem",":normalizePath"),message:wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.Path),code:Nb});return Kb.set(e,e.split("/").filter((function(e,t){return(""!==e||0===t)&&"."!==e})).join("/"))},Zb=function(e){var t=e.lastIndexOf("/");return-1===t?".":0===t?"/":e.slice(0,t)},Yb=function(e){var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)},Jb=function(e,t){return null==e||null==t?null:e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")},Qb=console?console.warn:function(){},Xb=32768,ew=16384,tw=40960,rw=function(){function e(t){var r=t.size,i=t.mode,a=t.atimeMs,o=void 0===a?null:a,u=t.mtimeMs,s=t.ctimeMs;n(this,e);var c=Date.now();this.atimeMs="number"!=typeof o?c:o,this.mtimeMs="number"!=typeof u?c:u,this.ctimeMs="number"!=typeof s?c:s,this.size=r,this.mode=e.normalizeMode(i),this.uid=this.gid=this.ino=0}return a(e,[{key:"toBuffer",value:function(){var e=wa.alloc(32);return e.writeUInt32LE(this.size,0),e.writeUInt32LE(this.mode,4),e.writeDoubleLE(this.atimeMs,8),e.writeDoubleLE(this.mtimeMs,16),e.writeDoubleLE(this.ctimeMs,24),e}},{key:"isFile",value:function(){return(61440&this.mode)===Xb}},{key:"isDirectory",value:function(){return(61440&this.mode)===ew}},{key:"isSymbolicLink",value:function(){return(61440&this.mode)===tw}},{key:"chmod",value:function(e){return this.mode=61440&this.mode|e}},{key:"atime",get:function(){return new Date(this.atimeMs)}},{key:"mtime",get:function(){return new Date(this.mtimeMs)}},{key:"ctime",get:function(){return new Date(this.ctimeMs)}}],[{key:"normalizeMode",value:function(e){var t=e>0?e>>12:0;4!==t&&8!==t&&10!==t&&14!==t&&(t=8);var r=511&e;return r=73&r?493:420,8!==t&&(r=0),(t<<12)+r}}]),e}(),nw=window.webkit&&window.webkit.messageHandlers;if(nw&&nw.file&&nw.system){var iw=function(){function e(t){var r=t.file,i=t.system;n(this,e),this._file=r,this._system=i,this._id=1,this._callbacks={},this.isIOS=!0}var t,i,o;return a(e,[{key:"initServer",value:(o=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(this._system,"initServer");case 2:this.serverUrl=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"launchWebView",value:function(e){this._system.postMessage({method:"launchWebView",url:e})}},{key:"setConsole",value:function(e){this._system.postMessage({method:"setConsole",value:e})}},{key:"getConsole",value:function(){return this.call(this._system,"getConsole")}},{key:"copyText",value:function(e){this._system.postMessage({method:"copyText",value:e})}},{key:"appVersion",value:function(){return this.call(this._system,"appVersion")}},{key:"isTablet",value:function(){return this.call(this._system,"isTablet")}},{key:"versionName",value:function(){return this.call(this._system,"versionName")}},{key:"clipboardText",value:(i=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(this._system,"clipboardText");case 2:return t=e.sent,r=t.contents,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getUrlFor",value:function(e){return Fw.join(this.serverUrl,this._path(e))}},{key:"getFileContent",value:(t=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Iw,e.next=3,this.call(this._file,"getFileContent");case 3:return e.t1=e.sent,e.next=6,e.t0.promisifyStatus.call(e.t0,e.t1);case 6:return t=e.sent,r=t.contents,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"writeExternal",value:function(e,t,r){return this.call(this._file,"writeExternal",{path:e,contents:t,base64:r})}},{key:"getDirectory",value:function(){return"/documents/"}},{key:"_path",value:function(e){return e.slice(11)}},{key:"mkdirp",value:function(e){return this.call(this._file,"mkdirp",{path:this._path(e)})}},{key:"exists",value:function(e){return this.call(this._file,"exists",{path:this._path(e)})}},{key:"readFile",value:function(e,t){return this.call(this._file,"readFile",{path:this._path(e),encoding:t})}},{key:"remove",value:function(e){return this.call(this._file,"remove",{path:this._path(e)})}},{key:"readlink",value:function(e){return this.call(this._file,"readlink",{path:this._path(e)})}},{key:"writelink",value:function(e,t){return this.call(this._file,"writelink",{path:this._path(e),target:t})}},{key:"write",value:function(e,t,r){return this.call(this._file,"write",{path:this._path(e),contents:t,base64:r})}},{key:"readdir",value:function(e,t,r){return this.call(this._file,"readdir",{path:this._path(e),skipFiles:t,skipFolders:r})}},{key:"readdirDeep",value:function(e,t,r){return this.call(this._file,"readdirDeep",{path:this._path(e),files:t,folders:r})}},{key:"lstat",value:function(e){return this.call(this._file,"lstat",{path:this._path(e)})}},{key:"mv",value:function(e,t){return this.call(this._file,"mv",{src:this._path(e),target:this._path(t)})}},{key:"saveBase64",value:function(e,t){return this.call(this._file,"saveBase64",{contents:e,name:t})}},{key:"call",value:function(e,t,r){var n=this;r=r||{};var i=this._id++;return e.postMessage(Object.assign({method:t,id:i},r)),new Promise((function(e,t){n._callbacks[i]={resolve:e,reject:t}}))}},{key:"send",value:function(e,t){var r=this._callbacks[e];r&&(delete this._callbacks[e],r.resolve(t))}},{key:"sendError",value:function(e,t){var r=this._callbacks[e];r&&(r.reject(t),delete this._callbacks[e])}}]),e}();window.Android=window.IOSBridge=new iw(nw)}var aw,ow,uw,sw,cw,fw,lw,hw,dw,mw,vw,pw,gw,bw,ww,kw,yw,Rw,xw,Aw,Sw,Cw,Tw,_w,Ew=new(function(){function e(t){n(this,e),this._device=t,this._appVersion=null,this._chromeVersion=null,this._copiedText=null,this._isTablet=null,this._theme=null}var t,i,o,u,s,c,f,l,h,d,m;return a(e,[{key:"isTablet",value:(m=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._isTablet){e.next=4;break}return e.abrupt("return",this._isTablet);case 4:if(!(t=this._device)||!t.isTablet){e.next=11;break}return e.next=8,t.isTablet();case 8:return e.abrupt("return",this._isTablet=e.sent);case 11:return e.abrupt("return",UIkit2.support.touch&&window.innerWidth>1023);case 12:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"showToast",value:function(e,t){var r=this._device;r&&r.showToast?r.showToast(e,"long"):((t=t||{}).timeout=3500,UI.message(e,t))}},{key:"setTheme",value:function(e){var t=this._device;this._theme=e,t&&t.setTheme&&t.setTheme(e)}},{key:"initServer",value:(d=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._device)||!t.initServer){e.next=4;break}return e.next=4,t.initServer();case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"launchWebView",value:(h=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._device)||!r.launchWebView){e.next=9;break}if(!r.initServer){e.next=5;break}return e.next=5,r.initServer();case 5:return r.launchWebView($w.resource(t)),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"resourceUrl",value:function(e){var t=this._device;return t?t.getUrlFor?t.getUrlFor(e):Jb(t.getDirectory(),e):null}},{key:"saveBase64",value:(l=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._device)||!n.saveBase64){e.next=5;break}return e.abrupt("return",n.saveBase64(wa.from(r).toString("base64"),t));case 5:return e.abrupt("return",saveAs(new Blob([r]),t));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"appVersion",value:(f=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._appVersion){e.next=4;break}return e.abrupt("return",this._appVersion);case 4:if(!(t=this._device)||!t.appVersion){e.next=11;break}return e.next=8,t.appVersion();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:return e.abrupt("return",this._appVersion=e.t0);case 13:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"versionName",value:(c=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._device,e.abrupt("return",t&&t.versionName?t.versionName():null);case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"switchKeyboardIME",value:function(){var e=this._device;e&&e.switchKeyboardIME&&e.switchKeyboardIME()}},{key:"setConsoleMode",value:function(e){var t=this._device;t&&t.setConsoleMode&&t.setConsoleMode(e)}},{key:"setConsole",value:function(e){var t=this._device;t&&t.setConsole&&t.setConsole(e)}},{key:"getConsole",value:(s=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._device)||!t.getConsole){e.next=3;break}return e.abrupt("return",t.getConsole());case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"setOrientation",value:function(e){var t=this._device;t&&t.setOrientation&&t.setOrientation(e)}},{key:"getOrientation",value:(u=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._device,e.abrupt("return",t&&t.getOrientation?t.getOrientation():null);case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"copyText",value:(o=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._copiedText=t,!(r=this._device)||!r.copyText){e.next=5;break}return e.next=5,r.copyText(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"clipboardText",value:(i=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._device,e.abrupt("return",t&&t.clipboardText?t.clipboardText():this._copiedText);case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getFileContent",value:(t=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._device,e.abrupt("return",t&&t.getFileContent?t.getFileContent():null);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"chromeVersion",get:function(){if(null!==this._chromeVersion)return this._chromeVersion;var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return this._chromeVersion=e?parseInt(e[2],10):0}},{key:"supported",get:function(){return this._device&&this._device.appVersion}},{key:"device",get:function(){return this._device}},{key:"isIOS",get:function(){return!(!this._device||!this._device.isIOS)}},{key:"theme",get:function(){return this._theme}},{key:"orientationSupported",get:function(){return!(!this._device||!this._device.setOrientation)}},{key:"consoleSupported",get:function(){return!(!this._device||!this._device.setConsole)}},{key:"IMESupported",get:function(){return!(!this._device||!this._device.switchKeyboardIME)}},{key:"consoleModeSupported",get:function(){return!(!this._device||!this._device.setConsoleMode)}}]),e}())(window.Android),Iw=function(){function e(t){n(this,e),this.device=t,this._legacy=null,this._supported=!!t&&!!(t.getDirectory&&t.mkdirp&&t.exists&&t.readFile&&t.remove&&t.readlink&&t.writelink&&t.write&&t.readdir&&t.readdirDeep&&t.lstat&&t.mv),this._supported||Qb("DeviceFileSystem is not operational: interface missing")}var t,i,o,u,s,c,f,l,h,d,m,v,p,g;return a(e,[{key:"isLegacy",value:(g=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._legacy){e.next=8;break}if(e.t0=this.device.appVersion,!e.t0){e.next=7;break}return e.next=5,this.device.appVersion();case 5:e.t1=e.sent,e.t0=e.t1<=33;case 7:this._legacy=e.t0;case 8:return e.abrupt("return",this._legacy);case 9:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getDirectoryAsync",value:(p=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._directory,e.t0){e.next=5;break}return e.next=4,this.device.getDirectory();case 4:e.t0=this._directory=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"readFile",value:(v=r(regeneratorRuntime.mark((function t(r,n){var i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,this.device.readFile(r,n);case 3:return t.t1=t.sent,t.next=6,t.t0.promisifyStatus.call(t.t0,t.t1);case 6:if(i=t.sent,a=i.contents,"utf8"!==n&&"base64"!==n){t.next=12;break}return t.abrupt("return",a);case 12:return t.abrupt("return",wa.from(a,"base64"));case 13:case"end":return t.stop()}}),t,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"remove",value:function(){var t=r(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r!==this._directory){t.next=4;break}throw new Gb({name:"CriticalDeletionError",src:"".concat(this.constructor.name,":remove"),message:"Critical deletion error.",code:$b});case 4:return t.t0=e,t.next=7,this.device.remove(r);case 7:return t.t1=t.sent,t.abrupt("return",t.t0.promisifyStatus.call(t.t0,t.t1));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"readlink",value:(m=r(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,this.device.readlink(r);case 3:return t.t1=t.sent,t.next=6,t.t0.promisifyStatus.call(t.t0,t.t1);case 6:return n=t.sent,i=n.contents,t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)}))),function(e){return m.apply(this,arguments)})},{key:"writelink",value:(d=r(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,this.device.writelink(r,n);case 4:return t.t1=t.sent,t.next=7,t.t0.promisifyStatus.call(t.t0,t.t1);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t2=t.catch(0),new Gb({name:yb({en:"Security Error",es:"Error de seguridad",ja:"セキュリティエラー",pt:"Erro de segurança",ru:"Ошибка безопасности",zh:"安全错误",zhTW:"安全錯誤"}),message:yb({en:"[".concat(r,"] is a symlink to [").concat(n,"]. Symbolic links are not allowed on your system for security reasons!"),es:"[".concat(r,"] es un enlace simbólico a [").concat(n,"]. ¡No se permiten enlaces simbólicos en su sistema por razones de seguridad!"),ja:"[".concat(r,"] は [").concat(n,"] へのシンボリックリンクです。セキュリティ上の理由から、システムではシンボリックリンクは許可されていません。"),pt:"[".concat(r,"] é um link simbólico para [").concat(n,"]. Links simbólicos não são permitidos no seu sistema por razões de segurança!"),ru:"[".concat(r,"] является символической ссылкой на [").concat(n,"]. В целях безопасности символические ссылки в вашей системе запрещены!"),zh:"[".concat(r,"] 是指向 [").concat(n,"] 的符号链接。出于安全原因，系统上不允许使用符号链接！"),zhTW:"[".concat(r,"] 是指向 [").concat(n,"] 的符號鏈接。出於安全原因，系統上不允許使用符號鏈接！")})});case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(e,t){return d.apply(this,arguments)})},{key:"write",value:(h=r(regeneratorRuntime.mark((function t(r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,this.device.write(r,n,!!i);case 3:return t.t1=t.sent,t.abrupt("return",t.t0.promisifyStatus.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"exists",value:(l=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.device.exists(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"mkdirp",value:(f=r(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,this.device.mkdirp(r);case 3:return t.t1=t.sent,t.next=6,t.t0.promisifyStatus.call(t.t0,t.t1);case 6:return n=t.sent,i=n.contents,t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)}))),function(e){return f.apply(this,arguments)})},{key:"readdir",value:(c=r(regeneratorRuntime.mark((function t(r,n,i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,this.isLegacy();case 4:if(!t.sent){t.next=10;break}return t.next=7,this.device.readdir(r);case 7:t.t2=t.sent,t.next=13;break;case 10:return t.next=12,this.device.readdir(r,n,i);case 12:t.t2=t.sent;case 13:if(t.t1=t.t2,t.t1){t.next=16;break}t.t1=null;case 16:return t.t3=t.t1,t.next=19,t.t0.promisifyStatus.call(t.t0,t.t3);case 19:return a=t.sent,t.abrupt("return",a);case 23:return t.prev=23,t.t4=t.catch(0),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,this,[[0,23]])}))),function(e,t,r){return c.apply(this,arguments)})},{key:"readdirDeep",value:(s=r(regeneratorRuntime.mark((function t(r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,this.device.readdirDeep(r,n,i);case 4:return t.t1=t.sent,t.abrupt("return",t.t0.promisifyStatus.call(t.t0,t.t1));case 8:return t.prev=8,t.t2=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(e,t,r){return s.apply(this,arguments)})},{key:"lstat",value:(u=r(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=rw,t.t1=e,t.t2=e,t.next=6,this.device.lstat(r);case 6:return t.t3=t.sent,t.next=9,t.t2.promisifyStatus.call(t.t2,t.t3);case 9:return t.t4=t.sent,t.t5=t.t1.normalizeStats.call(t.t1,t.t4),t.abrupt("return",new t.t0(t.t5));case 14:return t.prev=14,t.t6=t.catch(0),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,this,[[0,14]])}))),function(e){return u.apply(this,arguments)})},{key:"mv",value:(o=r(regeneratorRuntime.mark((function t(r,n){var i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,this.device.mv(r,n);case 3:return t.t1=t.sent,t.next=6,t.t0.promisifyStatus.call(t.t0,t.t1);case 6:return i=t.sent,a=i.contents,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"writeExternal",value:(i=r(regeneratorRuntime.mark((function t(r,n,i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=this.device)||!a.writeExternal){t.next=7;break}return t.t0=e,t.next=5,a.writeExternal(r,n,!!i);case 5:return t.t1=t.sent,t.abrupt("return",t.t0.promisifyStatus.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:"supported",get:function(){return this._supported}}],[{key:"promisifyStatus",value:(t=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="{}"===e.t0?3:"[]"===e.t0?4:5;break;case 3:return e.abrupt("return",{});case 4:return e.abrupt("return",[]);case 5:if(!(r=Nw(t))||!r.status){e.next=10;break}throw new Gb(r);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"normalizeStats",value:function(e){var t=e.st_mtime||e.mtimeMs,r=e.st_ctime||e.ctimeMs,n=e.st_atime||e.atimeMs;return Object.assign(e,{mtimeMs:1e3*t,ctimeMs:1e3*r,atimeMs:1e3*n}),e}}]),e}(),jw=function(){function e(){n(this,e),this._subscriptions=[]}return a(e,[{key:"run",value:function(e){return Promise.all(this._subscriptions.map((function(t){return t(e)})))}},{key:"subscribe",value:function(e){var t=this;return this._subscriptions.push(e),{unsubscribe:function(){var r=t._subscriptions;r.includes(e)&&r.splice(r.indexOf(e),1)}}}}]),e}(),zw=jw,Ow=new Iw(window.Android),Fw={uuid4:Vb,isIDB:Wb,ext:Hb,hasExt:function(e,t){return e&&Hb(e)===t},dirname:Zb,basename:Yb,join:Jb,relativeTo:function(e,t){return t?e.slice(t.length+(t.endsWith("/")?0:1)):e},childOf:function(e,t){return!!e&&(e=qb(e),t=qb(t),e.startsWith(t+"/")||e===t)},normalizePath:qb},Pw=33188,Mw=16384,Lw=40960,Bw=function(){function e(t){n(this,e),this._store=zb,this._inodes=new Eb(9e3,0),this._fs=t,this.observable=new jw;var r=Object.create(null);this._scheduleCache=r,this.write=jb(this._write,(function(e){return e}),r),this.writelink=jb(this._writelink,(function(e){return e}),r),this.mv=jb(this._mv,(function(e){return e}),r),this.rm=jb(this._rm,(function(e){return e}),r),this.rmdir=jb(this._rmdir,(function(e){return e}),r)}var t,i,o,u,s,c,f,l,h,d,m,v,p,g,b,w,y,R,x,A;return a(e,[{key:"writeExternal",value:(A=r(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._fs,e.t0=i.supported,!e.t0){e.next=6;break}return e.next=5,i.writeExternal(t,r,n);case 5:e.t0=e.sent;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return A.apply(this,arguments)})},{key:"isBinaryContent",value:function(e){return wa.from(e.slice(0,8e3)).some((function(e){return 0===e}))}},{key:"inode",value:(x=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._inodes,e.abrupt("return",!r&&n.get(t)||n.set(t,Vb()));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"inodePath",value:(R=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._inodes.find(t))){e.next=5;break}return e.abrupt("return",r);case 5:throw new Gb({src:"".concat(this.constructor.name,":inodePath"),message:"Could not find inode.",inode:t,code:Db});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"inodePathSync",value:function(e){return this._inodes.find(e)}},{key:"exists",value:(y=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qb(t),r=this._store,!(n=this._fs).supported||Wb(t)){e.next=8;break}return e.next=5,n.exists(t);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,r.files.get({path:t});case 10:if(e.t0=!!e.sent,e.t0){e.next=15;break}return e.next=14,r.folders.get({path:t});case 14:e.t0=!!e.sent;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"lookupFolder",value:(w=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._store,e.next=3,r.folders.get({path:t});case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",n);case 8:return e.next=10,this.readlink(t);case 10:if(!(i=e.sent)||i===t){e.next=17;break}return e.next=14,this.lookupFolder(i);case 14:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"lookupFile",value:(b=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._store.files.get({path:t});case 2:if(!(r=e.sent)){e.next=13;break}if(!r.target||r.target===t){e.next=10;break}return e.next=7,this.lookupFile(r.target);case 7:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",r);case 11:e.next=14;break;case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"_mv",value:(g=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>2&&void 0!==h[2]?h[2]:{updateStatus:!1,atomic:!1},i=this._store,a=this._inodes,o=this._fs,t=qb(t),r=qb(r),t!==r){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,this.exists(r);case 10:if(!e.sent){e.next=12;break}throw new Gb({name:"DestinationExists",src:"".concat(this.constructor.name,":mv"),message:wb.ErrorMessages.ExistsFor(wb.Objects.TargetPath),path:r,code:Lb});case 12:if(!o.supported||Wb(t)){e.next=18;break}return e.next=15,o.mv(t,r);case 15:u=e.sent,e.next=46;break;case 18:return e.next=20,this.lookupFile(t);case 20:if(!(s=e.sent)){e.next=29;break}return e.next=24,this.mkdir(Zb(r));case 24:return e.next=26,i.files.update(s.id,{path:r,mtimeMs:Date.now()});case 26:u="file",e.next=46;break;case 29:return e.next=31,this.lookupFolder(t);case 31:if(!(c=e.sent)){e.next=45;break}return e.next=35,this.mkdir(Zb(r));case 35:return f=Date.now(),e.next=38,i.files.where("path").startsWith(t+"/").modify((function(e){e.path=r+e.path.slice(t.length),e.mtimeMs=f}));case 38:return e.next=40,i.folders.where("path").startsWith(t+"/").modify((function(e){e.path=r+e.path.slice(t.length),e.mtimeMs=f}));case 40:return e.next=42,i.folders.update(c.id,{path:r,mtimeMs:f});case 42:u="folder",e.next=46;break;case 45:throw new Gb({name:"SourceNotFound",src:"".concat(this.constructor.name,":mv"),message:wb.ErrorMessages.NotExistsFor(wb.Objects.SourcePath),oldpath:t,code:Bb});case 46:if(l=n.updateStatus,n.atomic){e.next=51;break}return"file"===u?a.rename(t,r):"folder"===u&&a.keys.filter((function(e){return e.startsWith(t+"/")})).forEach((function(e){return a.rename(e,e.replace(t,r))})),e.next=51,this.observable.run({action:"mv",updateStatus:l,oldpath:t,path:r,type:u});case 51:return e.abrupt("return",{oldpath:t,path:r,type:u});case 52:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"read",value:(p=r(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",this.readFile(t,r).catch((function(){return null})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"readFile",value:(v=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:{},t=qb(t),n=this._fs,i=this._store,a=r.encoding,!n.supported||Wb(t)){e.next=8;break}return e.abrupt("return",n.readFile(t,a));case 8:return e.next=10,this.lookupFile(t);case 10:if(!(o=e.sent)){e.next=40;break}return e.next=14,i.data.get(o.fid);case 14:if(u=e.sent,s=u&&u.text||"",!(c=u&&u.encoding||"")){e.next=29;break}if("utf8"!==a||"utf8"!==c){e.next=22;break}return e.abrupt("return",s);case 22:if(a){e.next=26;break}return e.abrupt("return",wa.from(s,c));case 26:return e.abrupt("return",wa.from(s,c).toString(a));case 27:e.next=38;break;case 29:if("utf8"!==a){e.next=33;break}return e.abrupt("return",s);case 33:if(!a){e.next=37;break}return e.abrupt("return",wa.from(s).toString(a));case 37:return e.abrupt("return",wa.from(s));case 38:e.next=41;break;case 40:throw new Gb({name:"FileNotFound",src:"".concat(this.constructor.name,":read"),message:wb.ErrorMessages.NotExistsFor(wb.Objects.File),path:t,code:Fb});case 41:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"mkdir",value:(m=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u=this,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:{atomic:!1},t=qb(t),n=this._fs,i=this._store,a=t.split("/").map((function(e,t,r){return r.slice(0,t+1).join("/")})),!n.supported||Wb(t)){e.next=10;break}return e.next=7,n.mkdirp(t);case 7:o=e.sent,e.next=13;break;case 10:return e.next=12,i.folders.where("path").anyOf(a).keys((function(e){var t=a.filter((function(t){return!e.includes(t)}));return t.length>0&&u._mkdirs(t)}));case 12:o=e.sent;case 13:if(!o||r.atomic){e.next=16;break}return e.next=16,this.observable.run({action:"mkdir",path:t,type:"folder"});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"_write",value:(d=r(regeneratorRuntime.mark((function t(r,n,i){var a,o,u,s,c,f,l,h,d,m,v,p,g,b,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=qb(r),n=n||"",o=(a=i||{}).mode,u=a.target,s=a.updateStatus,c=a.atomic,f=this._fs,l=this._store,t.next=6,this.mkdir(Zb(r),{atomic:c});case 6:if(h=e.isArrayBuffer(n),!f.supported||Wb(r)){t.next=16;break}return t.next=10,f.write(r,h?wa.from(n).toString("base64"):n,h);case 10:v=t.sent,d=v.mtimeMs,m=v.size,o=v.mode,t.next=28;break;case 16:return t.next=18,this.lookupFile(r);case 18:return p=t.sent,g=h?Gw(n):n,m=g.byteLength||g.length,d=Date.now(),b=p?p.ctimeMs:d,w=p?p.id:Vb(),t.next=26,l.files.put({id:w,fid:w,path:r,target:u,mode:o,size:m,ctimeMs:b,mtimeMs:d});case 26:return t.next=28,l.data.put({fid:w,text:g,encoding:h?"binary":"utf8"});case 28:if(c){t.next=31;break}return t.next=31,this.observable.run({action:"write",path:r,type:"file",updateStatus:s});case 31:return t.abrupt("return",{mode:o,mtimeMs:d,type:"file",ino:0,size:m});case 32:case"end":return t.stop()}}),t,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"_rm",value:(h=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:{},n=r.tmpDir,i=r.updateStatus,a=r.atomic,t=qb(t),o=this._fs,u=this._store,s=this._inodes,c=!1,!n){e.next=9;break}return e.abrupt("return",this._mv(t,"".concat(n).concat(t,"~").concat(Vb()),{updateStatus:i}));case 9:return e.next=11,this.lstat(t);case 11:if(!(f=e.sent)){e.next=32;break}if(!f.isDirectory()){e.next=17;break}return e.abrupt("return",this._rmdir(t,{updateStatus:i}));case 17:if(!o.supported||Wb(t)){e.next=23;break}return e.next=20,o.remove(t);case 20:c=e.sent,e.next=30;break;case 23:return e.next=25,u.files.get({path:t});case 25:if(!(l=e.sent)){e.next=30;break}return e.next=29,Promise.all([u.files.delete(l.id),u.data.delete(l.fid)]);case 29:c=!0;case 30:e.next=33;break;case 32:c=!0;case 33:if(!c){e.next=54;break}if(h="file",!a){e.next=37;break}return e.abrupt("return",{oldpath:t,path:null,type:h});case 37:if(s.del(t),d=Zb(t),e.t0="."===d||""===d,e.t0){e.next=45;break}return e.next=43,this.fileCount(d);case 43:e.t1=e.sent,e.t0=e.t1>0;case 45:if(!e.t0){e.next=51;break}return e.next=48,this.observable.run({action:"rm",updateStatus:i,oldpath:t,path:null,type:h});case 48:return e.abrupt("return",{oldpath:t,path:null,type:h});case 51:return e.abrupt("return",this._rmdir(d));case 52:e.next=55;break;case 54:throw new Gb({name:"RemoveFailed",src:"".concat(this.constructor.name,":rm"),message:"Could not remove ".concat(t,"."),path:t,code:Pb});case 55:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"_rmdir",value:(l=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},n=r.tmpDir,i=r.updateStatus,t=qb(t),a=this._inodes,o=this._fs,u=this._store,s=t+"/",a.keys.filter((function(e){return e.startsWith(s)})).forEach((function(e){return a.del(e)})),!n){e.next=10;break}return e.abrupt("return",this._mv(t,n+t,{updateStatus:i}));case 10:return e.next=12,this.lstat(t);case 12:if(c=e.sent,f=!1,!c){e.next=30;break}if(!c.isDirectory()){e.next=27;break}if(!o.supported||Wb(t)){e.next=22;break}return e.next=19,o.remove(t);case 19:f=e.sent,e.next=25;break;case 22:return e.next=24,Promise.all([u.folders.where("path").equals(t).delete(),u.files.where("path").startsWith(s).delete(),u.folders.where("path").startsWith(s).delete()]);case 24:f=!0;case 25:e.next=28;break;case 27:throw new Gb({name:"NotADirectory",src:"".concat(this.constructor.name,":rmdir"),message:"".concat(t," is not a directory."),path:t,stats:c,code:Mb});case 28:e.next=31;break;case 30:f=!0;case 31:if(!f){e.next=49;break}if(l="folder",h=Zb(t),e.t0="."===h||""===h,e.t0){e.next=40;break}return e.next=38,this.fileCount(h);case 38:e.t1=e.sent,e.t0=e.t1>0;case 40:if(!e.t0){e.next=46;break}return e.next=43,this.observable.run({action:"rmdir",updateStatus:i,oldpath:t,path:null,type:l});case 43:return e.abrupt("return",{oldpath:t,path:null,type:l});case 46:return e.abrupt("return",this._rmdir(h));case 47:e.next=50;break;case 49:throw new Gb({name:"RemoveFailed",src:"".concat(this.constructor.name,":rmdir"),message:"Could not remove ".concat(t,"."),path:t,code:Pb});case 50:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"fileCount",value:(f=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readdirDeep(t,{files:!0});case 2:return r=e.sent,e.abrupt("return",r?r.length:null);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"readdir",value:(c=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l,h,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=r||{}).skipFiles,a=void 0!==i&&i,o=n.skipFolders,u=void 0!==o&&o,t=qb(t),s=this._fs,c=this._store,!s.supported||Wb(t)){e.next=9;break}return e.next=6,s.readdir(t,a,u);case 6:return(f=e.sent)&&f.sort(Dw.compareStrings),e.abrupt("return",f);case 9:return e.next=11,this.lookupFolder(t);case 11:if(!(l=e.sent)){e.next=28;break}return h=l.path+"/",d=h.length,m=u?[]:c.folders.where("path").startsWith(h).filter((function(e){return!e.path.slice(d).includes("/")})).keys(),v=a?[]:c.files.where("path").startsWith(h).filter((function(e){return!e.path.slice(d).includes("/")})).keys(),e.next=19,m;case 19:return e.t0=e.sent,e.next=22,v;case 22:return e.t1=e.sent,(f=e.t0.concat.call(e.t0,e.t1).map((function(e){return e.slice(d)}))).sort(Dw.compareStrings),e.abrupt("return",f);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"readdirDeep",value:(s=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l,h,d,m,v,p,g,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=r||{}).files,a=void 0===i||i,o=n.folders,u=void 0!==o&&o,s=n.relative,c=void 0!==s&&s,f=this._store,l=this._fs,t=qb(t),d=(h=t+"/").length,!l.supported||Wb(t)){e.next=11;break}return e.next=8,l.readdirDeep(t,a,u);case 8:m=e.sent,e.next=18;break;case 11:return e.next=13,Promise.all([a?f.files.where("path").startsWith(h).keys():[],u?f.folders.where("path").startsWith(h).keys():[]]);case 13:v=e.sent,p=k(v,2),g=p[0],b=p[1],m=b.concat(g);case 18:return m&&(m.sort(Dw.compareStrings),c&&(m=m.map((function(e){return e.slice(d)})))),e.abrupt("return",m);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"lstat",value:(u=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qb(t),r=this._store,!(n=this._fs).supported||Wb(t)){e.next=8;break}return e.next=5,n.lstat(t);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,r.files.get({path:t});case 10:if(!(i=e.sent)){e.next=19;break}if(!i.target){e.next=16;break}return e.abrupt("return",new rw({size:i.size||0,mode:Lw,mtimeMs:i.mtimeMs,ctimeMs:i.ctimeMs}));case 16:return e.abrupt("return",new rw({size:i.size||0,mode:Pw,mtimeMs:i.mtimeMs,ctimeMs:i.ctimeMs}));case 17:e.next=27;break;case 19:return e.next=21,r.folders.get({path:t});case 21:if(!(a=e.sent)){e.next=26;break}return e.abrupt("return",new rw({size:0,mode:Mw,mtimeMs:a.mtimeMs,ctimeMs:a.ctimeMs}));case 26:return e.abrupt("return",null);case 27:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"size",value:(o=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lstat(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={size:0};case 5:return e.abrupt("return",e.t0.size);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"readlink",value:(i=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qb(t),r=this._fs,n=this._store,!r.supported||Wb(t)){e.next=4;break}return e.abrupt("return",r.readlink(t));case 4:return e.next=6,n.files.get({path:t});case 6:return i=e.sent,e.abrupt("return",i&&i.target||null);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_writelink",value:(t=r(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qb(t),n=this._fs,i=r.toString("utf8"),!n.supported||Wb(t)){e.next=9;break}return e.next=6,this.mkdir(Zb(t));case 6:return e.abrupt("return",n.writelink(t,i));case 9:return e.abrupt("return",this._write(t,"",{target:i,mode:Lw}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_mkdirs",value:function(e){var t=Date.now();return this._store.folders.bulkAdd(e.map((function(e){return{id:Vb(),path:e,mtimeMs:t,ctimeMs:t}})))}}],[{key:"compareStrings",value:function(e,t){return-(e<t)||+(e>t)}},{key:"isArrayBuffer",value:function(e){return e instanceof ArrayBuffer||e&&e.buffer instanceof ArrayBuffer&&void 0!==e.byteLength}}]),e}(),Dw=Bw,Uw=new Bw(Ow),$w=new(function(){function e(t,r){n(this,e),this._fs=t,this._ds=r,this._systemDir=void 0,this.locale="en"}var t,i,o,u,s,c,f,l,h;return a(e,[{key:"resource",value:function(e){return e?Wb(e)?Jb("/run",e):this._ds.resourceUrl(e)||Jb("/run",e):e}},{key:"projectConfigPathAsync",value:(h=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.filesDirAsync(".projects"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"gitConfigPathAsync",value:(l=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.filesDirAsync(".gitconfig"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"settingsConfigPathAsync",value:(f=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.filesDirAsync(".settings"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"metadataDirAsync",value:(c=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.filesDirAsync();case 2:return r=e.sent,e.abrupt("return","".concat(r,".metadata/").concat((t||"").replace(r,"")));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"trashDirAsync",value:(s=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.filesDirAsync();case 2:return r=e.sent,e.abrupt("return","".concat(r,".trash/").concat((t||"").replace(r,"")));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"tmpDirAsync",value:(u=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.filesDirAsync();case 2:return r=e.sent,e.abrupt("return","".concat(r,".tmp/").concat((t||"").replace(r,"")));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"filesDirAsync",value:(o=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.systemDirAsync();case 2:return r=e.sent,e.abrupt("return","".concat(r||"idb/").concat(t||""));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"systemDirAsync",value:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this._systemDir){e.next=11;break}if(!this._fs.supported){e.next=7;break}return e.next=4,this.resolveDir();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:return e.abrupt("return",this._systemDir=e.t0);case 11:return e.abrupt("return",this._systemDir);case 12:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"sleep",value:function(){var e=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resolveDir",value:(t=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<10)){e.next=16;break}return e.prev=2,e.next=5,this._fs.getDirectoryAsync();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),$LOG.warn("Attempting establishing JavaScript bridge (".concat(t,"/10)")),e.next=13,this.sleep(150);case 13:t++,e.next=1;break;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return t.apply(this,arguments)})}]),e}())(Ow,Ew);function Nw(e){try{return JSON.parse(e)||null}catch(e){return null}}function Gw(t){if(t instanceof ArrayBuffer)return t;if(t instanceof Uint8Array)return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(to(t))return t.buffer;throw new Error("Argument type not recognized: "+e(t))}function Ww(e,t,r,n){try{window.gtag&&t&&e&&window.navigator&&navigator.onLine&&window.gtag("event",e,{event_category:t,event_label:r,value:n})}catch(e){}}function Hw(e,t){try{window.gtag&&window.navigator&&navigator.onLine&&window.gtag("event","exception",{description:e,fatal:!!t})}catch(e){}}function Vw(e,t,r,n){return function(i){return Ww(e+"_s",t,r,n),i}}function Kw(e,t){return function(r){try{if(r){var n="".concat(window.$version,"_").concat(e,"_").concat("string"==typeof r.message?r.message:r);Ww(e+"_f",t+"_f",n),Hw(r.message)}}catch(e){}return Promise.reject(r)}}window.GitStatusTypes={EMPTY:0,SAME:1,IGNORED:2,ADDED:4,CHANGED:8,CONFLICT:16,DELETED:32,STAGED:64},m.module("metadata").require("session","gitClient","path","set").__init__((function(e,t){var r=t.session,n=t.gitClient,i=t.path,a=t.set;Object.assign(e,{gitClient:n,session:r,path:i,set:a,observable:new zw,_cache:{}}),r.observable.subscribe(e.ee.bind(e)),Uw.observable.subscribe(e.te.bind(e))})).def({ee:(lw=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.action,n=t.projectDir,i=this,e.t0=r,e.next="syncGit"===e.t0?5:10;break;case 5:return i.ne(),e.next=8,i.ie(n);case 8:return e.next=10,i.ae(n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return lw.apply(this,arguments)}),oe:(fw=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this).ne(),!(t&&t.git&&t.dir)){e.next=14;break}return e.next=5,r.ue();case 5:if(!e.sent){e.next=10;break}return e.next=8,r.se();case 8:e.next=14;break;case 10:return e.next=12,r.ie(t.dir);case 12:return e.next=14,r.ae(t.dir);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return fw.apply(this,arguments)}),te:function(e){var t=e.action,r=e.oldpath,n=e.path,i=e.type;if(e.updateStatus&&n){var a=this.session.ce();if(a&&a.dir&&a.git&&!this.path.fe(n)){var o=a.dir;return Promise.all([Fw.childOf(n,o)&&this.le(t,i,n,o),Fw.childOf(r,o)&&this.le(t,i,r,o)])}}},le:function(e,t,r,n){switch(e){case"write":return this.he(r,n);case"mv":if(r===n)break;case"rm":case"rmdir":if("folder"===t)return this.ie(r);if("file"===t)return this.he(r,n)}},ie:(cw=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,t){e.next=3;break}return e.abrupt("return");case 3:return n=r.session.me(),e.next=6,Promise.all([r.gitClient.ve(n).then((function(e){return e.map((function(e){return"".concat(n,"/").concat(e)}))})),r.pe().map((function(e){return e.path})),Uw.readdirDeep(t)]);case 6:return i=e.sent,a=k(i,3),o=a[0],u=a[1],s=a[2],c=t+"/",f=r.set.ge(t===n?o:o.filter((function(e){return e.startsWith(c)})),t===n?u:u.filter((function(e){return e.startsWith(c)})),s).filter((function(e){return!r.path.fe(e)})),e.abrupt("return",Promise.all(f.map((function(e){return r.he(e,n)}))));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return cw.apply(this,arguments)}),he:(sw=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=this).be(t),a=i.mtimeMs,o=i.status,s=a=a||0,u=0===a){e.next=10;break}return e.next=8,Uw.lstat(t);case 8:(c=e.sent)?(s=c.mtimeMs,u=s>a):u=!0;case 10:if(!u){e.next=18;break}return f=Fw.relativeTo(t,r),e.next=14,n.gitClient.we(r,f);case 14:l=e.sent,$LOG.log("[git:status] ".concat(l,": ").concat(f)),o=n.ke(l),n.ye(t,{status:o,mtimeMs:s});case 18:return e.next=20,n.observable.run({action:"updateStatus",path:t,status:o});case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return sw.apply(this,arguments)}),ne:function(){this._cache={},$LOG.log("[metadata] clear cache")},be:function(e){return this._cache[e]||{mtimeMs:0}},ye:function(e,t){var r=this._cache[e]=this._cache[e]||{};return Object.assign(r,t),r},ue:(uw=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uw,e.next=3,$w.metadataDirAsync(this.session.me());case 3:return e.t1=e.sent,e.abrupt("return",e.t0.exists.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return uw.apply(this,arguments)}),se:(ow=r(regeneratorRuntime.mark((function e(){var t,r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=this).session.me(),e.next=4,$w.metadataDirAsync(r);case 4:return n=e.sent,e.next=7,Uw.readFile(n,{encoding:"utf8"});case 7:return i=e.sent,t._cache=Nw(i)||{},e.abrupt("return",t.ie(r));case 10:case"end":return e.stop()}}),e,this)}))),function(){return ow.apply(this,arguments)}),pe:function(){var e=GitStatusTypes,t=e.SAME|e.IGNORED,r=this._cache;return Object.keys(r).map((function(e){return{path:e,status:r[e].status}})).filter((function(e){return e.status&&!(e.status&t)}))},ae:(aw=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uw,e.next=3,$w.metadataDirAsync(this.session.me());case 3:return e.t1=e.sent,e.t2=JSON.stringify(this._cache),e.t3={atomic:!0},e.next=8,e.t0.write.call(e.t0,e.t1,e.t2,e.t3);case 8:case"end":return e.stop()}}),e,this)}))),function(){return aw.apply(this,arguments)}),ke:function(e){var t=GitStatusTypes,r=t.EMPTY,n=t.CONFLICT,i=t.STAGED,a=t.SAME,o=t.DELETED,u=t.IGNORED,s=t.ADDED,c=t.CHANGED,f=r;switch(e.includes("!")&&(f|=n),e.includes("*")||(f|=i),e=e.replace(/[*!]/g,"")){case"absent":case"unmodified":f|=a;break;case"deleted":f|=o;break;case"ignored":f|=u;break;case"added":f|=s;break;case"modified":f|=c}return f}}),m.module("model").__init__((function(e){Object.assign(e,{observable:new zw})})).def({Re:function(e){return zb.meta.where("key").equals(e).first().then((function(e){return e&&e.value}))},xe:function(e,t){return zb.meta.put({key:e,value:t})},Ae:(ww=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uw,e.next=3,$w.projectConfigPathAsync();case 3:return e.t1=e.sent,e.t2=JSON.stringify(t),e.t3={atomic:!0},e.next=8,e.t0.write.call(e.t0,e.t1,e.t2,e.t3);case 8:case"end":return e.stop()}}),e)}))),function(e){return ww.apply(this,arguments)}),Se:(bw=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=JSON,e.t1=Uw,e.next=5,$w.projectConfigPathAsync();case 5:return e.t2=e.sent,e.t3={encoding:"utf8"},e.next=9,e.t1.readFile.call(e.t1,e.t2,e.t3);case 9:return e.t4=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t4));case 13:return e.prev=13,e.t5=e.catch(0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(){return bw.apply(this,arguments)}),Ce:(gw=r(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.modifiedAt=Date.now(),n=this,e.next=4,n.Te();case 4:return i=e.sent,a=i.find((function(e){return e.dir===t}))||(i[i.length]={dir:t}),Object.assign(a,r),e.next=9,n.Ae(i);case 9:return e.abrupt("return",n.observable.run({action:"update",dir:t,changes:r,project:a,type:"project"}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return gw.apply(this,arguments)}),Ee:(pw=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Te();case 2:for(r=e.sent,n=r.map((function(e){return e.dir})),i=1,a=t;n.includes(a);)a="".concat(t," ").concat(i),i++;return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return pw.apply(this,arguments)}),Ie:(vw=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Te();case 2:if(r=e.sent,!(n=r.find((function(e){return e.dir===t})))){e.next=8;break}return e.abrupt("return",n);case 8:throw new Gb({name:"ProjectNotFound",src:"model:pvGetProjectAsync",message:"Project not found.",dir:t,projects:r,code:Ob});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return vw.apply(this,arguments)}),je:(mw=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ie(t);case 2:return r=e.sent,n=r.dir,e.next=6,Promise.all([Uw.rm(n).catch((function(e){Hw("rm_".concat(e&&e.message,")"),!1)})),$w.trashDirAsync(n).then((function(e){return Uw.rmdir(e)})).catch((function(){return null})),$w.metadataDirAsync(n).then((function(e){return Uw.rm(e)})).catch((function(){return null}))]);case 6:return e.prev=6,e.next=9,zb.files.where("path").startsWith("idb/".concat(Fw.basename(n),"/")).delete();case 9:return e.next=11,zb.folders.where("path").startsWith("idb/".concat(Fw.basename(n),"/")).delete();case 11:return e.next=13,Promise.all([zb.data.toCollection().primaryKeys(),zb.files.orderBy("fid").uniqueKeys()]);case 13:if(i=e.sent,a=k(i,2),o=a[0],u=a[1],!(s=o.filter((function(e){return!u.includes(e)}))).length){e.next=21;break}return e.next=21,zb.data.bulkDelete(s);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),console.error(e.t0);case 26:return e.next=28,this.observable.run({action:"delete",dir:n,type:"project"});case 28:case"end":return e.stop()}}),e,this,[[6,23]])}))),function(e){return mw.apply(this,arguments)}),Te:(dw=r(regeneratorRuntime.mark((function e(){var t,n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uw.readdir(t,{skipFiles:!0});case 3:return r=e.sent,e.abrupt("return",r?r.map((function(e){return Fw.join(t,e)})):[]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),e.next=3,$w.systemDirAsync();case 3:return n=e.sent,e.next=6,Promise.all([n?t(n):[],t("idb"),this.Se()]);case 6:return i=e.sent,a=k(i,3),o=a[0],u=a[1],s=a[2],c=s.reduce((function(e,t){return t.dir&&(e[t.dir]=t),e}),{}),f=[".projects",".settings",".tmp",".metadata",".gitconfig",".trash"],e.abrupt("return",o.concat(u).filter((function(e){return!f.includes(Fw.basename(e))})).map((function(e){return c[e]||{dir:e,modifiedAt:Date.now()}})));case 14:case"end":return e.stop()}}),e,this)}))),function(){return dw.apply(this,arguments)}),ze:(hw=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("RISKY_STUFF"===t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([zb.files.clear(),zb.folders.clear(),zb.data.clear(),zb.meta.clear()]);case 4:return e.next=6,Promise.all([$w.projectConfigPathAsync().then((function(e){return Uw.rm(e)})),$w.settingsConfigPathAsync().then((function(e){return Uw.rm(e)})),$w.trashDirAsync().then((function(e){return Uw.rmdir(e)})),$w.metadataDirAsync().then((function(e){return Uw.rm(e)}))]);case 6:return e.next=8,this.observable.run({action:"delete",type:"projects"});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return hw.apply(this,arguments)})}),m.module("session").require("model","progress","prompt","gitClient","zipper").__init__((function(e,t){var r=t.model,n=t.gitClient,i=t.progress,a=t.prompt,o=t.zipper;Object.assign(e,{model:r,gitClient:n,progress:i,prompt:a,zipper:o,observable:new zw,_project:null}),r.observable.subscribe((function(t){var r=t.type,n=t.project,i=t.action,a=t.dir;switch(r){case"project":if(e.Oe(a))switch(i){case"delete":return e.Fe();case"update":return e.Pe(n)}break;case"projects":if("delete"===i)return e.Fe()}}))})).def({Oe:function(e){return this.me()===e},Me:function(e){var t=e.phase,r=e.loaded,n=e.total,i="".concat(t," (").concat(r,"/").concat(n,")"),a=r/n*100;this.progress.Le(i,a),r===n&&this.progress.Be()},ce:function(){return this._project},me:function(){var e=this._project;return e&&e.dir},Fe:(Rw=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.Pe(null);case 3:return e.next=5,t.model.xe("currentProjectDir",null);case 5:return e.abrupt("return",t.observable.run({action:"close"}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return Rw.apply(this,arguments)}),Pe:(yw=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,!(n=t&&t.dir)){e.next=10;break}return e.t0=Object,e.t1=t,e.next=7,Uw.exists(Fw.join(n,".git/config"));case 7:e.t2=e.sent,e.t3={git:e.t2},e.t0.assign.call(e.t0,e.t1,e.t3);case 10:return e.next=12,r.model.xe("currentProjectDir",n);case 12:return r._project=t,e.abrupt("return",r.observable.run({action:"setProject",project:t}));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return yw.apply(this,arguments)}),De:function(e){return this.observable.run({action:"syncGit",projectDir:e})},oe:(kw=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Promise.all([r.model.Ie(t),$w.filesDirAsync()]);case 3:return n=e.sent,i=k(n,2),a=i[0],o=i[1],u=a.olddir,s=Fw.basename(t)||"Unknown",e.next=11,r.model.Ee("".concat(o).concat(s));case 11:if(c=e.sent,!Fw.isIDB(c)){e.next=23;break}if(!u){e.next=23;break}return e.next=16,Uw.mkdir(u);case 16:return e.next=18,Uw.mv(u,c);case 18:return e.next=20,r.model.Ce(t,{dir:c,olddir:null});case 20:return e.next=22,r.model.Ie(c);case 22:a=e.sent;case 23:return e.next=25,r.Pe(a);case 25:return e.abrupt("return",this.observable.run({action:"open",project:a}));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return kw.apply(this,arguments)})}),m.module("share").require("prompt").__init__((function(e,t){var r=t.prompt;Object.assign(e,{prompt:r});var n="abcdefghijklmnopqrstuvwxyz";e.maxSize=16384,e.base=n+n.toUpperCase(),e.baseCharCodes=new Uint8Array(e.base.split("").map((function(e){return e.charCodeAt(0)})))})).def({Ue:function(){return $$("shareLinkInput")},$e:function(){return $$("shareMessage")},Ne:function(){return $$("shareTitle")},Ge:function(){this.Ue().element.select(),document.execCommand("copy")},We:(Aw=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.title,n=t.message,i=t.value,(a=this).Ne().setLabel(r||""),a.$e().setValue(n||""),a.Ue().setValue(i||""),a.He().open(),Ww("share_link","n/a");case 7:case"end":return e.stop()}}),e,this)}))),function(e){return Aw.apply(this,arguments)}),Ve:(xw=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Uw.lstat(t);case 3:if(!(n=e.sent)){e.next=24;break}if(!(n.size<r.maxSize)){e.next=19;break}return e.prev=6,e.next=9,Uw.readFile(t);case 9:return i=e.sent,e.abrupt("return","https://spck.io/?fileName=".concat(encodeURIComponent(Fw.basename(t)),"&fileContent=").concat(this.Ke(i)));case 13:throw e.prev=13,e.t0=e.catch(6),r.prompt.K(e.t0.name||wb.ErrorMessages.DecodeError,e.t0.message||String(e.t0)),e.t0;case 17:e.next=22;break;case 19:throw a="Could not share file because it exceeds the 16 kB limit.",r.prompt.K("Size Exceeded",a),Error(a);case 22:e.next=27;break;case 24:throw o="Could not share file because it does not exist.",r.prompt.K("Missing File",o),Error(o);case 27:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e){return xw.apply(this,arguments)}),Ke:function(e){var t=new zip.Deflater;t.append(e);var r=t.flush(),n=this.base;return r.reduce((function(e,t){return e+n[Math.floor(t/5)]+(t%5||"")}),"")},qe:function(e){for(var t,r,n=new Uint8Array(e.length),i=this.baseCharCodes,a=0,o=0;o<e.length;){if(!(65<=(t=e.charCodeAt(o))&&t<=122&&(t<=90||t>=97)))throw new Error("Decoding error occurred with corrupted url.");48<=(r=e.charCodeAt(o+1))&&r<=57?(n[a]=5*i.indexOf(t)+r-48,o+=2,a++):(n[a]=5*i.indexOf(t),o++,a++)}var u=new zip.Inflater,s=wa.from(Gw(u.append(n.slice(0,a))));return u.flush(),s}}),m.module("share").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{id:"shareTitle",view:"menuTitle",htmlTag:"LABEL",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"shareMessage",margin:"y-sm",view:"label"},{cls:"uk-form",flexAlign:"middle",cells:[{id:"shareLinkInput",view:"input",flexSize:"flex",autocapitalize:"off",autocorrect:"off",spellcheck:"false",readonly:!0},{view:"menuIcon",iconClass:"ti-layers",title:"Copy Link",margin:"x-sm",flexSize:"none",on:{onMouseDown:function(){e.Ge()}}}]}]},footer:{flexAlign:"right",cells:[{id:"shareCancelButton",view:"button",margin:"right",label:wb.Elements.Cancel,on:{onClick:function(){e.$modal.close()}}}]}},document.getElementById("appContainer"))}}),m.module("templates").__new__((function(e){e.frameworks={js:{angular:{name:"Angular",info:"Learn one way to build applications with Angular and reuse your code and abilities to build apps for any deployment target.",templates:[{path:"index.html",src:"index.html"},{path:"systemjs.config.js",src:"angular-systemjs.config.js",include:!0},{path:"app.ts",src:"angular-app.ts"},{path:"main.ts",src:"angular-main.ts"},{path:"app.html",src:"angular-app.html"}],scripts:["//unpkg.com/core-js@2.5.7/client/shim.min.js","//unpkg.com/zone.js@0.8.26?main=browser","//unpkg.com/zone.js@0.8.26/dist/long-stack-trace-zone.js","//unpkg.com/reflect-metadata@0.1.8","//unpkg.com/systemjs@0.19.47/dist/system.js"],body:"<my-app>Loading...</my-app>",defaultFile:"app.ts"},angularjs:{name:"AngularJS",info:"AngularJS is what HTML would have been, had it been designed for building web-apps.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"angularjs-index.js",include:!0}],bodyTemplate:"angularjs-body.html",scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/angular@1.7.3/angular.min.js"],defaultFile:"index.js"},d3:{name:"D3",info:"Library for visualizing data using web standards. D3 helps you bring data to life using SVG, Canvas and HTML.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"d3-index.js",include:!0},{path:"style.css",src:"d3-style.css",stylesheet:!0}],scripts:["https://cdn.jsdelivr.net/npm/d3@5.5.0/dist/d3.min.js"],defaultFile:"index.js"},html:{name:"HTML",info:"Just a simple plain HTML page.",templates:[{path:"index.html",src:"index.html"},{path:"main.js",src:"main.js",include:!0},{path:"style.css",src:"style.css",stylesheet:!0}],body:"<p>Nothing to see here...</p>",scripts:[],defaultFile:"main.js"},react:{name:"React",info:"React will efficiently update and render just the right components when your data changes.",scripts:["//unpkg.com/systemjs@0.19.47/dist/system.js"],templates:[{path:"index.html",src:"index.html"},{path:"config.js",src:"react-config.js",include:!0},{path:"app.jsx",src:"react-app.jsx"}],body:'<div id="react-app"></div>',defaultFile:"app.jsx"},vue:{name:"Vue.js",info:"A progressive framework for building user interfaces. (Vue files are not supported.)",templates:[{path:"index.html",src:"index.html"},{path:"app.js",src:"vue-app.js",include:!0}],scripts:["https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"],bodyTemplate:"vue-body.html",defaultFile:"app.js"}},css:{bootstrap:{name:"Bootstrap",info:"Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.",classes:{container:"container text-center",heading:"h2",text:"lead"},links:["https://cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/css/bootstrap.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/js/bootstrap.min.js"]},mdl:{name:"Material Design Lite",info:"A front-end template that helps you build fast, modern mobile web apps.",classes:{container:"mdl-grid mdl-typography--text-center",heading:"mdl-layout-title mdl-cell--12-col",text:"mdl-cell--12-col"},links:["//fonts.googleapis.com/icon?family=Material+Icons","https://cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.indigo-pink.min.css"],scripts:["https://cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.min.js"]},semantic_ui:{name:"Semantic UI",info:"Semantic is a UI component framework based around useful principles from natural language.",classes:{container:"ui container",heading:"header",text:"text"},links:["https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.js"]},bulma:{name:"Bulma",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"container",heading:"title",text:"subtitle"},links:["https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.min.css"],scripts:["https://use.fontawesome.com/releases/v5.3.1/js/all.js"]},uikit:{name:"UIkit",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"uk-container uk-text-center",heading:"uk-text-lead",text:"uk-text-meta"},links:["https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/css/uikit.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/js/uikit.min.js"]}}},e.quotes=["Hard work pays off in the future. Laziness pays off now.","A closed mouth gathers no foot.","A dog is a dog unless he is facing you. Then he is Mr. Dog.","A neat desk is a sign of a cluttered desk drawer.","A sine curve goes off to infinity, or at least to the end of the blackboard.","Artificial intelligence is no match for natural stupidity.","Caution: do not look into laser with remaining eye.","Change is inevitable, except from a vending machine.","Democracy is four wolves and a lamb voting on what to have for lunch.","Diplomacy is the art of saying 'good doggie' while looking for a bigger stick.","Don't personify computers - we don't like it.","Do not worry about the world ending today, it's already tomorrow in Australia","Experience is something you get just after you need it.","Give a man a fish and you feed him for a day. Teach a man to fish, and you can sell him some tackle.","Happiness makes up in height what it lacks in length.","As a computer, I find your faith in technology amusing.","If it weren't for the last minute, nothing would get done.","My favourite scientific theory is that the rings of Saturn are made of lost airline luggage.","Never attribute to malice what can be adequately explained by stupidity.","Never test the depth of the water with both feet.","No problem is so big that you can't run away from it.","On the other hand... I have some fingers.","Personifiers of the world! Unite! You have nothing to lose but Mr. Dignity!","Rome wasn't built in a day, it just looks like that.","Smash forehead on keyboard to continue.","The amount of sleep needed by the average person is ten minutes more.","The early bird gets the worm, but the early worm gets eaten.","Time flies like an arrow, fruit flies like a banana","To steal ideas from one person is plagiarism; to steal from many is research.","The person who knows how to laugh at himself will never cease to be amused","Where in the nursery rhyme does it say Humpty Dumpty is an egg?","The trouble with doing something right the first time, is nobody appreciates how difficult it was.","Be nice to other people; they outnumber you 5.5 billion to one. ","Talk is cheap because supply exceeds demand","There has been an alarming increase in the number of things you know absolutely nothing about.","For every problem there is a solution which is simple, neat and wrong. ","When you find yourself in a hole, the first thing to do is stop digging.","If it's stupid but works, it isn't stupid.","Anything free is worth the price.","Always listen to experts. They'll tell you what can't be done, and why. Then go and do it anyway.","Compromise is the art of dividing a cake so everyone believes he got the biggest piece. -Ludwig Erhard","It is better to have enough ideas for some of them to be wrong than to always be right by having no ideas at all. -Edward de Bono","Time is what keeps everything from happening all at once.","When all else fails, read the instructions.","There are 10 types of people in this world; those who understand the binary number system and those who do not"]})),m.module("templates").require("remote").__init__((function(e,t){var r=t.remote;e.remote=r,e.templateLocation="assets/templates",e.template=doT.template,doT.templateSettings.varname="d",doT.templateSettings.strip=!1})).def({Ze:function(){return""},Ye:function(e){return beautifier.html(["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8">','<meta name="viewport" content="width=device-width, initial-scale=1">',"<title></title>","</head>","<body>","","</body>","</html>"].join("\n"),{tabString:e})},Je:function(){return""},Qe:(Sw=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.templateLocation+"/"+t,e.t0=doT,e.next=4,this.remote.X({url:r,retryCount:1,noCache:!1});case 4:return e.t1=e.sent,e.abrupt("return",e.t0.template.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return Sw.apply(this,arguments)}),Xe:function(){return this.quotes[Math.floor(Math.random()*this.quotes.length)]},et:function(e){var t={scripts:e.scripts||[],links:e.links||[],name:e.name,headTemplate:doT.template(e.head||""),bodyTemplate:doT.template(e.body||"")},r=[];return e.bodyTemplate&&r.push(this.Qe(e.bodyTemplate).then((function(e){t.bodyTemplate=e}))),e.headTemplate&&r.push(this.Qe(e.headTemplate).then((function(e){t.bodyTemplate=e}))),Promise.all(r).then((function(){return t}))}}),m.module("date").__new__((function(e){Object.assign(e,{pastTenses:{en:"ago",es:"atrás",fr:"il y a ",id:"yang lalu",ja:"前",pt:"atrás",ru:"назад",zh:"前",zhTW:"前"},shortTimes:{en:"moments ",es:"momentos ",fr:"un instant",id:"beberapa saat ",ja:"一瞬",pt:"momentos ",ru:"минуту ",zh:"不久",zhTW:"不久"},minuteAgo:{en:"a minute ",es:"un minuto ",fr:"une minute",id:"satu menit ",ja:"一分",pt:"um minuto ",ru:"минуту ",zh:"一分钟",zhTW:"一分鐘"},minutesAgo:{en:" minutes ",es:" minutos ",fr:" minutes",id:" menit ",ja:"分",pt:" minutos ",ru:" минуты ",zh:"分钟",zhTW:"分鐘"},hourAgo:{en:"an hour ",es:"una hora ",fr:"une heure",id:"satu jam ",ja:"一時間",pt:"uma hora ",ru:"час ",zh:"一个小时",zhTW:"一個小時"},hoursAgo:{en:" hours ",es:" horas ",fr:" heures",id:" jam ",ja:"時間",pt:" horas ",ru:" часа ",zh:"小时",zhTW:"小時"},dayAgo:{en:"a day ",es:"un día ",fr:"un jour",id:"sehari ",ja:"一日",pt:"um dia ",ru:"день ",zh:"一天",zhTW:"一天"},daysAgo:{en:" days ",es:" dias ",fr:" jours",id:" hari ",ja:"日",pt:" dias ",ru:" дня ",zh:"天",zhTW:"天"}})})).def({tt:function(e,t){var r,n=this.pastTenses,i=this.shortTimes,a=this.minuteAgo,o=this.minutesAgo,u=this.hourAgo,s=this.hoursAgo,c=this.dayAgo,f=this.daysAgo,l=this.rt,h=(Date.now()-e)/1e3,d=n[n[t]?t:"en"];return r=isNaN(h)?"? ":h<30?i[i[t]?t:"en"]:h<120?a[a[t]?t:"en"]:h<3600?l(h,60)+o[o[t]?t:"en"]:h<7200?u[u[t]?t:"en"]:h<86400?l(h,3600)+s[s[t]?t:"en"]:h<172800?c[c[t]?t:"en"]:l(h,86400)+f[f[t]?t:"en"],"fr"===t?d+r:r+d},rt:function(e,t){return Math.floor(e/t)}}),m.module("path").__new__((function(e){e.BinaryExtensions=[".avi",".ogv",".ogg",".mov",".webm",".m4p",".m4v",".mp4",".mkv",".mov",".h261",".h263",".h264",".mts",".m2ts",".vob",".wmv",".rmvb",".rm",".amv",".gifv",".flv",".f4v",".f4a",".psd",".swf",".ai",".asf",".abf",".afm","acfm",".zip",".tar",".gz",".rar",".ai",".7z",".bzip",".lzma",".iso",".jar",".zipx",".ipa",".dmg",".exe",".msi",".war",".apk",".mpg",".mpeg",".mpe",".mpv",".mp2",".3gp",".aa",".aac",".aax",".act",".aiff",".alac",".amr",".ape",".au",".awb",".dct",".dss",".dvf",".flac",".gsm",".ivs",".m4a",".m4b",".m4p",".mp3",".mpc",".msv",".nsf",".oga",".mogg",".opus",".ra",".tta",".wav",".wma",".wv",".8svx",".3ds",".3dm",".fbx",".dae",".stp",".igs",".stl",".wrl",".ply",".obj",".off",".prt",".blend",".ppt",".pptx",".doc",".docm",".docx",".xls",".xlsx",".DS_Store",".jpe",".jpg",".jpeg",".jif",".jfif",".jfi",".ttf",".otf",".woff",".eot",".woff",".woff2",".gif",".tiff",".bmp",".apng",".mng",".png",".webp",".ico",".pdf",".raw",".heif",".indd",".eps",".tga",".dds"].reduce((function(e,t){return e[t]=0,e}),{})})).def({nt:function(e){return e.includes("//")?"//":e.includes("\0")?"NUL":e.includes("\\")?"\\":void 0},it:function(e){return Fw.ext(e)in this.BinaryExtensions},at:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},ot:function(e){var t=this.at(e),r=t.split(/[@.]/),n=r.length;return n>2&&(t=r[n-2]+"."+r[n-1],2==r[n-2].length&&2==r[n-1].length&&(t=r[n-3]+"."+t)),t},fe:function(e){return/\/\.git\b/.test(e)}}),m.module("set").def({ut:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},ge:function(){var e=Array.prototype.slice.call(arguments),t=e.reduce((function(e,t){return t.concat(e)}),[]);return t.filter((function(e,t,r){return r.indexOf(e)===t}))}}),m.module("string").def({st:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},ct:function(e){return e.replace(/[.*+?^${}()|\\[\]]/g,"\\$&")},ft:function(e){return(e.match(/\n/g)||"").length+1}}),m.module("urlQuery").def({lt:function(){return window.location.search},ht:function(e){for(var t=this.lt().substring(1).split("&"),r=0;r<t.length;r++){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}}}),m.module("vibrate").__new__((function(e){e.enabled=!0})).def({dt:function(){"vibrate"in navigator&&this.enabled&&navigator.vibrate(30)}}),m.module("zipper").require("path","messages","prompt","progress").__init__((function(e,t){var r=t.path,n=t.messages,i=t.prompt,a=t.progress;Object.assign(e,{path:r,messages:n,prompt:i,progress:a}),zip.workerScripts={deflater:["workers/worker_deflate.js"],inflater:["workers/worker_inflate.js"]},e.ZipErrorMessages={ERR_BAD_FORMAT:{en:"File format is not recognized.",es:"El formato del archivo no se reconoce.",ja:"ファイル形式が認識されません。",pt:"O formato do arquivo não é reconhecido.",ru:"Формат файла не распознан.",zh:"无法识别文件格式。",zhTW:"無法識別文件格式。"},ERR_BAD_ENCODING:{en:"File encoding is not recognized. Please recreate ZIP file with UTF-8 encoding.",es:"La codificación del archivo no se reconoce. Vuelva a crear el archivo ZIP con codificación UTF-8.",ja:"ファイルのエンコードは認識されません。 UTF-8エンコードでZIPファイルを再作成してください。",pt:"A codificação de arquivo não é reconhecida. Recrie o arquivo ZIP com a codificação UTF-8.",ru:"Кодировка файла не распознается. Пожалуйста, заново создайте ZIP-файл с кодировкой UTF-8.",zh:"无法识别文件编码。 请使用UTF-8编码重新创建ZIP文件。",zhTW:"無法識別文件編碼。 請使用UTF-8編碼重新創建ZIP文件。"},ERR_CRC:"CRC failed.",ERR_ENCRYPTED:{en:"File contains encrypted entry.",es:"El archivo contiene una entrada encriptada.",ja:"ファイルには暗号化されたエントリが含まれています。",pt:"O arquivo contém entrada criptografada.",ru:"Файл содержит зашифрованную запись.",zh:"文件包含加密的条目。",zhTW:"文件包含加密的條目。"},ERR_ZIP64:{en:"File is using Zip64 (4gb+ file size).",es:"El archivo está usando Zip64 (4 gb + tamaño de archivo).",pt:"O arquivo está usando o Zip64 (4 GB + tamanho do arquivo).",ru:"Файл использует Zip64 (4 ГБ + размер файла).",zh:"文件正在使用Zip64（4GB以上的文件大小）。"},ERR_READ:{en:"Error while reading zip file."},ERR_WRITE:{en:"Error while writing zip file."},ERR_WRITE_DATA:{en:"Error while writing file data."},ERR_READ_DATA:{en:"Error while reading file data."},ERR_DUPLICATED_NAME:wb.ErrorMessages.ExistsFor(wb.Objects.File)}})).def({vt:function(e){var t=this;e&&t.prompt.gt(wb.Actions.Export(wb.Objects.Echo("ZIP")),Fw.basename(e),{message:wb.Actions.Enter(wb.Objects.NameFor(wb.Objects.Echo("ZIP"))),showInput:!0,onResult:function(r){return t.bt(e,r).then(Vw("export_zip","zip"),Kw("export_zip","zip")).catch((function(e){throw t.messages.$e("exportZipError",null,{locale:$w.locale}),t.ZipErrorMessages[e]&&t.prompt.K(wb.Actions.Failed(wb.Actions.Export(wb.Objects.Echo("ZIP"))),t.ZipErrorMessages[e]),e}))}})},wt:function(){return new Promise((function(e,t){zip.createWriter(new zip.ArrayBufferWriter,(function(t){e({exportFileAsync:function(e,r){return new Promise((function(n){t.add(e,new zip.ArrayBufferReader(Gw(r)),n)}))},exportFolderAsync:function(e){return new Promise((function(r){t.add(e,new zip.ArrayBufferReader(new ArrayBuffer),r,null,{directory:!0})}))},completeExportAsync:function(e){return new Promise((function(e){t.close(e)})).then((function(t){return e=e||"Unknown",e=Fw.hasExt(e,".zip")?e:e+".zip",Ew.saveBase64(e,t)}))}})}),t,!0)}))},kt:(Cw=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw.read(t);case 2:return r=e.sent,e.abrupt("return",Ew.saveBase64(Fw.basename(t),r));case 4:case"end":return e.stop()}}),e)}))),function(e){return Cw.apply(this,arguments)}),bt:function(e,t){var r=this;return r.wt().then((function(n){return Promise.all([Uw.readdirDeep(e,{files:!1,folders:!0,relative:!0}),Uw.readdirDeep(e)]).then((function(t){var i=k(t,2),a=i[0],o=i[1],u=a.filter((function(e){return!r.path.fe(e)})),s=o.filter((function(e){return!r.path.fe(e)})),c=u.length+s.length,f=0;return Ib({data:u,promiseGenerator:function(e){return f++,r.progress.ProgressReporter.reportProgress({phase:"Zipping: ".concat(Fw.basename(e)),lengthComputable:!0,loaded:f,total:c}),n.exportFolderAsync(e)},maxConcurrency:1,retryAttempts:0,useRaf:!0}).then((function(){return Ib({data:s,promiseGenerator:function(t){return Uw.readFile(t).then((function(i){return f++,r.progress.ProgressReporter.reportProgress({phase:"Zipping: ".concat(Fw.basename(t)),lengthComputable:!0,loaded:f,total:c}),n.exportFileAsync(Fw.relativeTo(t,e),i)}))},maxConcurrency:1,retryAttempts:0,useRaf:!0})}))})).then((function(){return r.progress.ProgressReporter.close(!0),n.completeExportAsync(t)}),(function(e){return r.progress.ProgressReporter.close(!0),Promise.reject(e)}))}))},yt:function(e,t){var r=this;return new Promise((function(n,i){zip.createReader(new zip.ArrayBufferReader(t),(function(t){t.getEntries((function(i){var a=0,o=i.filter((function(e){return!e.directory&&!!e.filename})),u=o.length;return Ib({data:o,promiseGenerator:function(t){return new Promise((function(n){t.getData(new zip.ArrayBufferWriter,(function(i){n(Uw.write(Fw.join(e,t.filename),i)),a++,r.progress.ProgressReporter.reportProgress({phase:"Unzipping: ".concat(Fw.basename(t.filename)),lengthComputable:!0,loaded:a,total:u})}))}))},maxConcurrency:1,retryAttempts:0}).then((function(){t.close(n),r.progress.ProgressReporter.close(!0)}))}))}),(function(e){r.ZipErrorMessages[e]&&r.prompt.K(wb.Actions.Failed(wb.Actions.Export(wb.Objects.Echo("ZIP"))),r.ZipErrorMessages[e]),i(e)}))}))}}),
/*!
   * MIT License
   *
   * Copyright (c) 2016 Ike Ku
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   */
ace.define("ace/theme/ayu-light",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!1,t.cssClass="ace-ayu-light",t.cssText=".ace-ayu-light .ace_gutter {color: #1069a9;}.ace-ayu-light .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-ayu-light .ace_print-margin {width: 1px;background: #e8e8e8}.ace-ayu-light {color: #35373a}.ace-ayu-light .ace_cursor {color: #FF6A00}.ace-ayu-light .ace_marker-layer .ace_selection {background: #a5dfff}.ace-ayu-light.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #FAFAFA;border-radius: 2px}.ace-ayu-light .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-light .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FF0000}.ace-ayu-light .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-ayu-light .ace_marker-layer .ace_selected-word {border: 1px solid #74caf9}.ace-ayu-light .ace_keyword.ace_operator {color: #ED9366}.ace-ayu-light .ace_constant.ace_language {color: #A37ACC}.ace-ayu-light .ace_constant.ace_numeric {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character.ace_escape {color: #4CBF99}.ace-ayu-light .ace_constant.ace_other {color: #A37ACC}.ace-ayu-light .ace_support.ace_function {color: #F07171}.ace-ayu-light .ace_support.ace_constant {color: #ED9366}.ace-ayu-light .ace_support.ace_class {color: #55B4D4}.ace-ayu-light .ace_support.ace_type {color: #55B4D4}.ace-ayu-light .ace_tag-name.ace_tag,.ace-ayu-light .ace_storage,.ace-ayu-light .ace_keyword {color: #FA6E32}.ace-ayu-light .ace_storage.ace_type {color: #FA6E32}.ace-ayu-light .ace_invalid {color: #F51818}.ace-ayu-light .ace_invisible {color: #BFBFBF}.ace-ayu-light .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FA6E32}.ace-ayu-light .ace_string {color: #86B300}.ace-ayu-light .ace_string.ace_regexp {color: #4CBF99}.ace-ayu-light .ace_comment {color: #ABB0B6}.ace-ayu-light .ace_variable {color: #55B4D4}.ace-ayu-light .ace_variable.ace_parameter {color: #A37ACC}.ace-ayu-light .ace_entity.ace_other.ace_attribute-name {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_function {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_tag {color: #55B4D4}.ace-ayu-light .ace_heading {color: #4845f7;}.ace-ayu-light .ace_list {color: #30a584;}"})),
/*!
   * MIT License
   *
   * Copyright (c) 2016 Ike Ku
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   */
ace.define("ace/theme/ayu-mirage",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!0,t.cssClass="ace-ayu-mirage",t.cssText=".ace-ayu-mirage .ace_gutter {color: rgb(125,127,129)}.ace-ayu-mirage .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-ayu-mirage .ace_print-margin {width: 1px;background: #333a48}.ace-ayu-mirage {color: #ddd}.ace-ayu-mirage .ace_cursor {color: #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-ayu-mirage.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-ayu-mirage .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-mirage .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-ayu-mirage .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-ayu-mirage .ace_keyword.ace_operator {color: #F29E74}.ace-ayu-mirage .ace_constant.ace_language {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_numeric {color: #D4BFFF}.ace-ayu-mirage .ace_punctuation,.ace-ayu-mirage .ace_punctuation.ace_tag {color: #bbb}.ace-ayu-mirage .ace_constant.ace_character {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_character.ace_escape {color: #95E6CB}.ace-ayu-mirage .ace_constant.ace_other {color: #D4BFFF}.ace-ayu-mirage .ace_support.ace_function {color: #F28779}.ace-ayu-mirage .ace_support.ace_class {color: #5CCFE6}.ace-ayu-mirage .ace_support.ace_type {color: #5CCFE6}.ace-ayu-mirage .ace_meta.ace_tag,.ace-ayu-mirage .ace_tag-name.ace_tag,.ace-ayu-mirage .ace_storage,.ace-ayu-mirage .ace_keyword {color: #FFA759}.ace-ayu-mirage .ace_storage.ace_type {color: #FFA759}.ace-ayu-mirage .ace_invalid {color: #FF3333}.ace-ayu-mirage .ace_invisible {color: #5C6370}.ace-ayu-mirage .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FFA759}.ace-ayu-mirage .ace_string {color: #BAE67E}.ace-ayu-mirage .ace_string.ace_regexp {color: #95E6CB}.ace-ayu-mirage .ace_comment {color: #5C6773}.ace-ayu-mirage .ace_variable {color: #FFD580}.ace-ayu-mirage .ace_variable.ace_parameter {color: #D4BFFF}.ace-ayu-mirage .ace_entity.ace_other.ace_attribute-name {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_function {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_tag {color: #5CCFE6}.ace-ayu-mirage .ace_heading {color: #8987ff;}.ace-ayu-mirage .ace_list {color: #4ad3ac;}"})),ace.define("ace/theme/chrome",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!1,t.cssClass="ace-chrome",t.cssText=".ace-chrome .ace_gutter {color: #1069a9;}.ace-chrome .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color: rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}"})),ace.define("ace/theme/dracula",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!0,t.cssClass="ace-dracula",t.cssText=".ace-dracula .ace_gutter {color: rgb(144,145,148)}.ace-dracula .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-dracula .ace_print-margin {width: 1px;background: #e8e8e8}.ace-dracula {color: #ddd}.ace-dracula .ace_cursor {color: #F8F8F0}.ace-dracula .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-dracula.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-dracula .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-dracula .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-dracula .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-dracula .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-dracula .ace_invisible {color: #52524d}.ace-dracula .ace_keyword {color: #d3a0ff}.ace-dracula .ace_keyword.ace_operator {color: #ddd}.ace-dracula .ace_constant.ace_language {color: #bd93f9}.ace-dracula .ace_constant.ace_numeric {color: #c3e8d1}.ace-dracula .ace_constant.ace_character {color: #bd93f9}.ace-dracula .ace_constant.ace_character.ace_escape {color: #ff79c6}.ace-dracula .ace_constant.ace_other {color: #bd93f9}.ace-dracula .ace_identifier {color: #aef1ff}.ace-dracula .ace_support.ace_function {color: #57afff}.ace-dracula .ace_support.ace_constant {color: #aef1ff}.ace-dracula .ace_support.ace_class {color: #aef1ff}.ace-dracula .ace_support.ace_type {color: #aef1ff}.ace-dracula .ace_meta.ace_tag,.ace-dracula .ace_storage {color: #57afff}.ace-dracula .ace_storage.ace_type {color: #57afff}.ace-dracula .ace_invalid {color: #F8F8F0;background-color: #ff79c6}.ace-dracula .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #bd93f9}.ace-dracula .ace_string {color: #f1fa8c}.ace-dracula .ace_comment {color: #7988b5}.ace-dracula .ace_constant,.ace-dracula .ace_variable {color: #a6ffbd}.ace-dracula .ace_variable.ace_parameter {color: #aef1ff}.ace-dracula .ace_entity.ace_other.ace_attribute-name {color: #aef1ff}.ace-dracula .ace_entity.ace_name.ace_function {color: #fff8d3}.ace-dracula .ace_xml-pe.ace_xml,.ace-dracula .ace_punctuation.ace_tag {color: #999}.ace-dracula .ace_tag-name.ace_tag,.ace-dracula .ace_entity.ace_name.ace_tag {color: #57afff}.ace-dracula .ace_heading {color: #aef1ff;}.ace-dracula .ace_markup.ace_list {color: #57afff;}"})),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {color: #8F908A}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {color: #ddd}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-monokai .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-monokai .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #bbb}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_heading {color: #66D9EF;}.ace-monokai .ace_markup.ace_list {color: #A6E22E;}"})),ace.define("ace/theme/one-dark",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!0,t.cssClass="ace-one-dark",t.cssText=".ace-one-dark .ace_gutter {color: #5C6370}.ace-one-dark .ace_print-margin {width: 1px;background: #424451}.ace-one-dark {color: #ABB2BF}.ace-one-dark .ace_cursor {color: #528BFF}.ace-one-dark .ace_marker-layer .ace_selection {background: #063e63}.ace-one-dark.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0 #268BD2;}.ace-one-dark .ace_marker-layer .ace_step {background: #3A6DA0}.ace-one-dark .ace_marker-layer .ace_bracket {background-color: #2B313A;border: 1px solid #3A6DA0}.ace-one-dark .ace_marker-layer .ace_active-line {background-color: #2B313A}.ace-one-dark .ace_marker-layer .ace_selected-word {background-color: #2B313A;border: 1px solid #3D4350}.ace-one-dark .ace_invisible {color: #5C6370}.ace-one-dark .ace_entity.ace_name.ace_tag,.ace-one-dark .ace_meta.ace_tag,.ace-one-dark .ace_storage {color: #C678DD}.ace-one-dark .ace_keyword,.ace-one-dark .ace_punctuation,.ace-one-dark .ace_punctuation.ace_tag {color: #ABB2BF}.ace-one-dark .ace_entity.ace_other.ace_attribute-name,.ace-one-dark .ace_constant.ace_character,.ace-one-dark .ace_constant.ace_language,.ace-one-dark .ace_constant.ace_numeric,.ace-one-dark .ace_constant.ace_other {color: #FFC66D}.ace-one-dark .ace_invalid {color: #fff;background-color: #900}.ace-one-dark .ace_invalid.ace_deprecated {color: #fff;background-color: #900}.ace-one-dark .ace_support.ace_constant {color: #FFC66D}.ace-one-dark .ace_support.ace_function {color: #61AFEF}.ace-one-dark .ace_fold {background-color: #5C6370;border-color: #93A1A1}.ace-one-dark .ace_storage.ace_type,.ace-one-dark .ace_support.ace_class,.ace-one-dark .ace_support.ace_type {color: #C678DD}.ace-one-dark .ace_entity.ace_other,.ace-one-dark .ace_entity.ace_name.ace_function {color: #61AFEF}.ace-one-dark .ace_variable {color: #E06C75}.ace-one-dark .ace_variable.ace_parameter {color: #E06C75}.ace-one-dark .ace_string {color: #98C379}.ace-one-dark .ace_comment {font-style: italic;color: #5C6370}.ace-one-dark .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {color: #1069a9;}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {color: black}.ace-xcode .ace_cursor {color: black}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #fff;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_heading {  color: #e20505;}.ace-xcode .ace_markup.ace_list {  color: #5400a3;}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}"})),m.module("card").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-card",width:"40",label:"",accessoryIcon:'<i class="uk-icon-chevron-right uk-icon-large" style="margin-left:auto"></i>'},template:['<div class="uk-flex uk-flex-middle">','<div class="uk-margin-large-right">','<svg viewBox="{{viewBox}}" width="{{width}}">',"{{svg}}","</svg>","</div>",'<div class="uk-margin-top">',"<h5>{{title}}</h5>",'<p class="uk-margin-large-right">{{label}}</p>',"</div>","{{accessoryIcon}}","</div>"].join("")},UI.definitions.link)})),m.module("fileBreadcrumb").require("fileTree").__init__((function(e,t){var r=t.fileTree;Object.assign(e,{fileTree:r})})).__init__((function(e){UI.def({__name__:e.__name__,$defaults:{listStyle:"breadcrumb",tagClass:"x-file-breadcrumb"},getFullPath:function(){return this._fullPath},setFullPath:function(t){this._fullPath=t=t||"",""===t?this.setData([]):this.setData(t.split("/").map((function(t,r,n){return{view:"link",iconClass:"",label:(r===n.length-1?e.fileTree.Rt(t):e.fileTree.xt(e.fileTree.svg.openFolder,30,15))+"<span>"+t+"</span>",path:n.slice(0,r+1).join("/")}})))}},UI.definitions.list)})),m.module("fileSelect").require("path","session").__init__((function(e,t){var r=t.path,n=t.session;Object.assign(e,{path:r,session:n})})).__new__((function(e){UI.def({__name__:e.__name__,setFilesData:function(t){if(0==t.length)this.setData([{value:"",label:"No file selected",selected:!0}]),this.disable(),this.paths=null;else{var r=e.session.me()||"";this.setData(function(e,t){return e.map((function(e){return{label:Fw.relativeTo(e,t),value:e}}))}(t,r)),this.setActive("label","index.html"),this.enable(),this.paths=t}return t},getFilePaths:function(){return this.paths||[]},getSelectedFile:function(){var e=this.getSelected()[0];return e&&e.value&&e.fid?e:null}},UI.definitions.select)})),m.module("fileTree").__new__((function(e){e.svg={assetFile:'<path fill="#51DB78" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',styleFile:'<path fill="#9648EA" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',scriptFile:'<path fill="#E2C100" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',textFile:'<path fill="#7F7F7F" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',defaultFile:'<path fill="#82B1FF" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',folder:'<path fill="#90CAF9" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z"></path>',openFolder:'<path fill="#FFA000" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z"></path>'}})),m.module("fileTree").__init__((function(e){UI.def({__name__:e.__name__,$defaults:{indentWidth:12,tagClass:"x-file-tree"},template:function(t){var r=this.config.allowDrag,n="";return n=t.search?"":'<span class="x-tree-icon" style="margin-left:{{margin}}px"><i class="uk-icon-{{chevron}}"></i></span><span class="uk-active-line"></span>{{svg}}',UI.interpolate('<a class="uk-flex-middle uk-flex {{itemClass}} {{statusClass}}">'+n+'<span class="x-text-overflow-ellipsis uk-flex-item-1">{{label}}</span>'+(r?'<i class="x-menu-icon uk-hidden-notouch uk-icon-more-vertical menu"></i>':"")+"</a>",{itemClass:t.cls||"x-tree-item",statusClass:e.At(t.status),chevron:e.St(t),svg:e.Ct(t),margin:t.$depth*this.indentWidth,label:t.label,message:t.message})},updateItemStatus:function(t,r){var n=this.getItemNode(t.id);n&&n.firstChild&&(UI.removeClass(n.firstChild,e.At(t.status)),UI.addClass(n.firstChild,e.At(r))),t.status=r}},UI.definitions.tree)})).def({St:function(e){return e.$children&&e.$children.length>0?e.$closed?"chevron-right":"chevron-down":""},Ct:function(e){var t;return t=e.search?"":e.file?e.isDefaultLaunchFile?this.svg.defaultFile:this.Tt(e.path):e.$children&&0!==e.$children.length?e.$closed?this.svg.folder:this.svg.openFolder:this.svg.folder,this.xt(t,30,15)},xt:function(e,t,r){return UI.interpolate('<svg class="svg-icon file-svg-icon" width="{{w}}" height="{{h}}" viewBox="5 0 18 18">{{path}}</svg>',{path:e,w:t,h:r})},Rt:function(e){return this.xt(this.Tt(e),30,15)},At:function(e){var t=GitStatusTypes,r=t.CONFLICT,n=t.CHANGED,i=t.ADDED,a=t.DELETED,o=t.IGNORED;return e&r?"x-git-conflict":e&n?"x-git-changed":e&i?"x-git-new":e&a?"x-git-deleted":e&o?"x-git-ignored":""},Tt:function(e){switch(Fw.ext(e)){case".png":case".gif":case".svg":case".jpg":case".jpeg":case".bmp":case".woff":case".woff2":case".eot":case".ttf":case".otf":case".mp3":case".acc":case".flac":case".ogg":case".wav":return this.svg.assetFile;case".css":case".scss":case".sass":case".less":return this.svg.styleFile;case".js":case".jsx":case".ts":case".coffee":return this.svg.scriptFile;case".html":case".htm":case".xhtml":case".xml":case".csv":default:return this.svg.textFile}}}),m.module("i18nInput").__new__((function(e){UI.def({__name__:e.__name__,$setters:{i18nPlaceholders:function(e){return this.set("placeholder",e[$w.locale]||e.en||""),e}}},UI.definitions.input)})),m.module("keyButton").require("keyOption","vibrate").__init__((function(e,t){UI.def({__name__:e.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart",passive:!0},mousedown:{lazy:!1,defaultEvent:!1,callback:function(){return!1}}},$defaults:{tagClass:"x-key-button",dropdownEvent:"onOpenDropdown",dropdownOptions:{dropdownClass:"x-key-popup",blank:!0}},__init__:function(r){r.dropdownOptions=UI.defaults({marginX:r.offset||0,pos:r.pos||"top-center"},r.dropdownOptions),this.addListener("onTouchStart",(function(r,n,i){if(!e.activeKey){var a=this;t.vibrate.dt(),e.activeKey=a,e.initialPos={x:i.touches[0].clientX,y:i.touches[0].clientY},e.touchReleased=!1,e.deltaX=0,e.deltaY=0,a.selectOption(a.defaultIndex||0,0),setTimeout((function(){!e.touchReleased&&Math.abs(e.deltaX)<50&&Math.abs(e.deltaY<50)&&a.dispatch("onOpenDropdown",[a.config,a.element])}),750)}}))},selectOption:function(t,r){this.dropdownPopup||this.dispatch("onOpenDropdown",[this.config,this.element]);var n=this.dropdownPopup.$components[0].$components;if(e.selectedOption&&(e.selectedOption.deselect(),e.selectedOption=null),t=t<0?0:t,!(r<=-3)){if(this.multirow){var i=n[0].$components.length-1,a=n.length-1;if(r>=a+2)return;r=(r=r<0?0:r)>a?a:r,t=t>i?i:t,e.selectedOption=n[n.length-1-r].$components[t]}else{if(r>=2)return;t=t>=n.length?n.length-1:t,e.selectedOption=n[t]}e.selectedOption.select()}}},UI.definitions.link)})).__init__((function(e){UI.support.touch&&(UI.$windowListeners.touchend.push((function(){if(e.touchReleased=!0,e.activeKey){if(e.selectedOption){var t=e.activeKey.config.editorOptions,r=t.editor,n=e.selectedOption.config,i=n.value||n.label,a=n.offset||t.offset||0;r.focus(!r.isFocused()),r.insertTextAtCursor(i,{chars:a,rows:0}),e.selectedOption.deselect(),e.selectedOption=null}e.activeKey.dropdownPopup.close(),e.activeKey=null}})),UI.$windowListeners.touchmove.push((function(t){if(e.activeKey){var r=t.touches[0],n=r.clientX-e.initialPos.x,i=-(r.clientY-e.initialPos.y),a=e.activeKey.defaultIndex+Math.floor(n/42+.5),o=Math.floor(i/47-.5);e.activeKey.selectOption(a,o),e.deltaX=n,e.deltaY=i}})))})),m.module("keyOption").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-key-option"},select:function(){UI.addClass(this.element,"uk-active")},deselect:function(){UI.removeClass(this.element,"uk-active")}},UI.definitions.link)})),m.module("keybindingLink").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-keybinding-link",command:""},template:function(e){var t=this.editor,r="<span>{{label}}</span>";if(t&&e.command){var n=t.$ace.commands,i=n.byName[e.command];if(i){var a=i.bindKey[n.platform];a&&(a=a.split("|")[0],r+=UI.interpolate('<span class="x-keybinding">{{key}}</span>',{key:a}))}}return r}},UI.definitions.link)})),m.module("menuIcon").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-icon"},$events:{touchstart:{lazy:!0,dispatch:"onMouseDown",passive:!0},mousedown:{lazy:!0,dispatch:"onMouseDown",defaultEvent:!1,callback:function(){return!1}}}},UI.definitions.icon)})),m.module("touchIcon").__new__((function(e){UI.def({__name__:e.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart",passive:!0},touchend:{lazy:!0,dispatch:"onTouchEnd"}}},UI.definitions.menuIcon)})),m.module("menuTitle").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{visible:!0,collapsable:!0,htmlTag:"LABEL",tagClass:"x-menu-title"},$events:{click:{dispatch:"onClick",defaultEvent:!0}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle),this.updateLabel()},_onToggle:function(e,t,r){e.collapsable&&(this.dispatch("onToggle",[e,t,r]),this.config.visible=!e.visible,this.updateLabel(),this.dispatch("onToggled",[e,t,r]))},updateLabel:function(){var e=this.config,t=e.visible,r=e.label,n=e.collapsable,i=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}(this.el,".x-menu-title-bar")||this.el;n?(t?UI.removeClass(i,"collapsed"):UI.addClass(i,"collapsed"),this.el.innerHTML="<i class='ti-angle-".concat(t?"down":"right"," uk-margin-small-right'></i> ").concat(r)):this.el.innerHTML=r}},UI.definitions.link)})),m.module("menuToggle").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-toggle"},$setters:{outline:function(e){e?UI.addClass(this.el,"x-outline"):UI.removeClass(this.el,"x-outline")},selected:function(e){e?this.select():this.deselect()}},$events:{click:{dispatch:"onClick",defaultEvent:!0}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle)},select:function(){this.config.$selected=!0,UI.addClass(this.el,"uk-active")},isSelected:function(){return!!this.config.$selected},deselect:function(){this.config.$selected=!1,UI.removeClass(this.el,"uk-active")},_onToggle:function(e,t,r){this.dispatch("onToggle",[e,t,r]),this.isSelected()?this.deselect():this.select(),this.dispatch("onToggled",[e,t,r])}},UI.definitions.icon)})),m.module("messages").__new__((function(e){e.messages={mainSaveFileError:{en:"Error saving file.",es:"Error al guardar el archivo.",fr:"Erreur d'enregistrement.",id:"Kesalahan menyimpan file.",ja:"ファイルの保存エラー",pt:"Erro ao salvar o arquivo.",ru:"Ошибка сохранения файла.",zh:"保存文件时出错",zhTW:"保存檔案時出錯"},deleteProjectMessage:{en:"Deleted project: {{name}}",es:"Proyecto eliminado: {{name}}",fr:"Projet supprimé: {{name}}",id:"Proyek yang dihapus: {{name}}",ja:"削除: {{name}}",pt:"Excluir projeto: {{name}}",ru:"Удаленный проект: {{name}}",zh:"删除: {{name}}",zhTW:"删除: {{name}}"},createProjectError:wb.Actions.Failed(wb.Actions.Create(wb.Objects.Project)),searchBusyError:{en:"Busy with another search."},openFileError:{en:"Error opening file.",es:"Error al abrir el archivo.",fr:"Erreur d'ouverture.",id:"Kesalahan membuka file.",ja:"ファイルを開く際のエラー",pt:"Erro ao abrir o arquivo.",ru:"Ошибка открытия файла.",zh:"打开文件时出错",zhTW:"打開檔案時出錯"},exportZipError:{en:"Error exporting ZIP.",es:"Error al exportar ZIP.",fr:"Erreur d'exportation.",id:"Kesalahan mengekspor ZIP.",ja:"ZIPのエクスポートエラー",pt:"Erro ao exportar ZIP.",ru:"Ошибка экспорта ZIP",zh:"导出ZIP时出错",zhTW:"導出ZIP時出錯"},requiresRestart:{en:"Reopen the app to apply changes.",es:"Vuelva a abrir la aplicación para aplicar los cambios.",fr:"Rouvrez l'application pour appliquer les modifications.",id:"Buka kembali App untuk menerapkan perubahan.",ja:"アプリを再度開いて、変更を適用します。",pt:"Reabra o aplicativo para aplicar as alterações.",ru:"Повторно откройте приложение, чтобы применить изменения.",zh:"重新打开应用以应用更改。",zhTW:"重新打開應用以應用更改。"},requiresChromeVersion:{en:"Requires Chrome {{version}} (Current {{actual}})",es:"Requiere Chrome {{versión}} ({{actual}} Actual)",fr:"Nécessite Chrome {{version}} (Détecté {{actual}})",id:"Membutuhkan Chrome {{version}} (Sekarang {{actual}})",ja:"Chrome {{version}} が必要（現在 {{actual}}）",pt:"Requer Chrome {{version}} (Atual {{actual}})",ru:"Требуется Chrome {{version}} (текущий {{actual}})",zh:"需要 Chrome {{version}}（现在 {{actual}}）",zhTW:"需要 Chrome {{version}}（現在 {{actual}}）"},tabletModeNotAllowed:{en:"Device screen width too small.",es:"Ancho del dispositivo demasiado pequeño.",fr:"Largeur de l'appareil trop petite.",id:"Lebar layar perangkat terlalu kecil.",ja:"画面の幅が小さすぎます。",pt:"Largura do dispositivo muito pequena.",ru:"Ширина устройства слишком мала.",zh:"屏幕宽度太小。",zhTW:"屏幕寬度太小。"},unknownError:{en:"Unknown error has occurred.",es:"Se ha producido un error desconocido.",fr:"Erreur inconnue.",id:"Kesalahan yang tidak diketahui.",ja:"不明なエラーが発生しました",pt:"Ocorreu um erro desconhecido.",ru:"Произошла неизвестная ошибка.",zh:"发生未知错误",zhTW:"發生未知錯誤"}}})).def({$e:function(e,t,r){var n=this.messages,i=n[e]||n.unknownError,a=i[r&&r.locale]||i.en,o=UI.interpolate(a,t||{});this.Et(o,r),Ww("message_"+e,"n/a")},Et:function(e,t){Ew.showToast(e,t)}}),m.module("searchField").__new__((function(e){UI.def({__name__:e.__name__,template:function(e){var t=this;t.$input=UI.createElement("INPUT",e.inputAttributes),UI.addClass(t.$input,e.inputClass);var r=[t.$input];e.clearSearch&&(e.searchOptions=e.searchOptions||[]).unshift({view:"menuIcon",cls:["x-search-close-icon"],icon:"close",title:"Clear",on:{onMouseDown:function(){t.setValue(""),t.dispatch("onInput"),t.focus()}}});return e.searchOptions&&r.push({flexAlign:"middle",flexSize:"none",cells:e.searchOptions}),r},$defaults:{htmlTag:"DIV",placeholder:"",tagClass:"",cls:"x-menu-search",inputClass:["uk-search-field","x-text-indent-remove","uk-flex-item-1"],inputAttributes:{autocapitalize:"off",autocorrect:"off",spellcheck:"false"},flex:!0,type:"search"},__after__:function(){var e=this.getFormControl(),t=this.el;e.addEventListener("focus",(function(){UI.addClass(t,"uk-focus")})),e.addEventListener("blur",(function(){UI.removeClass(t,"uk-focus")}))},getFormControl:function(){return this.$input}},UI.definitions.i18nInput)})),m.module("cookieBanner").require("model","prompt").__init__((function(e,t){e.banner=UI.new({id:e.__name__,flexAlign:"middle",position:"absolute",padding:"small",hidden:UI.support.touch||window.$embedMode||localStorage.$termsAgreed===window.$termsVersion&&localStorage.$privacyAgreed===window.$privacyVersion,cells:[{view:"label",label:(localStorage.$termsAgreed?"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our new updated ":"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our ")+'<a href="/terms.html" target="_blank">legal terms</a> and <a href="/privacy.html" target="_blank">privacy policy</a>.',flexSize:"flex"},{id:"cookieBannerActions",flexSize:"none",flexAlign:"middle",margin:"left-sm",cells:[{id:"cookieBannerDeclineButton",view:"button",color:"muted",label:"DECLINE",on:{onClick:function(){var n,i=Fw.uuid4().toUpperCase();t.prompt.gt({en:"DANGER: Irreversible Data Loss!"},"Are you sure?",{message:{en:"Type '".concat(i,"' to confirm. This will PERMANENTLY delete all data this site stores for you including all projects, files, and settings!")},okLabel:{en:"DELETE EVERYTHING!",es:"¡ELIMINA TODO!",ja:"すべてを削除",pt:"EXCLUIR TUDO!",zh:"删除所有内容",zhTW:"刪除所有內容"},okColor:"danger",showInput:!0,onValidate:(n=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onResult:function(r){if(r!==i){var n=UI.interpolate('What you typed did not match "{{phrase}}".',{phrase:i});return t.prompt.It(n),Ww("banner_clear_all_reject","banner"),Promise.reject(n)}$$(e.__name__).hide(),t.model.ze("RISKY_STUFF").then((function(){t.files.jt().clearAll(),sessionStorage.clear(),localStorage.clear(),Ww("banner_clear_all","banner")}))}})}}},{id:"cookieBannerAgreeButton",view:"button",color:"primary",label:"AGREE",margin:"y-sm",on:{onClick:function(){$$(e.__name__).hide(),localStorage.$termsAgreed=window.$termsVersion,localStorage.$privacyAgreed=window.$privacyVersion,Ww("banner_accept_terms","banner")}}}]}]},document.body)})),m.module("diff-editor").__new__((function(e){var t=ace.require,r=t("ace/lib/dom"),n=t("ace/lib/oop"),i=t("ace/lib/lang"),a=t("ace/lib/event_emitter").EventEmitter,o=t("ace/layer/lines").Lines;e.Range=t("ace/range").Range;var u=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer ace_diff-gutter",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new o(this.element),this.$lines.$offsetCoefficient=1};function s(e){var t=r.createElement("span");r.addCssClass(t,"ace_line-number"),e.appendChild(t);var n=r.createElement("span");return r.addCssClass(n,"ace_line-number"),e.appendChild(n),e}(function(){n.implement(this,a),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){$LOG.warn&&$LOG.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){$LOG.warn&&$LOG.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var r=e[t],n=r.row,a=this.$annotations[n];a||(a=this.$annotations[n]={text:[]});var o=r.text?i.escapeHTML(r.text):r.html||"";-1===a.text.indexOf(o)&&a.text.push(o);var u=r.type;"error"==u?a.className=" ace_error":"warning"==u&&" ace_error"!=a.className?a.className=" ace_warning":"info"!=u||a.className||(a.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,r=e.end.row-t;if(0===r);else if("remove"==e.action)this.$annotations.splice(t,r+1,null);else{var n=new Array(r+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){this.config=e;var t=this.session;if(t){var r=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var i=t.getNextFoldLine(r),a=i?i.start.row:1/0,o=null,u=-1,c=r;;){if(c>a&&(c=i.end.row+1,a=(i=t.getNextFoldLine(c,i))?i.start.row:1/0),c>n){for(;this.$lines.getLength()>u+1;)this.$lines.pop();break}(o=this.$lines.get(++u))||(o=this.$lines.createCell(c,e,this.session,s),this.$lines.push(o)),this.$renderCell(o,e,i,c),c++}this.$updateGutterWidth(e)}},this.$updateGutterWidth=function(e){var t=this.session,r=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+n);var a=r?r.getWidth(t,i,e):i.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();(a+=o.left+o.right)===this.gutterWidth||isNaN(a)||(this.gutterWidth=a,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",a))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var r=0;r<t.length;r++){var n=t[r];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(r>0&&i&&i.start.row==t[r-1].row))break;n=t[r-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var r,n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,r){for(var n=[],i=t,a=this.session.getNextFoldLine(i),o=a?a.start.row:1/0;i>o&&(i=a.end.row+1,o=(a=this.session.getNextFoldLine(i,a))?a.start.row:1/0),!(i>r);){var u=this.$lines.createCell(i,e,this.session,s);this.$renderCell(u,e,a,i),n.push(u),i++}return n},this.$renderCell=function(e,t,n,i){var a,o=e.element,u=this.session,s=o.childNodes[0],c=o.childNodes[1],f=o.childNodes[2],l=u.$firstLineNumber,h=u.$breakpoints,d=u.$decorations,m=u.gutterRenderer||this.$renderer,v=this.$showFoldWidgets&&u.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[i]&&(g+=h[i]),d[i]&&(g+=d[i]),this.$annotations[i]&&(g+=this.$annotations[i].className),o.className!=g&&(o.className=g),v&&null==(a=v[i])&&(a=v[i]=u.getFoldWidget(i)),a){g="ace_fold-widget ace_"+a,"start"==a&&i==p&&i<n.end.row?g+=" ace_closed":g+=" ace_open",f.className!=g&&(f.className=g);var b=t.lineHeight+"px";r.setStyle(f.style,"height",b),r.setStyle(f.style,"display","inline-block")}else f&&r.setStyle(f.style,"display","none");var w=(m?m.getText(u,i,"left"):"").toString(),k=(m?m.getText(u,i,"right"):i+l).toString();return w!==s.data&&(s.textContent=w),k!==c.data&&(c.textContent=k),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,u)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,u)+"px"),e.row=i,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),r=this.element.getBoundingClientRect();return e.x<t.left+r.left?"markers":this.$showFoldWidgets&&e.x>r.right-t.right?"foldWidgets":void 0}}).call(u.prototype),e.DiffGutterLayer=u})),m.module("diff-editor").require("editor").__init__((function(e,t){var r=t.editor,n=ace.require("ace/ext/code_lens");function i(e,t){var r=e.codeLens;if(r){var n=[];r.forEach((function(e){var t=e.start,r=e.fold,i=e.range,a=e.header,o=e.oldValue;r?n.push({start:{row:t},command:{id:"toggleFoldAtRange",title:"Toggle Fold",arguments:[i,a]}}):"string"==typeof o&&n.push({start:{row:t},command:{id:"revertEdit",title:"Revert",arguments:[i,o]}})})),t(null,n)}else t(null,[])}UI.def({__name__:"diff-editor",__init__:function(){var t=this,a=t.$editor.$ace,o=a.renderer;t.observable=new zw,a.container.removeChild(o.$gutter),o.$gutter=UI.createElement("DIV"),o.$gutter.className="ace_gutter",a.container.appendChild(o.$gutter),o.$gutter.setAttribute("aria-hidden",!0);var u=o.$gutterLayer=new e.DiffGutterLayer(o.$gutter);u.on("changeGutterWidth",o.onGutterResize.bind(o)),u.setShowFoldWidgets(!1),u.$renderer={getWidth:function(){return 92},getText:function(e,t,r){var n=e.getFoldAt(t,0);return n&&n.isPatchHeader?"":e.rowNumbers[r][t]||""}},a.setOptions({scrollPastEnd:.5,theme:"ace/theme/"+r.zt(),enableLiveAutocompletion:!1,enableBasicAutocompletion:!1,enableSnippets:!1,showPrintMargin:!1,fadeFoldWidgets:!1}),a.commands.addCommand({name:"toggleFoldAtRange",readOnly:!0,exec:function(e,t){var r=k(t,2),n=r[0],i=r[1],a=e.session,o=n.start,u=a.getFoldAt(o.row,o.column);u?a.removeFold(u):(a.addFold(i,n),e.renderer.scrollCursorIntoView({row:o.row,column:0}))}}),a.commands.addCommand({name:"revertEdit",readOnly:!0,exec:function(e,r){var n=t.path,i=k(r,2),a=i[0],o=i[1];t.observable.run({action:"revert",path:n,changes:[{range:a,text:o}]})}}),n.registerCodeLensProvider(a,{provideCodeLenses:i})},addGutterDecorationForRows:function(e,t,r,n){for(var i=t;i<=r;i++)e.addGutterDecoration(i,n)},openDiff:function(e){var t=e.path,r=e.oldStr,n=e.newStr,i=e.inode,a=this.$editor.cachedModeSessionWithPath(t),o=ck.diff(r,n);Object.assign(this,{oldStr:r,newStr:n,path:t,inode:i}),this.renderDiff(a,o)},updateDiff:function(e){var t=this.oldStr||"";this.newStr=e,this.renderDiff(this.$editor.$ace.session,ck.diff(t,e))},renderDiff:function(t,n){var i=this,a=e.Range,o=i.$editor;i.diff=n,n.codeLens.forEach((function(e){e.range=a.fromPoints(e.range.start,e.range.end)})),t.$foldData=[],t.$foldData.toString=function(){return this.join("\n")},Object.keys(t.$backMarkers).forEach((function(e){return t.removeMarker(e)})),t.$decorations.forEach((function(e,t,r){return r[t]=""})),t.lineWidgets=[];var u=n.lines.reduce((function(e,t){return r=e,n=t.value,r.endsWith("\n")||n.startsWith("\n")?r+n:r+"\n"+n;var r,n}),"\n").slice(1);r.Ot(o,t,u),n.markers.forEach((function(e){var r=e.type,n=e.start,o=e.end;t.addMarker(a.fromPoints(n,o),"ace_".concat(r,"-line"),"fullLine"),i.addGutterDecorationForRows(t,n.row,o.row,"ace_".concat(r,"-line"))})),n.lines.forEach((function(e){var r=e.changed,n=e.ranges,i=e.row,o=e.type;if(r&&n){var u="added"===o?"ace_added-line-word":"ace_removed-line-word";n.forEach((function(e){var r=e.startIndex,n=e.endIndex;t.addMarker(a.fromPoints({row:i,column:r},{row:i,column:n}),u)}))}}));var s=n.codeLens;n.sections.forEach((function(e){var r=e.fold,n=e.header;if(r){var o=r.start,u=r.end,c=a.fromPoints(o,u),f=t.addFold(n,c);f.isPatchHeader=!0,t.addMarker(c,"ace_expanded-line","fullLine"),i.addGutterDecorationForRows(t,o.row,u.row,"ace_expanded-line"),s.push({start:o.row,header:n,fold:!0,range:f.range})}})),t.codeLens=s,t.rowNumbers={left:n.oldRows,right:n.newRows},o.setSession(t),o.$ace.$updateLenses(),i.observable.run({action:"render",diff:n})}},UI.definitions.touchEditor)})),m.module("diff").require("model","session","path","messages","diff-editor","fileBreadcrumb","gitClient","vibrate","editor","string").__init__((function(e,t){var r=t.model,n=t.session,i=t.path,a=t.encode,o=t.messages,u=t.gitClient,s=t.vibrate,c=t.editor,f=t.string;e.Diff=window.Diff,Object.assign(e,{model:r,path:i,session:n,encode:a,messages:o,gitClient:u,vibrate:s,editor:c,string:f})})).def({Ft:function(){return $$("diffFileBreadcrumb")},Pt:function(){return $$("diffEditor")},lines:function(){return $$("diffLinesCount")},Mt:(_w=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=this).session.me(),e.next=4,Promise.all([Uw.readFile(t,{encoding:"utf8"}).catch((function(){return""})),r.gitClient.Lt(n,Fw.relativeTo(t,n))]);case 4:return i=e.sent,a=k(i,2),o=a[0],u=a[1],e.next=10,Uw.inode(t);case 10:s=e.sent,r.Bt({path:t,oldStr:u,newStr:o,inode:s});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return _w.apply(this,arguments)}),Dt:(Tw=r(regeneratorRuntime.mark((function e(t,r,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw.exists(r);case 2:if(!e.sent){e.next=8;break}return e.next=6,Uw.write(r,n,{updateStatus:!0});case 6:e.next=8;break;case 8:return t.updateDiff(n),e.abrupt("return",this.editor.observable.run({action:"replaceInFile",path:r,inode:i,text:n}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return Tw.apply(this,arguments)}),Ut:function(){var e=this.Pt().undoManager;e&&e.canUndo()&&e.undo()},$t:function(e){var t=this.Pt().$editor,r=t.$ace.getFirstVisibleRow();e.sort((function(e,t){return t.start-e.start}));var n=e.find((function(e){var t=e.start;if(!e.fold&&t<r)return!0}));n&&t.scrollToLine(n.start,!0,!0)},Nt:function(e){var t=this.Pt().$editor,r=t.$ace.getLastVisibleRow();e.sort((function(e,t){return e.start-t.start}));var n=e.find((function(e){var t=e.start;if(!e.fold&&t>r)return!0}));n&&t.scrollToLine(n.start,!0,!0)},Bt:function(e){var t=e.path,r=e.oldStr,n=e.newStr,i=e.inode,a=Fw.relativeTo(t,this.session.me()),o=this.He();this.Ft().setFullPath(a),this.Pt().openDiff({path:t,oldStr:r,newStr:n,inode:i}),o.open(),Ww("diff_file","diff")}}),m.module("diff").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogStyle:["full","large","blank"],dialogClass:["uk-overflow-hidden","uk-position-relative"],header:{cls:["x-bar","float"],fill:"width",flexSize:"",flexAlign:"middle",cells:[{id:"diffBackButton",view:"menuIcon",cls:"x-bar-item",iconClass:"ti-arrow-left",on:{onMouseDown:function(){e.$modal.close()}}},{id:"diffFileBreadcrumbScroller",view:"scroller",nativeScroll:Ew.supported,scrollDirection:"x",cells:[{id:"diffFileBreadcrumb",view:"fileBreadcrumb",data:[]}]},{id:"diffLinesCount",flexSize:"none",template:'<span class="x-diff-added-lines">+{{addedLines}}</span><span class="x-diff-removed-lines">-{{removedLines}}</span>',addedLines:0,removedLines:0,setLines:function(e,t){this.set("addedLines",e),this.set("removedLines",t),this.render()}}]},body:{flex:!0,fill:"height",template:{flexLayout:"column",cells:[{id:"diffEditor",view:"diff-editor",keyboard:!1,editor:{view:"editor",readonly:!0,scrollMargin:56,editorOptions:{useWorker:!1}},on:{onInitialized:function(){var t=this;this.observable.subscribe((function(r){var n=r.action,i=r.diff,a=r.path,o=r.changes;switch(n){case"render":e.lines().setLines(i.markers.reduce((function(e,t){var r=t.lineCount;return t.added?e+r:e}),0),i.markers.reduce((function(e,t){var r=t.lineCount;return t.removed?e+r:e}),0));break;case"revert":e.editor.Gt({path:a,changes:o}).then((function(e){var r=e.text;t.updateDiff(r)}))}}))}}},{id:"diffKeyboard",cls:"x-editor-keyboard",flexSize:"none",cells:[{id:"diffKeyUp",view:"menuIcon",flexSize:"flex",iconClass:"ti-arrow-up",on:{onMouseDown:function(){e.vibrate.dt();var t=e.Pt().diff;t&&e.$t(t.codeLens)}}},{id:"diffKeyDown",view:"menuIcon",flexSize:"flex",iconClass:"ti-arrow-down",on:{onMouseDown:function(){e.vibrate.dt();var t=e.Pt().diff;t&&e.Nt(t.codeLens)}}},{id:"diffKeyUndo",view:"menuIcon",flexSize:"flex",iconClass:"ti-back-left",on:{onMouseDown:function(){e.vibrate.dt();var t=e.Pt(),r=t.newStr,n=t.path,i=t.inode;if(i){var a=e.editor.Wt({inode:i}).undoManager,o=e.editor.Ht("undo",r,a);e.Dt(t,n,o,i)}}}},{id:"diffKeyUndo",view:"menuIcon",flexSize:"flex",iconClass:"ti-back-right",on:{onMouseDown:function(){e.vibrate.dt();var t=e.Pt(),r=t.newStr,n=t.path,i=t.inode;if(i){var a=e.editor.Wt({inode:i}).undoManager,o=e.editor.Ht("redo",r,a);e.Dt(t,n,o,i)}}}}]}]}}},document.getElementById("appContainer"))}});var qw,Zw,Yw,Jw,Qw=Diff.diffLines,Xw=Diff.diffWordsWithSpace,ek=function(e){var t=e.changed,r=e.lines;return{changed:t,lines:void 0===r?[]:r,rows:[],oldRows:[],newRows:[],markers:[]}},tk=function(e,t,r){for(var n=t,i=0;n<e.length&&!((i+=e[n].newline)>=r);)n++;return e.slice(t,n+1)},rk=function(e){var t=e.lines,r=void 0===t?[]:t,n=e.sectionPadding,i=void 0===n?3:n,a=[];if(!r[0])return a;for(var o,u=0,s=0;u<r.length;){var c=tk(r,u,i+1),f=r[u];if(o)if(o.changed)f.changed?(s=0,o.lines.push(f),u++):(s+=f.newline)>i?(a.push(o),o=ek({changed:!1,lines:[f]}),u++):(o.lines.push(f),u++);else{var l=c.findIndex((function(e){return e.changed}));-1!==l?(a.push(o),o=ek({changed:!0,lines:c.slice(0,l)}),s=0,u+=l):(o.lines.push(f),u++)}else{var h=c.findIndex((function(e){return e.changed}))+1;h?(o=ek({changed:!0,lines:c.slice(0,h)}),u+=h):(o=ek({changed:!1,lines:[f]}),u++)}}return a.push(o),a},nk=function(e){for(var t=e.length,r=1/0;t--;){var n=e[t];n&&n<r&&(r=n)}return r===1/0?1:r},ik=function(e){for(var t=e.length,r=-1/0;t--;){var n=e[t];n&&n>r&&(r=n)}return r===-1/0?1:r},ak=function(e,t){e.modified=!0;var r=Xw(e.value,t.value);!function(e){for(var t=0,r=0,n=0;n<e.length;n++){var i=e[n],a=i.value,o=i.added,u=i.removed;i.startIndex=i.removed?t:r,t+=o?0:a.length,r+=u?0:a.length,i.endIndex=i.removed?t:r}}(r),e.ranges=r.filter((function(e){return e.removed})),t.ranges=r.filter((function(e){return e.added}))},ok=function(e,t,r){var n=t.length>0,i=r.length>0,a=n?t[0].row:r[0].row,o=t.reduce((function(e,t){return e+t.value}),""),u=r.reduce((function(e,t){return e+t.value}),""),s=n?ik(t.map((function(e){return e.newRow}))):1,c=r[r.length-1],f=(i?c.newRow+(c.value.match(/\n/g)||[]).length:s)-1;return{start:a,oldValue:o,newValue:u,range:{start:{row:(i?r[0].newRow:s)-1,column:e},end:{row:f,column:u.split("\n").pop().length}}}},uk=function(e){var t=e.modified,r=e.added,n=e.removed;return t?"modified":r?"added":n?"removed":null},sk=function(e,t){var r=e[t-1],n=e[t-2],i=r.value,a=r.row;return r.newline?r.isLastRow||!n?{row:a+1,column:0}:{row:n.row,column:n.value.length}:{row:a,column:i.length}},ck={diff:function(e,t){var r=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.added=!!n.added,n.removed=!!n.removed;var i=n.value,a=n.added,o=n.removed;if(n.changed=!(!a&&!o),i.includes("\n")){var u=0;do{var s=i.indexOf("\n",u),c=void 0;-1===s?(c=i.slice(u),u=i.length):c=i.slice(u,s),c.length&&t.push({added:a,removed:o,changed:n.changed,count:1,newline:0,value:c}),-1!==s&&(t.push({added:a,removed:o,changed:n.changed,count:1,newline:1,value:"\n"}),u=s+1)}while(u<i.length)}else n.newline=0,t.push(n)}var f=t[t.length-1];if(f)if(f.newline){var l=f.added,h=f.removed,d=f.changed;t.push({added:l,removed:h,changed:d,count:1,newline:0,isLastRow:!0,value:""})}else f.isLastRow=!0;return t}(Qw(e||"",t||"",{newlineIsToken:!0})),n=rk({lines:r});return function(e){for(var t=1,r=1,n=0,i=0;i<e.length;i++)for(var a=e[i],o=a.lines,u=a.oldRows,s=a.newRows,c=a.rows,f=0;f<o.length;f++){var l=o[f],h=o[f+1];l.row=n,l.oldRow=t,l.newRow=r,c.push(n),l.newline?(n++,u.push(l.added?0:t++),s.push(l.removed?0:r++)):(l.isLastRow||l.changed&&h&&h.changed&&h.added===l.removed)&&(n++,u.push(l.added?0:t),s.push(l.removed?0:r))}}(n),n.forEach((function(e){var t,r,n;e.header=(r=(t=e).oldRows,n=t.newRows,"@@ Ln -".concat(nk(r),"↔").concat(ik(r)," +").concat(nk(n),"↔").concat(ik(n)," @@")),function(e){var t=[],r=[];e.forEach((function(e,n,i){if(e.removed){var a=i[n+1];a&&(a.added?t.length?t.push(e):ak(e,a):a.removed&&t.push(e))}else if(e.added){t.length&&r.push(e);var o=i[n+1];o&&o.added||(t.forEach((function(e,t){var n=r[t];n&&ak(e,n)})),t.length=0,r.length=0)}else t.length=0,r.length=0}))}(e.lines),e.codeLens=function(e){var t=e.lines,r=[];if(!e.changed)return r;for(var n=0,i=0,a=[],o=[],u=t.length;n<u;){var s=t[n],c=s.changed,f=s.removed;if(c){var l=f?3:2;f?a.push(s):o.push(s);do{var h=t[++n];if(!h)break;if(h.removed&&1&l)a.push(h);else{if(!(h.added&&2&l))break;l=2,o.push(h)}}while(n<u);r.push(ok(i,a,o)),a.length=o.length=0,i=s.newline?0:i+s.value.length}else i=s.newline?0:i+s.value.length,n++}return(a.length||o.length)&&(r.push(ok(i,a,o)),a.length=o.length=0),r}(e),e.markers=function(e){for(var t=[],r=0;r<e.length;){var n=e[r],i=uk(n);if(i){n.type=i;do{r++}while(r<e.length&&uk(e[r])===i);var a={row:n.row+n.newline,column:0},o=sk(e,r);t.push({type:i,added:n.added,removed:n.removed,lineCount:o.row-a.row+1,start:a,end:o})}else r++}return t}(e.lines),e.fold=function(e){var t=e.changed,r=e.rows,n=e.lines;if(!t)return{start:{row:r[0],column:0},end:sk(n,n.length)}}(e)})),{lines:n.reduce((function(e,t){var r=t.lines;return e.concat(r)}),[]),markers:n.reduce((function(e,t){var r=t.markers;return e.concat(r)}),[]),oldRows:n.reduce((function(e,t){var r=t.oldRows;return e.concat(r)}),[]),newRows:n.reduce((function(e,t){var r=t.newRows;return e.concat(r)}),[]),codeLens:n.reduce((function(e,t){var r=t.codeLens;return e.concat(r)}),[]),sections:n}},divySections:rk};m.module("copyToProject").require("model","project").__init__((function(e,t){var r=t.model,n=t.project;Object.assign(e,{model:r,project:n})})).def({Vt:function(){return $$("copyToProjectLabel")},Kt:function(){return $$("copyToProjectSelect")},qt:function(){return $$("copyToProjectInput")},Zt:function(){return $$("copyToProjectInputContainer")},Yt:function(){return $$("copyToProjectAddToggleIcon")},Jt:function(e){var t=this.Yt().isSelected(),r=Fw.basename(e);this.Zt().showBatch([t?"input":"select","toggle"]),this.Vt().setValue(t?'Create a new project for "'.concat(r,'":'):'Select a project to copy "'.concat(r,'" to.')),t&&this.qt().focus()},Qt:(Zw=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(r=this).model.Te(),i=r.Yt(),0===n.length&&!i.isSelected()||n.length>0&&i.isSelected()?i.dispatch("onToggled"):r.Jt(t),r.Kt().setData(n.map((function(e){var t=e.dir;return{label:Fw.basename(t),value:t}}))),r.He().open(t);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return Zw.apply(this,arguments)}),Xt:(qw=r(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w.tmpDirAsync();case 2:return i=e.sent,a=Fw.relativeTo(t,n||i),e.abrupt("return",this.project.er({name:Fw.basename(r),uniqueName:!1,currentFilePath:a,buildCallbackAsync:function(e){var r=e.dir;return Uw.mv(t,Fw.join(r,a))}}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return qw.apply(this,arguments)})}),m.module("copyToProject").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"COPY TO PROJECT",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"copyToProjectLabel",view:"label",margin:"top"},{id:"copyToProjectInputContainer",cls:"uk-form",margin:"top-sm",flexAlign:"middle",cells:[{id:"copyToProjectSelect",batch:"select",view:"select",flexSize:"flex",data:[],style:{maxWidth:"calc(100% - 56px)"}},{id:"copyToProjectInput",batch:"input",view:"input",flexSize:"flex",style:{maxWidth:"calc(100% - 56px)"},validate:function(e){var t=this.getValue();t?e&&e(t):this.raiseConcern(wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.NameFor(wb.Objects.Project)))}},{id:"copyToProjectAddToggleIcon",batch:"toggle",view:"menuToggle",margin:"left",icon:"plus",title:"Create Project",on:{onToggled:function(){e.Jt(e.$modal.filepath)}}}]}]},footer:{flexAlign:"right",cells:[{id:"copyToProjectCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){e.$modal.close()}}},{id:"copyToProjectOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=e.$modal;e.Yt().isSelected()?e.qt().validate((function(r){e.Xt(t.filepath,r),t.close()})):(e.Xt(t.filepath,e.Kt().getValue()),t.close())}}}]},on:{onOpened:function(e,t,r){this.filepath=r}}},document.getElementById("appContainer"))}}),m.module("progress").__init__((function(e){var t,r,n,i,a,o;e.ProgressReporter={reportProgress:function(t){var r=t.phase,n=t.loaded,i=t.total,a=r,o=-1;t.lengthComputable?(a="(".concat(n,"/").concat(i,") ")+a,o=n/i*100):a="(".concat(n,") ")+a,e.Le(a,o)},throttledReportProgress:(t=function(t){e.ProgressReporter.reportProgress(t)},r=30,o=0,function(){return n=this,i=arguments,o++,a||(a=new Promise((function(e){requestAnimationFrame((function(){o=0,a=null,e(t.apply(n,i))}))}))),o>=r?a:null}),close:function(t){t?e.tr():e.Be()}}})).def({tr:function(){this.$modal&&(this.$modal.close(),$$("progressBar").setValue(0))},Be:function(){var e=this;setTimeout((function(){e.tr()}),1500)},Le:function(e,t,r){var n=this.He(),i=$$("animatedProgressBar"),a=$$("progressBar"),o=$$("progressCloseButton");$$("progressLabel").setValue(e),t<0?(i.show(),a.hide()):(i.hide(),a.show(),a.setValue(t)),r?o.show():o.hide(),UI.hasClass(n.el,"uk-open")||n.open(),this.cancelCallback=r,r?o.show():o.hide()}}),m.module("progress").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,bgClose:!1,center:!1,body:{flexLayout:"column",margin:"bottom",cells:[{id:"progressLabel",cls:"x-text-overflow-ellipsis",view:"label",template:"{{label}}"},{id:"progressBar",view:"progress",size:"small",color:"primary",margin:"top"},{id:"animatedProgressBar",view:"progress",size:"small",value:100,color:"primary striped",margin:"top"}]},footer:{flexAlign:"right",cells:[{id:"progressCloseButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){e.cancelCallback&&e.cancelCallback(),e.$modal.close()}}}]}},document.getElementById("appContainer"))}}),m.module("prompt").__new__((function(e){window.prompt=function(t,r){e.gt(t,r,{showInput:!0})},e.activeModal=null})).def({K:function(e,t,r){this.gt(e,"",{message:t,hideCancel:!0,onResult:function(){if(r)return r()}})},rr:function(){return this.activeModal==this.modalGreen?this.modalBlue:this.modalGreen},gt:function(e,t,r){t=t||"",r=r||{};var n=this.rr();if(this.activeModal=n,n.label().config.label="string"==typeof e?e:yb(e),n.label().render(),null!=t){var i=n.valueInput();i.setValue(t),i.set("help",""),i.setFormClass("")}n.onResult=r.onResult,n.onDismiss=r.onDismiss,n.onClosed=r.onClosed,n.onValidate=r.onValidate,this.nr(n,r),n.open()},nr:function(e,t){var r=t.hideCancel,n=t.showInput,i=t.placeholders,a=t.okLabel,o=t.okColor,u=t.message,s=t.cancelLabel,c=t.cancelColor,f=e.okButton();f.config.label=a?"string"==typeof a?a:yb(a):wb.Elements.Ok,o&&f.set("color",o),f.render();var l=e.cancelButton();r?l.hide():l.show(),l.config.label=s?"string"==typeof s?s:yb(s):wb.Elements.Cancel,c&&l.set("color",c),l.render();var h=e.textLabel();u?(h.element.innerHTML="string"==typeof u?u:yb(u),h.show()):h.hide();var d=e.valueInput();n?(i&&d.set("placeholder",i[$w.locale]||i.en||""),d.show()):d.hide()},ir:function(e){return Promise.resolve(this.activeModal?this.activeModal.result(e):null)},ar:(Jw=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeModal){e.next=3;break}return e.next=3,this.activeModal.cancel();case 3:case"end":return e.stop()}}),e,this)}))),function(){return Jw.apply(this,arguments)}),or:(Yw=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeModal){e.next=3;break}return e.next=3,this.activeModal.ok();case 3:case"end":return e.stop()}}),e,this)}))),function(){return Yw.apply(this,arguments)}),ur:function(e){this.activeModal&&this.activeModal.valueInput().setValue(e)},It:function(e){this.activeModal&&this.activeModal.valueInput().raiseConcern(e)}}),m.module("prompt").__init__((function(e){function t(e){return{id:"promptModal"+e,cls:"x-prompt",view:"modal",closeButton:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",id:"promptLabel"+e,label:"",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"promptTextLabel"+e,view:"label",margin:"top",hidden:!0},{id:"promptValueInput"+e,view:"input",width:"full",margin:"top",on:{onKeyUp:function(t,r,n){var i=this,a=$$("promptModal"+e);"Enter"==n.key?a.ok():a.onValidate&&a.onValidate(this.getValue()).then((function(){return i.raiseConcern(null)}),this.raiseConcern.bind(this))}}}]},footer:{flexAlign:"right",cells:[{id:"promptCancelButton"+e,view:"button",on:{onClick:function(){var t=$$("promptModal"+e);!!t.onDismiss&&t.onDismiss(t.valueInput().getValue())||(t.close(),t.onClosed&&t.onClosed(!1))}}},{id:"promptOkButton"+e,cls:"x-prompt-ok-button",view:"button",on:{onClick:(t=r(regeneratorRuntime.mark((function t(){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=$$("promptModal"+e),n=r.valueInput(),i=n.getValue(),!r.onValidate){t.next=17;break}return t.prev=4,t.next=7,r.onValidate(i);case 7:a=t.sent,n.raiseConcern(null),r.result(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),n.raiseConcern(t.t0);case 15:t.next=18;break;case 17:r.result(i);case 18:case"end":return t.stop()}}),t,null,[[4,12]])}))),function(){return t.apply(this,arguments)})}}]},label:function(){return $$("promptLabel"+e)},textLabel:function(){return $$("promptTextLabel"+e)},valueInput:function(){return $$("promptValueInput"+e)},cancelButton:function(){return $$("promptCancelButton"+e)},okButton:function(){return $$("promptOkButton"+e)},result:function(e){var t,r=this;return r.onResult&&(t=r.onResult(e)),Promise.resolve(t).then((function(e){return r.close(),r.onClosed&&r.onClosed(!0),e}))},ok:function(){return this.okButton().dispatch("onClick")},cancel:function(){return this.cancelButton().dispatch("onClick")}};var t}e.modalGreen=UI.new(t("Green"),document.getElementById("appContainer")),e.modalBlue=UI.new(t("Blue"),document.getElementById("appContainer"))})),m.module("searchSettings").require("fileTree","fileTreeController","session").__init__((function(e,t){var r=t.session,n=t.fileTreeController;e.minimatch=window.minimatch,Object.assign(e,{session:r,filteredFileList:[],treeController:new n.FileTreeController(e.sr),observable:new zw})})).def({jt:function(){return this.treeController},sr:function(){return $$("searchSettingsFileTree")},qt:function(){return $$("searchSettingsInput")},cr:function(){this.He().open()},lr:function(){var e=this.qt();return e&&e.getValue()?this.filteredFileList:null},He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["full","large","blank"],header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",attributes:kb({en:"FILTER SEARCH FILES",es:"FILTRAR ARCHIVOS DE BÚSQUEDA",ja:"フィルター検索ファイル",pt:"FILTRE ARQUIVOS DE PESQUISA",ru:"ФИЛЬТР ПОИСК ФАЙЛОВ",zh:"筛选器搜索文件",zhTW:"篩選器搜索檔案"}),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"searchSettingsBackButton",view:"menuIcon",icon:"close",title:"Close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"searchSettingsInput",cls:"x-menu-search",view:"searchField",i18nPlaceholders:{en:"File Glob Pattern",es:"Patrones de archivos, p.ej: *.js",ja:"ファイルパターン 例 *.js",pt:"Glob Padrões de Arquivo",ru:"Шаблоны файлов (например, *.js)",zh:"文件通配符，比如 *.js",zhTW:"檔案式樣，例如：*.js"},clearSearch:!0,on:{onInput:function(){e.sr().refresh()},onKeyUp:function(t,r,n){"Enter"===n.key&&(e.$modal.close(),e.observable.run({action:"updateSettings"}))}}}]},body:{view:"scroller",nativeScroll:Ew.supported,cells:[{id:"searchSettingsFileTree",view:"fileTree",flexSize:"none",draggable:function(){return!1},data:[],filter:function(t){var r=e.qt().getValue(),n=!0;return r&&(n=t.$branch?t.$children.some((function(t){return e.minimatch(t.path,r,{matchBase:!0})})):e.minimatch(t.path,r,{matchBase:!0})),n&&t.file&&e.filteredFileList.push(t.path),n&&!t.$parentClosed},on:{onRefresh:function(){e.filteredFileList.length=0}}}]},on:{onOpened:function(){var t=e.session.ce(),r=e.session.me(),n=e.jt();n.clearAll(),t&&r&&(n.addRoot(r),n.sync(r).then((function(){e.sr().refresh()})))}}},document.getElementById("appContainer"))}});var fk,lk={0:"warning",1:"error",2:"info",3:"info"},hk=function(){function e(t,r){n(this,e),this.sender=t,this.session=r,this._bindEvents()}return a(e,[{key:"_bindEvents",value:function(){var e=this;this.sender.on("change",(function(t){var r=t.data;return e._onUpdate(r)}))}},{key:"_onUpdate",value:function(e){var t=this,r=this.sessionPath;if(r){e.length%2>0&&$LOG.warn("Corrupt document state: ".concat(r));for(var n,i,a=[],o=0;o<e.length;)n=e[o],i=e[o+1],o+=2,Array.isArray(i)?a.push({text:i.join("\n"),start:n,end:n}):a.push({text:"",start:n,end:i});Ak.editFile(r,a,(function(e){e&&(e.missing?e.name===r&&Ak.addFile(r,t.session.getValue()):t.validate())}))}}},{key:"validate",value:function(){var e=this,t=this.session.getValue(),r=this.sessionPath;r&&!/^\s*$/.test(t)?Ak.debouncedDoValidate(r,(function(t){t&&t.validate?e.sender.emit("annotate",t.validate.map((function(e){var t=e.start,r=e.text,n=e.rule,i=e.severity;return{row:t.line,column:t.character,text:r,type:lk[i]||"info",rule:n}}))):e.sender.emit("annotate",[])})):this.sender.emit("annotate",[])}},{key:"setValue",value:function(e){var t=this,r=this.sessionPath;r&&Ak.updateFile(r,e,(function(){return t.validate()}))}},{key:"getCompletions",value:function(e,t,r,n,i){var a=this.sessionPath;a&&Ak.getCompletions(a,r,e.autoCompleteTriggerCharacter,(function(e){if(e)if(e.completions){e.completions.forEach((function(e){e.score=jaroWinkler.distance(n,e.label)+1})),e.completions.sort((function(e,t){return t.score-e.score}));var r=e.completions.slice(0,30);i(null,r)}else e.missing&&e.name===a&&Ak.addFile(a,t.getValue())}))}},{key:"sessionPath",get:function(){if(this.session.$blankSession)return"@blank.js";var e=this.session.inode;if(e){var t=Uw.inodePathSync(e);if(t)return t.startsWith("ext://")?t.slice(t.lastIndexOf("?")+1):t}return null}}]),e}();ace.config.set("LanguageServerDelegate",hk),m.module("editor").__init__((function(e){e.HintManager=function(e){var t=this,r=e.$ace;r.on("blur",(function(){e.observable.run({action:"blur"})})),r.on("focus",(function(){e.observable.run({action:"focus"})})),r.on("click",(function(){t.close()})),this.editor=e,this.hintPopup=UI.new({view:"hintPopup"},e.element)},e.HintManager.prototype={open:function(e,t){this.hintPopup.open(this.editor,e,t)},close:function(){this.hintPopup.close()},isOpened:function(){return this.hintPopup.isOpened()}}})).__init__((function(){UI.def({__name__:"hintPopup",__after__:function(){this.element.style.margin=0,this.element.style.pointerEvents="auto",this.element.tabIndex=-1},displayPartToHTML:function(e){var t="";switch(e.kind){case"functionName":t="ace_entity ace_name ace_function";break;case"parameterName":t="ace_variable ace_parameter";break;case"keyword":t="ace_storage ace_type";break;case"punctuation":case"space":case"text":default:return e.text}return UI.interpolate('<span class="{{class}}">{{text}}</span>',{class:t,text:e.text})},buildInfoHTML:function(e){var t=e.displayParts.map(this.displayPartToHTML);return e.documentation&&(t.push('<div class="ace_hint_documentation">'),(t=t.concat(e.documentation.map(this.displayPartToHTML))).push("</div>")),t.join("")},buildSignatureHTML:function(e){var t=this,r=e.items[e.selectedItemIndex],n=r.separatorDisplayParts.map(t.displayPartToHTML),i=r.prefixDisplayParts.map(t.displayPartToHTML);return r.parameters.forEach((function(r,a,o){a===e.argumentIndex&&i.push('<span class="selected-param">'),i=i.concat(r.displayParts.map(t.displayPartToHTML)),a===e.argumentIndex&&i.push("</span>"),o.length>a+1&&(i=i.concat(n))})),i=i.concat(r.suffixDisplayParts.map(t.displayPartToHTML)),r.documentation&&(i.push('<div class="ace_hint_documentation">'),(i=i.concat(r.documentation.map(t.displayPartToHTML))).push("</div>")),i.join("")},open:function(e,t,r){var n=this.element;if(t)if(t.info)n.innerHTML=this.buildInfoHTML(t.info);else{if(!t.signature)return this.close();n.innerHTML=this.buildSignatureHTML(t.signature)}else r&&(n.textContent=r);n.parentNode||e.element.appendChild(n),n.className="ace-lang-hint "+e.getTheme().cssClass;var i=e.getCursorElement();if(i){var a=i.getBoundingClientRect(),o=e.element.getBoundingClientRect();this.positionNextTo(i,"bottom-center",0,2),this.moveWithinBoundary(o,{bottom:a.top},{left:e.$ace.renderer.gutterWidth+5})}},close:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},isOpened:function(){return!!this.element.parentNode}},UI.definitions.element,UI.AbsolutePositionMethods)})),m.module("editor").__init__((function(e){e.IndentManager=function(t){this.editor=t,t.$ace.on("paste",(function(r){if(t.focus(),1==t.getAllSelectionRanges().length&&e.hr(r.text.split("\n"))&&!t.isCurrentSessionBlank()){var n=t.getCursorPosition(),i=t.getSession(),a=i.getState(n.row),o=i.getLine(n.row),u=t.getTabString(),s=i.getMode().getNextLineIndent(a,o.slice(0,n.column),u),c=t.getTabSize();r.text=e.dr(r.text,t.getMode(),s,c)}}))},e.IndentManager.prototype={indent:function(t){var r=this.editor,n=r.getValue(),i=e.dr(n,r.getMode(),"",r.getTabSize()),a=r.getCursorPosition();(t||e.mr(n,i))&&(r.setValue(i),r.navigateTo(a.row,a.column))}}})).def({vr:function(e,t,r){var n={indent_size:r,indent_char:" ",max_preserve_newlines:"0",preserve_newlines:!0,keep_array_indentation:!0,break_chained_methods:!1,indent_scripts:"normal",brace_style:"none,preserve-inline",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!0,indent_empty_lines:!1};switch(t){case".less":case".scss":case".css":return beautifier.css(e,n);case".json":case".js":case".jsx":case".ts":return beautifier.js(e,n);case".html":case".htm":case".xhtml":case".xml":case".svg":return beautifier.html(e,n);default:return e}},dr:function(e,t,r,n){r=r||"";for(var i=(e=this.vr(e,this.pr(t),n)).split(/[\r]?\n/gi),a=1;a<i.length;a++)i[a]=r+i[a];return i.join("\n")},hr:function(e){return(e=e.filter((function(e){return!/^\s*$/.test(e)}))).length>1},mr:function(e,t){if(e!=t){var r=t.split(/\r?\n/gi);if(r.length<2e4)for(var n=e.split(/\r?\n/gi),i=Math.ceil(.05*Math.min(r.length,n.length)),a=0,o=0;o<r.length;o++)if(r[o]!=n[o]&&++a>=i)return!0}return!1}}),m.module("editor").def({gr:function(e){var t=this.br,r=e.$ace.commands,n=r.bindKey.bind(r);n(t("Ctrl-Shift-D|Ctrl-Y","Command-Shift-D|Command-Y"),"removeline"),n(t("Ctrl-D","Command-D"),"copylinesdown"),n(t("Ctrl-R","Command-Option-F"),"replace"),n(t("Ctrl-Shift-Up","Command-Shift-Up"),"movelinesup"),n(t("Ctrl-Shift-Down","Command-Shift-Down"),"movelinesdown"),r.removeCommand("showSettingsMenu"),r.removeCommand("jumptomatching"),r.removeCommand("modifyNumberUp"),r.removeCommand("modifyNumberDown"),r.removeCommand("toggleFoldWidget"),r.removeCommand("gotoline")},br:function(e,t){return{win:e,mac:t}}}),m.module("editor").require("model","prompt","session","path","set","vibrate","memory").__init__((function(e,t){var r=t.completion,n=t.model,i=t.lang,a=t.prompt,o=t.session,u=t.path,s=t.set,c=t.vibrate,f=t.memory;Object.assign(e,{completion:r,model:n,lang:i,prompt:a,session:o,path:u,set:s,vibrate:c,memory:f}),e.Range=ace.require("ace/range").Range})).__init__((function(e,t){var r=t.memory,i=function(){function t(e){n(this,t),this._editor=e,this._bindCommands(),this._bindSubscribers()}return a(t,null,[{key:"getSessionPath",value:function(e){if(e.$blankSession)return"@blank.js";var t=e.inode;if(t){var r=Uw.inodePathSync(t);if(r)return r.startsWith("ext://")?r.slice(r.lastIndexOf("?")+1):r}return null}}]),a(t,[{key:"_bindCommands",value:function(){var e=this._editor,t=this.getSignature.bind(this),r=this.getInfo.bind(this),n=this.renameSymbol.bind(this),i=this.goToDefinition.bind(this);e.getSignature=t,e.getInfo=r,e.renameSymbol=n,e.goToDefinition=i,e.addCommands([{name:"goToDefinition",exec:i,bindKey:{win:"Ctrl-B",mac:"Command-B"}},{name:"getInfo",exec:r,bindKey:{win:"Ctrl-I",mac:"Command-I"}},{name:"getSignature",exec:function(){return t("")},bindKey:{win:"Ctrl-L",mac:"Command-L"}},{name:"renameSymbol",exec:n,bindKey:{win:"Alt-R|F2",mac:"Option-R|F2"}}])}},{key:"_bindSubscribers",value:function(){var e=r.H.bind(r);this._editor.observable.subscribe((function(t){var n=t.action,i=t.path,a=t.text;"sessionChange"===n&&(Ak.setCurrentDirectory(Fw.dirname(i)),r.Z(a)&&!Uw.isBinaryContent(a)&&Ak.addFile(i,a,e))}))}},{key:"goToDefinition",value:function(){var r=this._editor,n=r.getSession(),i=r.getCursorPosition();Ak.goToDefinition(t.getSessionPath(n),i,n.getDocument(),e.goToFile.bind(e))}},{key:"renameSymbol",value:function(){var r=this._editor,n=r.getSession();Ak.getRenameLocations(t.getSessionPath(n),r.getCursorPosition(),n.getDocument(),e.renameSymbol.bind(e))}},{key:"getSignature",value:function(e){var r=this._editor,n=r.getCursorPosition();Ak.getSignature(t.getSessionPath(r.getSession()),n,e,(function(e){return r.hintManager.open(e)}))}},{key:"getInfo",value:function(){var e=this._editor;Ak.getInfo(t.getSessionPath(e.getSession()),e.getCursorPosition(),(function(t){return e.hintManager.open(t)}))}}]),t}();e.LanguageServerDecorator=i})).def({goToFile:function(e){if(e&&e.def&&1==e.def.length){var t=e.def[0];this.wr(t.fileName,t.textSpan.startPosition)}},renameSymbol:function(e){var t=this;if(e&&e.renameInfo&&e.renameInfo.canRename){var r=e.renameInfo.kind.toUpperCase();t.prompt.gt(wb.Actions.Rename(wb.Objects.Echo(r)),e.renameInfo.fullDisplayName,{showInput:!0,onResult:function(r){t.applyChanges(r,e.rename)}})}},applyChanges:function(e,t){var r,n,i=Object.create(null);for(r=0;r<t.length;++r)i[(n=t[r]).fileName]=i[n.fileName]||[],i[n.fileName].push(n);var a=[];for(var o in i){var u=[];for((t=i[o]).sort(s),r=0;r<t.length;++r)n=t[r],u.push({text:e,range:new this.Range(n.textSpan.startPosition.row,n.textSpan.startPosition.column,n.textSpan.endPosition.row,n.textSpan.endPosition.column)});a.push(this.Gt({path:o,changes:u}))}return Promise.all(a);function s(e,t){return e.textSpan.start-t.textSpan.start}}}),m.module("editor").__init__((function(e){var t=function(){function t(e){var r=this;n(this,t),this.editor=e,this.setUpContextMenus(e),e.$ace.renderer.$gutter.addEventListener("contextmenu",(function(t){UI.preventEvent(t);var n=r.lazyGutterContextMenu();n.open(e),n.position(t.clientY,t.clientX),n.moveWithinBoundary()})),e.$ace.renderer.container.addEventListener("contextmenu",(function(t){UI.preventEvent(t),setTimeout((function(){var n=r.lazyEditorContextMenu();n.open(e),n.position(t.clientY,t.clientX),n.moveWithinBoundary()}),25)}))}return a(t,[{key:"setUpContextMenus",value:function(t){var r=this,n=["typescript","typescript_ls","tsx","tsx_ls","javascript","javascript_ls","jsx","jsx_ls"];this.lazyEditorContextMenu=function(){return r._editorContextMenu?r._editorContextMenu:r._editorContextMenu=UI.new({view:"dropdown",dropdownClass:"uk-dropdown-close x-editor-context-menu",dropdownAnimation:"",dropdown:{view:"list",listStyle:"dropdown",filter:function(e){return(!e.mode||!this.mode||e.mode.includes(this.mode))&&(!e.tokenTypes||e.tokenTypes.includes(this.leftTokenType)||e.tokenTypes.includes(this.rightTokenType))&&(!e.excludeTokenTypes||e.excludeTokenTypes.includes(this.tokenType))},data:[{view:"keybindingLink",label:yb(wb.Actions.GoTo(wb.Objects.Definition)),editor:t,command:"goToDefinition",mode:n,tokenTypes:"identifier",value:"jump"},{view:"keybindingLink",label:wb.Elements.ShowInfo,editor:t,command:"getInfo",mode:n,tokenTypes:["entity.name.function","identifier"],value:"info"},{view:"keybindingLink",editor:t,command:"renameSymbol",label:yb(wb.Actions.Rename(wb.Objects.Echo("Symbol"))),mode:n,tokenTypes:["entity.name.function","identifier"],value:"rename"},{$divider:!0,mode:n,tokenTypes:["entity.name.function","identifier"]},{view:"keybindingLink",editor:t,command:"findInFile",label:wb.Elements.FindAll,value:"find",excludeTokenTypes:["",null]},{view:"keybindingLink",editor:t,command:"format",label:wb.Elements.Format,value:"format"},{$divider:!0},{view:"keybindingLink",editor:t,command:"undo",label:wb.Elements.Undo,value:"undo"},{view:"keybindingLink",editor:t,command:"redo",label:wb.Elements.Redo,value:"redo"}],on:{onItemClick:function(t){var r=this.editor;if(r)switch(t.value){case"find":e.kr(r.getSelectedTextOrWordAtCursor()),Ww("editor_menu_find","editor_menu");break;case"format":r.indentManager.indent(!0),Ww("editor_menu_format","editor_menu");break;case"jump":r.goToDefinition(),Ww("editor_menu_goto","editor_menu");break;case"info":r.getInfo(),Ww("editor_menu_info","editor_menu");break;case"rename":r.renameSymbol(),Ww("editor_menu_rename","editor_menu");break;case"undo":r.undo(),Ww("editor_menu_undo","editor_menu");break;case"redo":r.redo(),Ww("editor_menu_redo","editor_menu")}},onOpened:function(e,t,r){r&&r.execCommand&&(this.editor=r,this.mode=this.editor.getMode(),this.leftTokenType=this.editor.getTokenType(),this.rightTokenType=this.editor.getTokenType(1),this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body)},this.lazyGutterContextMenu=function(){return r._gutterContextMenu?r._gutterContextMenu:r._gutterContextMenu=UI.new({view:"dropdown",dropdownClass:"uk-dropdown-close x-editor-context-menu",dropdownAnimation:"",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"keybindingLink",editor:t,command:"goToLine",label:yb(wb.Actions.GoTo(wb.Objects.Line)),value:"gotoline"}],on:{onItemClick:function(e){var t=this.editor;if(t)switch(e.value){case"gotoline":t.execCommand(e.command)}},onOpened:function(e,t,r){r&&r.execCommand&&(this.editor=r,this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body)}}}]),t}();e.ContextMenuManager=t})),m.module("editor").require("model","session","messages","memory").__new__((function(e){e.editorComponents=[],e.touchEditors=[],e.defaultTabSize=2,e.defaultWordWrap=!0,e.defaultUseAceWorkers=!1,e.SupportedExtensions={".js":"javascript_ls",".jsx":"jsx_ls",".ts":"typescript_ls",".tsx":"tsx_ls",".coffee":"coffee",".json":"json",".yaml":"yaml",".yml":"yaml",".md":"markdown",".txt":"text",".as":"actionscript",".bat":"batchfile",".c":"c_cpp",".cfm":"coldfusion",".clj":"clojure",".cpp":"c_cpp",".cs":"csharp",".dart":"dart",".ejs":"ejs",".ex":"elixir",".exs":"elixir",".fs":"fsharp",".fsx":"fsharp",".gitignore":"gitignore",".go":"golang",".h":"c_cpp",".handlebars":"handlebars",".hbs":"handlebars",".hs":"haskell",".hx":"haxe",".hjson":"hjson",".ini":"ini",".java":"java",".jsp":"jsp",".jl":"julia",".kt":"kotlin",".kts":"kotlin",".tex":"latex",".lgt":"logtalk",".lua":"lua",".m":"objectivec",".ml":"ocaml",".mli":"ocaml",".pas":"pascal",".php":"php",".pl":"perl",".pp":"pascal",".psql":"pgsql",".py":"python",".r":"r",".rb":"ruby",".red":"red",".reds":"red",".rhtml":"html_ruby",".rs":"rust",".rss":"xml",".scala":"scala",".sc":"scala",".scm":"scheme",".ss":"scheme",".sh":"sh",".sql":"sql",".swift":"swift",".xq":"xquery",".xql":"xquery",".xqm":"xquery",".xquery":"xquery",".xqy":"xquery",".svg":"svg",".xml":"xml",".html":"html_ls",".xhtml":"html_ls",".htm":"html_ls",".jade":"jade",".pug":"jade",".css":"css_ls",".scss":"scss_ls",".sass":"sass",".less":"less_ls",".styl":"stylus"},e.SupportedModes=Object.keys(e.SupportedExtensions).reduce((function(t,r){return t[e.SupportedExtensions[r]]=r,t}),{})})).__init__((function(e,t){var r=t.model,n=t.session,i=t.messages,a=t.vibrate,o=t.memory;Object.assign(e,{model:r,session:n,messages:i,vibrate:a,memory:o,observable:new zw}),e.$dummyAceSession=ace.createEditSession("","text"),e.$dummyUndoManager=e.$dummyAceSession.getUndoManager(),e.$sessionMetaCache={},o.observable.subscribe((function(t){t.lowOnMemory&&e.yr(!1)}))})).def({Rr:function(e){return e in this.SupportedExtensions},xr:function(e){return this.SupportedExtensions[Fw.ext(e)]||"text"},pr:function(e){return this.SupportedModes[e]||".txt"},Ar:function(e){var t=e.inode,r=e.hash,n=this.$sessionMetaCache[t];return n?(n.hash=r,n):null},Wt:function(e){var t=e.inode,r=e.hash,n=this.$sessionMetaCache[t];return!n||void 0!==r&&n.hash!==r?this.$sessionMetaCache[t]={undoManager:new ace.UndoManager,hash:r}:n},Sr:function(e){e=e||"chrome",this.defaultTheme=e,this.editorComponents.forEach((function(t){t.setTheme(e)}))},zt:function(){return this.defaultTheme||"chrome"},Cr:function(e){this.defaultUseAceWorkers=e,this.editorComponents.forEach((function(t){t.setAutocomplete(e)}))},yr:function(e){this.defaultUseAceWorkers=e,this.editorComponents.forEach((function(t){t.getSession().setUseWorker(e)}))},Tr:function(e){this.defaultWordWrap=e,this.editorComponents.forEach((function(t){t.getSession().setUseWrapMode(e),t.refresh()}))},_r:function(){this.editorComponents.forEach((function(e){e.refresh()}))},Er:function(e){this.editorComponents.forEach((function(t){t.$ace.setDefaultHandler(e)}))},Ir:function(e){this.touchEditors.forEach((function(t){t.setExtraTouchKeyboard&&t.setExtraTouchKeyboard(e)}))},jr:function(e){this.touchEditors.forEach((function(t){t.setTouchKeyboard&&t.setTouchKeyboard(e)}))},zr:function(e){this._globalKeyboardPosition=e,this.touchEditors.forEach((function(t){t.setKeyboardPosition&&t.setKeyboardPosition(e)}))},Or:function(){return this._globalKeyboardPosition},Fr:function(e){this.editorComponents.forEach((function(t){t.setFontSize(e)}))},Pr:function(e){this.editorComponents.forEach((function(t){t.setDisplayIndentGuides(e)}))},Mr:function(e){this.editorComponents.forEach((function(t){t.setShowGutter(e)}))},Lr:function(e){var t=+e;this.defaultTabSize=t,this.editorComponents.forEach((function(e){e.setTabSize(t)}))},Br:function(e){this.defaultUseSoftTabs=e,this.editorComponents.forEach((function(t){t.setUseSoftTabs(e)}))},Dr:function(e){this.editorComponents.forEach((function(t){t.setShowInvisibles(e)}))},Ur:function(){if(!this.defaultUseSoftTabs)return"\t";for(var e="",t=0;t<this.defaultTabSize;t++)e+=" ";return e},$r:function(e){this.vibrate.enabled=e},Ot:function(e,t,r){var n=t.getUndoManager();t.setUndoManager(this.$dummyUndoManager),e.getSession()===t?(e.$silentChange=!0,t.setValue(r),e.$silentChange=!1):t.setValue(r),t.setUndoManager(n),this.$dummyUndoManager.reset()},Ht:function(e,t,r){var n=this.$dummyAceSession;return n.setUndoManager(this.$dummyUndoManager),n.setValue(t),n.setUndoManager(r),"undo"===e&&r.canUndo()?r.undo():"redo"===e&&r.canRedo()&&r.redo(),this.$dummyUndoManager.reset(),n.setUndoManager(this.$dummyUndoManager),n.getValue()},kr:function(e){return this.observable.run({action:"findAllInFiles",text:e})},wr:function(e,t){var r=t.row,n=t.column;return this.observable.run({action:"jumpToFile",path:e,row:r,column:n})},Gt:(fk=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.changes,i=this,e.next=4,Promise.all([Uw.inode(r),Uw.readFile(r,{encoding:"utf8"})]);case 4:for(a=e.sent,o=k(a,2),u=o[0],s=o[1],c=i.Wt({inode:u,hash:sha1(s)}),(f=i.$dummyAceSession).setUndoManager(i.$dummyUndoManager),f.setValue(s),f.setUndoManager(c.undoManager),f.markUndoGroup(),l=0;l<n.length;l++)(h=n[l].text)?f.replace(n[l].range,h):f.remove(n[l].range);return d=f.getValue(),f.markUndoGroup(),i.$dummyUndoManager.reset(),i.Ar({inode:u,hash:sha1(d)}),e.next=21,Uw.write(r,d,{updateStatus:!0});case 21:return m={action:"replaceInFile",path:r,inode:u,text:d},e.next=24,i.observable.run(m);case 24:return e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return fk.apply(this,arguments)})}),m.module("editor").__new__((function(e){e.ace={userAgent:ace.require("ace/lib/useragent"),emmet:ace.require("ace/ext/emmet"),languageTools:ace.require("ace/ext/language_tools")},e.ace.languageTools.snippetCompleter.getDocTooltip=null})).__new__((function(e){var t=["css","scss","sass","less","css_ls","scss_ls","less_ls"];function n(){return(n=r(regeneratorRuntime.mark((function t(r,n){var i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object.create(null),!n.startsWith("/")){t.next=6;break}a="/",t.next=25;break;case 6:if(!r.inode){t.next=25;break}if(!(a=Uw.inodePathSync(r.inode))){t.next=25;break}o=0,a=Fw.dirname(a);case 11:if(!(n.length>0&&o<10)){t.next=25;break}if(!n.startsWith("./")){t.next=16;break}n=n.slice(2),t.next=22;break;case 16:if(!n.startsWith("../")){t.next=21;break}n=n.slice(3),a=Fw.dirname(a),t.next=22;break;case 21:return t.abrupt("break",25);case 22:o++,t.next=11;break;case 25:if(u=e.session&&e.session.me(),!(a&&n&&u)){t.next=41;break}if("/"!==a&&a.startsWith(u)){t.next=38;break}return t.next=30,$w.filesDirAsync();case 30:return s=t.sent,a=Fw.join(s,Fw.dirname(n)),t.next=34,Uw.readdir(a);case 34:(c=t.sent)&&c.length&&(n=Fw.basename(n),c.forEach((function(e){e&&"."!==e.charAt(0)&&(i[e]=.2*n.length*e.startsWith(n))}))),t.next=41;break;case 38:f=$$("filesTree"),(l=f&&f.$items)&&Object.keys(l).forEach((function(e){var t=l[e],r=t&&t.path;if(r){var o=Fw.relativeTo(r,a);o&&(i[o]=.2*n.length*o.startsWith(n))}}));case 41:return t.abrupt("return",i);case 42:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.Nr={getCompletions:function(e,r,n,i,a){var o=function(e,r){var n=r.length,i=Object.create(null),a=Object.create(null);if(n>0){var o=Math.max(3,n+1),u=e.$modeId.split("/").pop()||"",s="";t.includes(u)&&(s="\\-\\.");var c=new RegExp("[".concat(s,"a-zA-Z_0-9$Ѐ–ӿĀ-ſ贀-鿿砀-賿挀-矿一-拿]{").concat(o,",}"),"g"),f=e.getValue().match(c);f&&f.length&&f.forEach((function(e){if(e&&e.length<50&&e!==r&&!(e in i)){var t=jaroWinkler.distance(r,e);i[e]=t,t>0&&(a[e]=t)}}))}return a}(r,i),u=Object.keys(o);u.length&&a(null,u.map((function(e){return{caption:e.length>24?e.slice(0,23)+"…":e,value:e,score:o[e],meta:"local"}})))}};var i=/[%\s.\-/a-zA-Z_0-9]+$/;e.Gr={getCompletions:function(e,t,r,a,o){var u=t.getLine(r.row).slice(0,r.column).match(i);if(u){var s=u[0];(function(e,t){return n.apply(this,arguments)})(t,s).then((function(e){var t=Object.keys(e);if(t.length){var r=(s.includes("/")?.25:0)+(s.includes("./")?.25:0);o(null,t.map((function(t){return{caption:t.length>28?t.slice(0,27)+"…":t,value:t,score:e[t]+r,meta:"path"}})))}}))}}}})).__init__((function(e){var t,n,i;UI.def({__name__:"editor",$defaults:{value:"",margin:"",flexSize:"flex",scrollMargin:UIkit2.support.touch?64:40,editorOptions:{}},$setters:{editorOptions:function(e){this.editorOptions=e},readonly:function(e){var t=this.$ace;t.setOptions({readOnly:e,highlightActiveLine:!e,highlightGutterLine:!e}),t.renderer.$cursorLayer.element.style.opacity=e?0:1}},__init__:function(e){var t=UI.uid("editorContainer");e.id&&(UI.components[e.id]=this),this.element=this.el=UI.createElement("DIV",{id:t}),UI.addClass(this.el,"uk-flex-item-1"),this.observable=new zw,this.sessionCache={},this.config=e,this.$ace=ace.edit(this.el),this.$ace.renderer.scrollBarV.width=0,this.init(this.$ace)},__after__:function(t){e.editorComponents.push(this),this.setTabSize(t.tabSize||e.defaultTabSize),this.openBlankSession()},init:function(t){var r=this.config.scrollMargin,n=e.ace.languageTools,i={scrollPastEnd:.5,useTextareaForIME:!1,enableLiveAutocompletion:!1,enableBasicAutocompletion:[n.keyWordCompleter,n.snippetCompleter,e.Nr,e.Gr],enableSnippets:!0,enableEmmet:!0,showPrintMargin:!1,fadeFoldWidgets:!0,tooltipFollowsMouse:!UI.support.touch};e.ace.userAgent.isIOS||Ew.isIOS||(i.copyWithEmptySelection=!0),t.setOptions(i),t.$blockScrolling=1/0,t.renderer.setScrollMargin(r,8),this.completionServer=new e.LanguageServerDecorator(this),this.indentManager=new e.IndentManager(this),this.hintManager=new e.HintManager(this),this.initSmartEditingSupport(this),this.initKeybindings(this),this.initProxyEvents(this),this.initKeyboardHandlerForCtrlIME(this)},initSmartEditingSupport:function(e){var t=e.$ace;t.on("guttermousedown",(function(e){e.stop()})),t.on("findSearchBox",(function(e){e.match&&t.scrollToLine(t.getCursorPosition().row,!0,!0)})),t.on("change",(function(t){if(!e.$silentChange)try{e.observable.run({action:"edit",edit:t}),e.debouncedSave()}catch(e){$LOG.error(e)}})),t.commands.on("afterExec",(function(t){switch(t.command.name){case"backspace":case"insertstring":if(!e.autocompleteOff){var r,n=t.args,i=e.hintManager.isOpened(),a=e.getMode(),o=!1;i||("html"===a&&"<"===n?(r="<",o=!0):/^[\w.]$/.test(n)&&"."==n?(r=".",o=!0):/^[A-Za-z]$/.test(n)?o=!0:"/"==n&&(o=!0)),o?e.debouncedStartAutocomplete(r):(i||"("===n||","===n)&&e.debouncedShowSignature(n)}}})),t.onPaste=function(e,t){if(1!==e.length||8232!==e.charCodeAt(0)){var r={text:e,event:t};this.commands.exec("paste",this,r)}},t.textInput.getElement().setAttribute("autocomplete","off")},initAutocompleteTokenizer:function(){var e=this.$ace;if(!this.tokenizerInitialized&&e){if(!e.completer&&(e.commands.byName.startAutocomplete.exec(e),!e.completer))return;this.tokenizerInitialized=!0;var t=e.completer.getPopup();t.session.bgTokenizer.$tokenizeRow=function(e){var r=[],n=t.data[e];if(!n)return r;"string"==typeof n&&(n={value:n});var i=n.caption||n.value||n.name;function a(e,t){e&&r.push({type:(n.className||"")+(t||""),value:e})}n.kind&&a(" ","completion_icon ace-lang-completion-"+n.kind);for(var o=i.toLowerCase(),u=(t.filterText||"").toLowerCase(),s=0,c=0,f=0;f<=u.length;f++)if(f!=c&&(n.matchMask&1<<f||f==u.length)){var l=u.slice(c,f);c=f;var h=o.indexOf(l,s);if(-1===h)continue;a(i.slice(s,h),""),s=h+l.length,a(i.slice(h,s),"completion-highlight")}return a(i.slice(s,i.length),""),n.meta&&r.push({type:"completion-meta",value:n.meta}),r}}},initKeyboardHandlerForCtrlIME:function(e){e.$ace.keyBinding.addKeyboardHandler({commands:[],handleKeyboard:function(t,r,n){if(-1===r&&n&&e.isCtrlOn())return e.setCtrl(!1),e.findKeyCommandForCtrl({keyString:n})}})},initProxyEvents:function(e){var t=e.$ace;t.on("searchBoxOpen",(function(){return e.observable.run({action:"searchBoxOpen"})})),t.on("searchBoxClose",(function(){return e.observable.run({action:"searchBoxClose"})}))},initKeybindings:function(t){var r=function(e,t){return{win:e,mac:t}};t.addCommands([{name:"forceSave",description:"Force Save",bindKey:r("Ctrl-S","Command-S"),exec:function(){t.saveCurrentSessionAsync(!0)}},{name:"findInFile",description:"Find in File",bindKey:r("Ctrl-Shift-F","Command-Shift-F"),exec:function(){e.kr(t.getSelectedText())}},{name:"format",bindKey:r("Alt-F","Option-F"),exec:function(){t.indentManager.indent(!0)}},{name:"goToLine",bindKey:r("Ctrl-G","Command-G"),exec:function(){e.prompt.gt(wb.Actions.GoTo(wb.Objects.Line),"",{showInput:!0,onResult:function(e){t.$ace.gotoLine(parseInt(e))}})}}]),e.gr(t)},initScrollBar:function(e){var t=e.$ace.renderer.scrollBarV.inner,r=document.createElement("CANVAS");r.width=1,r.height=100,r.style.width="100%",r.style.height="100%",r.style.marginTop="50px",this.scrollBarCanvas=r,t.textContent="",t.appendChild(r)},debouncedSave:UIkit2.Utils.debounce((function(){this.saveCurrentSessionAsync()}),1500,!1),debouncedShowSignature:UIkit2.Utils.debounce((function(e){this.getSignature(e)}),500,!1),debouncedStartAutocomplete:UIkit2.Utils.debounce((function(e){this.isAutoCompleteOpen()||this.startAutoComplete(e)}),250,!1),goToNextError:function(){this.execCommand("goToNextError"),this.scrollToLine(this.getCursorPosition().row,!0,!0)},isAutoCompleteOpen:function(){var e=this.getAutoCompleter();return e&&e.activated},getAutoCompletePopup:function(){var e=this.getAutoCompleter();return e?e.getPopup():null},getAutoCompleter:function(){return this.$ace.completer},startAutoComplete:function(e){this.initAutocompleteTokenizer(),this.$ace.autoCompleteTriggerCharacter=e,this.$ace.commands.byName.startAutocomplete.exec(this.$ace),this.dispatch("onStartAutocomplete",[e])},getCursorElement:function(){return this.element.querySelector(".ace_cursor")},isTextSelected:function(){return this.$ace.getSelectedText().length>0},clearSelection:function(){this.$ace.selection.clearSelection()},selectWord:function(){this.$ace.selection.selectWord()},selectAll:function(){this.$ace.selection.selectAll()},findKeyCommandForCtrl:function(e){var t=e.keyString,r=e.altKey,n=e.shiftKey,i=this.$ace,a=/ctrl|cmd|command/i,o=/alt|opt/i,u=/shift/i,s=new RegExp("[-+]".concat(t,"$"),"i"),c=i.commands.platform,f=i.keyBinding.$handlers;switch(t.toLowerCase()){case"c":return this.copyText2(),{command:"null"};case"x":return this.cutText2(),{command:"null"};case"v":return this.pasteText2(),{command:"null"}}for(var l=f.length-1;l>=0;l--){var h=f[l].commands;for(var d in h){var m=h[d],v=m.bindKey&&m.bindKey[c];if(a.test(v)&&!!r==!!o.test(v)&&!!n==!!u.test(v)&&s.test(v))return{command:m}}}return{command:"null"}},setCtrl:function(e){this.ctrlState=e,this.observable.run({action:"ctrlStateChange",isCtrlOn:e})},isCtrlOn:function(){return!!this.ctrlState},copyText2:(i=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isTextSelected()||this.$ace.selection.selectLine(),document.execCommand("copy"),e.next=4,Ew.copyText(this.$ace.getSelectedText());case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),pasteText2:(n=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ew.clipboardText();case 2:null!==(t=e.sent)?this.$ace.execCommand("paste",t):document.execCommand("paste");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),cutText2:function(){this.copyText2(),this.$ace.execCommand("cut")},getSelectedText:function(){return this.$ace.getSelectedText()},getSelectedTextOrWordAtCursor:function(){var e=this.getSelectedText();return e||(this.$ace.selection.selectWord(),this.getSelectedText())},setScrollMargin:function(e,t){this.$ace.renderer.setScrollMargin(t,e)},isReadOnly:function(){return this.$ace.$readOnly},addCommands:function(e){this.$ace.commands.addCommands(e)},execCommand:function(e,t){this.$ace.execCommand(e,t)},getMode:function(){return this.getSession().$modeId.split("/").pop()||""},setMode:function(e){return this.getSession().setMode("ace/mode/"+e)},getTheme:function(){return(this.$ace.renderer.$themeId||"").split("/").pop()||""},setTheme:function(e){return this.$ace.setTheme("ace/theme/"+e)},setShowGutter:function(e){return this.$ace.renderer.setShowGutter(e)},getShowGutter:function(){return this.$ace.renderer.getShowGutter()},getValue:function(){return this.$ace.getValue()},setValue:function(t){e.Ot(this,this.getSession(),t),this.clearSelection()},isDialogOpened:function(){return!!this.$ace.searchBox&&"none"!=this.$ace.searchBox.element.style.display},navigateToNextTabstop:function(){var e=this.$ace.tabstopManager;return!(!e||!e.tabNext)&&(e.tabNext(),!0)},insertAutoCompleteMatch:function(){return!(!this.getAutoCompleter()||!this.isAutoCompleteOpen())&&(this.getAutoCompleter().insertMatch(),!0)},insertTextAtCursor:function(e,t){this.getSession().insert(this.$ace.selection.getCursor(),e),this.moveCursorBy(t.rows,t.chars),"()"==e&&-1==t.chars&&this.debouncedShowSignature()},getCursorPosition:function(){return this.$ace.getCursorPosition()},getAllSelectionRanges:function(){return this.$ace.selection.getAllRanges()},setSelectionRanges:function(e){if(e.length>0){this.$ace.selection.setRange(e[0]);for(var t=1;t<e.length;t++)this.$ace.selection.addRange(e[t])}},navigateTo:function(e,t){this.$ace.navigateTo(e,t)},triggerTabPress:function(){if(!this.navigateToNextTabstop()&&!this.insertAutoCompleteMatch()){var e=this.getSession(),t=this.getCursorPosition(),r=e.getTokenAt(t.row,t.column);if(null!==r){var n=r.value,i=r.start+n.length;"."===n||"identifier"===r.type&&i===t.column?this.startAutoComplete():this.$ace.indent()}else this.$ace.indent()}},findDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("find")},replaceDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("replace")},moveCursorBy:function(e,t){this.clearSelection(),this.$ace.selection.moveCursorBy(e||0,t||0)},moveCursorLeft:function(){this.clearSelection(),this.$ace.selection.moveCursorLeft()},moveCursorRight:function(){this.clearSelection(),this.$ace.selection.moveCursorRight()},expandEmmet:function(){var t=this.$ace;e.ace.emmet.isAvailable(t)&&(e.ace.emmet.runEmmetCommand.call({action:"expand_abbreviation"},t),Ww("emmet_expand","n/a"))},autoCompleteNavigateUp:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateUp(),!0},moveCursorUp:function(){this.clearSelection(),this.$ace.selection.moveCursorUp()},autoCompleteNavigateDown:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateDown(),!0},moveCursorDown:function(){this.clearSelection(),this.$ace.selection.moveCursorDown()},scrollToLine:function(e,t,r,n){this.$ace.scrollToLine(e,t,r,n||m.noop)},undo:function(){this.getSession().getUndoManager().undo()},redo:function(){this.getSession().getUndoManager().redo()},resize:function(e){this.$ace.resize(e)},isFocused:function(){return this.$ace.isFocused()},focus:function(t){if(t){var r=e.ace.userAgent.isIOS||Ew.isIOS,n=this.getCursorPosition().row;if(r&&window.innerHeight>560){var i=this.$ace.renderer.$textLayer.$fontMetrics.$characterSize.height||16,a="top"===e.Or()?128:64,o=.25*(Math.max(600,window.innerHeight||0)-a);n+=Math.floor(o/i),this.scrollToLine(n,!0,!0)}else this.scrollToLine(n,!0,!0)}this.isFocused()||this.$ace.focus()},blur:function(){this.$ace.blur()},setFontSize:function(e){this.fontSize=e,this.$ace.setFontSize(e);var t=this.getAutoCompletePopup();t&&t.setFontSize(e)},setShowInvisibles:function(e){this.$ace.setShowInvisibles(e)},getShowInvisibles:function(){this.$ace.getShowInvisibles()},setUseSoftTabs:function(e){this.useSoftTabs=e,this.$ace.getSession().setUseSoftTabs(e)},getUseSoftTabs:function(){this.$ace.getSession().getUseSoftTabs()},setTabSize:function(e){this.tabSize=e,this.$ace.getSession().setTabSize(e)},getTabSize:function(){return this.$ace.getSession().getTabSize()},getTabString:function(){return this.$ace.getSession().getTabString()},refresh:function(){this.$ace.renderer.updateFull()},cachedModeSessionWithPath:function(t){return this.cachedModeSession(e.xr(t))},cachedModeSession:function(e){var t=this,r=t.sessionCache[e];if(!r){var n="@blank"===e;e=n?"javascript_ls":e,(r=ace.createEditSession("","ace/mode/"+e)).$blankSession=n,t.sessionCache[e]=r,r.selection.on("changeSelection",(function(){return t.observable.run({action:"selectionChange",selectedText:t.getSelectedText(),selectionRanges:t.getAllSelectionRanges()})})),r.selection.on("changeCursor",(function(){return t.observable.run({action:"positionChange",position:t.getCursorPosition()})})),t.hintManager&&(r.on("changeScrollTop",(function(){t.hintManager.close()})),r.on("changeScrollLeft",(function(){t.hintManager.close()})))}return r},saveCurrentSessionAsync:function(t){t=!!t;var r=this.getSession(),n=r.inode,i=r.getValue();e.Ar({inode:n,hash:sha1(i)});var a={scrollTop:r.getScrollTop(),scrollLeft:r.getScrollLeft(),selectionRanges:r.selection.getAllRanges()};return this.observable.run({action:"save",sessionInfo:a,manual:t,text:i,writePath:Uw.inodePathSync(n)})},openBlankSession:function(){var t=this.cachedModeSession("@blank");return e.Ot(this,t,""),this.setSession(t),t},isCurrentSessionBlank:function(){return!this.getSession().inode},applyModeSpecificAutocompletionIdentifierRegExp:function(){var t=e.ace.languageTools,r=["less","css","scss","sass","less_ls","css_ls","scss_ls"].includes(this.getMode())?/[:.a-zA-Z_0-9$\-\u00A2-\u2000\u2070-\uFFFF]/:/[a-zA-Z_0-9$\-\u00A2-\u2000\u2070-\uFFFF]/;t.keyWordCompleter.identifierRegexps=[r]},changeSessionAsync:(t=r(regeneratorRuntime.mark((function t(r,n){var i,a,o,u,s,c,f,l,h,d,m,v,p,g,b,w,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.text,a=n.skipSessionSave,o=n.externalContent,u=n.externalPath,s=this,c="",!u){t.next=7;break}c=o,t.next=15;break;case 7:if(!i){t.next=11;break}c=i,t.next=15;break;case 11:return t.next=13,Uw.read(r,{encoding:"utf8"});case 13:(f=t.sent)&&(c=f);case 15:if(!Uw.isBinaryContent(c)){t.next=17;break}throw new Gb({message:"Cannot open binary file in editor."});case 17:return l=s.getSession(),h=Uw.inodePathSync(l.inode),d=h?{path:h,text:l.getValue(),scrollTop:l.getScrollTop(),scrollLeft:l.getScrollLeft(),selectionRanges:l.selection.getAllRanges()}:null,m=u?"ext://".concat(u,"?").concat(encodeURIComponent(r)):r,t.next=23,Uw.inode(m);case 23:return v=t.sent,p=sha1(c),g=e.Wt({inode:v,hash:p}),(b=s.cachedModeSessionWithPath(r)).inode=v,e.Ot(s,b,c),s.setSession(b),b.setUndoManager(g.undoManager),s.applyModeSpecificAutocompletionIdentifierRegExp(),w=e.session.ce(),(k=w&&w.sessionInfo&&w.sessionInfo.find((function(e){return e&&e.path===r})))&&(b.setScrollTop(k.scrollTop),b.setScrollLeft(k.scrollLeft),s.setSelectionRanges(k.selectionRanges)),t.next=37,s.observable.run({action:"sessionChange",previous:d,writePath:m,skipSessionSave:a,path:r,text:c});case 37:case"end":return t.stop()}}),t,this)}))),function(e,r){return t.apply(this,arguments)}),getSession:function(){return this.$ace.getSession()},setSession:function(t){var r=this.editorOptions;function n(e,t){return void 0===e?t:e}t.setUseWorker(n(r.useWorker,e.defaultUseAceWorkers)),t.setUseWrapMode(n(r.wordWrap,e.defaultWordWrap)),this.$ace.setSession(t),this.$ace.resize(),this.setTabSize(this.tabSize||e.defaultTabSize),this.setUseSoftTabs(this.useSoftTabs||e.defaultUseSoftTabs)},setAutocomplete:function(e){this.autocompleteOff=!e},setDisplayIndentGuides:function(e){this.$ace.setOption("displayIndentGuides",e||!1)},getTokenType:function(e){e=e||0;var t=this.getSession(),r=this.getCursorPosition(),n=t.getTokenAt(r.row,r.column+e);return n?n.type:null}},UI.Dispatcher,UI.PropertySetter)})).__init__((function(e){UI.def({__name__:"touchEditor",$defaults:{flexLayout:"column",margin:"",editor:{view:"editor"},keyboard:UIkit2.support.touch},__init__:function(e){var t=this.$editor=UI.new(e.editor);this.$components.push(t),this.element.appendChild(t.element)},__after__:function(t){var r=this;e.touchEditors.push(r);var n=r.$editor;if(t.keyboard){var i=r.$keyboard=r.addChild(e.keyboardTemplate(n));i.hideExtraKeys(),r.initKeyboard(n),r.element.appendChild(i.element)}UI.support.touch?r.touchCursors=new e.TouchCursors(n):r.contextMenuManager=new e.ContextMenuManager(n),n.element.addEventListener("scroll",(function(){0!==n.element.scrollTop&&(n.element.scrollTop=0)})),n.addListener("onStartAutocomplete",(function(){r.initAutocomplete(n)}))},setExtraTouchKeyboard:function(e){this.$keyboard&&(this.$hideExtraTouchKeyboard=!e)},setTouchKeyboard:function(e){this.$keyboard&&(e?this.$keyboard.showKeys():this.$keyboard.hideKeys())},setKeyboardPosition:function(e){var t=this.$keyboard;if(UIkit2.support.touch&&t){var r=this.$editor,n=t.element,i=$$(t.keysId+"HideKeyboard"),a=$$(t.dropdownId),o=a.element.firstChild;switch(e){case"top":t.set("flexLayout","column-reverse"),i.hide(),r.setScrollMargin(8,142),UI.addClass(n,"position-top"),UI.addClass(o,"uk-animation-slide-top"),UI.removeClass(o,"uk-animation-slide-bottom"),a.pos="bottom-left";break;default:t.set("flexLayout","column"),i.show(),r.setScrollMargin(8,64),UI.removeClass(n,"position-top"),UI.removeClass(o,"uk-animation-slide-top"),UI.addClass(o,"uk-animation-slide-bottom"),a.pos="top-left"}}},initKeyboard:function(e){var t=this,r=e.$ace;r.on("focus",(function(){t.$hideExtraTouchKeyboard||t.$keyboard.showExtraKeys(),t.$keyboard.hideMenu(),e.observable.run({action:"focus"})})),r.on("blur",(function(){setTimeout(t.$keyboard.hideExtraKeys,1)})),t.$editor.observable.subscribe((function(e){var r=e.action,n=e.path;if("sessionChange"===r)switch(Fw.ext(n)){case".css":case".sass":case".scss":case".less":t.$keyboard.changeMode("css");break;case".svg":case".xml":case".html":t.$keyboard.changeMode("html");break;case".js":case".jsx":case".ts":case".tsx":default:t.$keyboard.changeMode("js")}}))},initAutocomplete:function(e){var t=e.getAutoCompleter();if(!this.touchEnabled&&t){this.touchEnabled=!0;var r=0,n=t.getPopup();n.renderer.$maxLines=window.innerWidth<=480?5:8,n.container.style.fontSize=e.fontSize,n.on("touchmove",(function(e){var i=n.getFirstVisibleRow(),a=n.getLastVisibleRow(),o=n.getRow();0==i||a==t.completions.filtered.length-1?(r+=e.wheelY)<-15?(n.setRow(Math.max(o-1,i)),r=0):r>15&&(n.setRow(Math.min(o+1,a)),r=0):o!=i+1&&(r=0,n.setRow(i+1))}))}}},UI.definitions.flexgrid)})),m.module("editor").require("keyButton").def({keyboardTemplate:function(e){var t=UI.uid("dropdown"),r=UI.uid("icon"),n=UI.uid("keys"),i=UI.uid("keys"),a=this;return{cls:"x-editor-keyboard-container",device:"touch",flex:!0,flexLayout:"column",dropdownId:t,keysId:i,cells:[{id:t,view:"dropdown",hidden:!0,cls:"x-editor-keyboard-dropdown",style:{position:"absolute",width:"100%"},pos:"top-left",dropdownAnimation:"uk-animation-slide-bottom",dropdown:{cls:"x-editor-options-list",cells:[{view:"list",cls:"uk-width-1-2",margin:"left",listStyle:"side",data:[{view:"link",iconClass:"ti-align-right",value:"format",label:wb.Elements.Format},{view:"link",icon:"search",value:"find",label:wb.Elements.FindAll},{view:"link",iconClass:"ti-arrow-circle-down",value:"nextError",label:wb.Elements.NextError}],on:{onItemClick:function(t){switch(t.value){case"format":e.indentManager.indent(!0);break;case"find":a.kr(e.getSelectedTextOrWordAtCursor());break;case"nextError":e.goToNextError();break;case"undo":e.undo()}}}},{view:"list",cls:"uk-width-1-2",margin:"right",listStyle:"side",data:[{view:"link",icon:"bolt",value:"goto",label:yb(wb.Objects.Definition)},{view:"link",icon:"commenting",label:"Signature",value:"signature"},{view:"link",icon:"comments",label:wb.Elements.ShowInfo,value:"info"}],on:{onItemClick:function(t){switch(t.value){case"signature":e.getSignature();break;case"goto":e.goToDefinition();break;case"info":e.getInfo()}}}}]},on:{onOpen:function(){UI.addClass($$(r).element,"uk-active"),this.show()},onClose:function(){UI.removeClass($$(r).element,"uk-active"),this.hide()}}},{id:n,cls:"x-editor-keyboard",flexSize:"none",flexAlign:"middle",flexSpace:"around",cells:[{view:"keyButton",batch:"js",label:"()",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"("},{view:"keyOption",label:"{"},{view:"keyOption",label:"["},{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"}]},{cells:[{view:"keyOption",label:")"},{view:"keyOption",label:"}"},{view:"keyOption",label:"]"},{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"}]},{cells:[{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"[]",offset:-1},{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1}]}]}},{view:"keyButton",batch:"html",label:"<>",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"},{view:"keyOption",label:"{"},{view:"keyOption",label:"("},{view:"keyOption",label:"["}]},{cells:[{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"},{view:"keyOption",label:"}"},{view:"keyOption",label:")"},{view:"keyOption",label:"]"}]},{cells:[{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1},{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"[]",offset:-1}]}]}},{view:"keyButton",batch:"css",label:"{}",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"{"},{view:"keyOption",label:"("},{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"},{view:"keyOption",label:"["}]},{cells:[{view:"keyOption",label:"}"},{view:"keyOption",label:")"},{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"},{view:"keyOption",label:"]"}]},{cells:[{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1},{view:"keyOption",label:"[]",offset:-1}]}]}},{view:"keyButton",batch:"js",label:"if",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"in",value:"in "},{view:"keyOption",label:"sw",value:"switch "},{view:"keyOption",label:"case",value:"case "},{view:"keyOption",label:"br",value:"break"},{view:"keyOption",label:"=>",value:"=> "},{view:"keyOption",label:"let",value:"let "},{view:"keyOption",label:"cons",value:"const "},{view:"keyOption",label:"asyn",value:"async "}]},{cells:[{view:"keyOption",label:"for",value:"for "},{view:"keyOption",label:"if",value:"if "},{view:"keyOption",label:"else",value:"else "},{view:"keyOption",label:"ret",value:"return "},{view:"keyOption",label:"fn",value:"function "},{view:"keyOption",label:"var",value:"var "},{view:"keyOption",label:"this",value:"this"},{view:"keyOption",label:"awt",value:"await"}]}]}},{view:"keyButton",batch:"css",label:"px",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"!im",value:"!important"},{view:"keyOption",label:"pt"},{view:"keyOption",label:"rem"},{view:"keyOption",label:"rgba"},{view:"keyOption",label:"auto"}]},{cells:[{view:"keyOption",label:"%"},{view:"keyOption",label:"px"},{view:"keyOption",label:"em"},{view:"keyOption",label:"rgb"},{view:"keyOption",label:"none"}]}]}},{view:"keyButton",batch:"html",label:"div",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"html",value:"<!doctype html></html>",offset:-7},{view:"keyOption",label:"head",value:"<head></head>",offset:-7},{view:"keyOption",label:"body",value:"<body></body>",offset:-7},{view:"keyOption",label:"style",value:"<style></style>",offset:-8},{view:"keyOption",label:"scp",value:"<script><\/script>",offset:-9},{view:"keyOption",label:"link",value:"<link>"},{view:"keyOption",label:"meta",value:"<meta>"}]},{cells:[{view:"keyOption",label:"form",value:"<form></form>",offset:-7},{view:"keyOption",label:"div",value:"<div></div>",offset:-6},{view:"keyOption",label:"span",value:"<span></span>",offset:-7},{view:"keyOption",label:"ul",value:"<ul></ul>",offset:-5},{view:"keyOption",label:"li",value:"<li></li>",offset:-5},{view:"keyOption",label:"btn",value:"<button></button>",offset:-9},{view:"keyOption",label:"img",value:"<img>"}]}]}},{view:"keyButton",batch:"html",label:"class",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"click",value:'onclick=""',offset:-1},{view:"keyOption",label:"title",value:'title=""',offset:-1},{view:"keyOption",label:"data",value:'data=""',offset:-1},{view:"keyOption",label:"alt",value:'alt=""',offset:-1},{view:"keyOption",label:"rel",value:'rel="" ',offset:-1}]},{cells:[{view:"keyOption",label:"src",value:'src=""',offset:-1},{view:"keyOption",label:"class",value:'class=""',offset:-1},{view:"keyOption",label:"style",value:'style=""',offset:-1},{view:"keyOption",label:"id",value:'id=""',offset:-1},{view:"keyOption",label:"href",value:'href=""',offset:-1}]}]}},{view:"keyButton",batch:"js",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"*"},{view:"keyOption",label:"+"},{view:"keyOption",label:"="},{view:"keyOption",label:"-"},{view:"keyOption",label:"/"},{view:"keyOption",label:"%"}]}},{view:"keyButton",batch:"css",label:".",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"_"},{view:"keyOption",label:"-"},{view:"keyOption",label:"."},{view:"keyOption",label:"#"},{view:"keyOption",label:"&"},{view:"keyOption",label:">"}]}},{view:"keyButton",batch:"html",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"*"},{view:"keyOption",label:"+"},{view:"keyOption",label:"="},{view:"keyOption",label:"-"},{view:"keyOption",label:"/"}]}},{view:"keyButton",batch:"js",label:"!",defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"_"},{view:"keyOption",label:"$"},{view:"keyOption",label:"!"},{view:"keyOption",label:"@"},{view:"keyOption",label:"#"}]}},{view:"keyButton",batch:"js",label:"&&",defaultIndex:2,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"<="},{view:"keyOption",label:">="},{view:"keyOption",label:"||"},{view:"keyOption",label:"!="},{view:"keyOption",label:"!=="}]},{cells:[{view:"keyOption",label:"<"},{view:"keyOption",label:">"},{view:"keyOption",label:"&&"},{view:"keyOption",label:"=="},{view:"keyOption",label:"==="}]}]}},{view:"keyButton",batch:"css",label:":",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"+"},{view:"keyOption",label:":"},{view:"keyOption",label:"@"}]}},{view:"keyButton",batch:"css",label:";",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:","},{view:"keyOption",label:";"},{view:"keyOption",label:"!"}]}},{view:"keyButton",batch:"js",label:";",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:":"},{view:"keyOption",label:";"},{view:"keyOption",label:"?:",value:"?  :",offset:-2}]}},{view:"keyButton",batch:"js",label:".",pos:"top-right",offset:44,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"\\"},{view:"keyOption",label:"/"},{view:"keyOption",label:"."},{view:"keyOption",label:",",value:", "}]}},{view:"keyButton",batch:"js",label:"''",pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"/"},{view:"keyOption",label:"`"},{view:"keyOption",label:'"'},{view:"keyOption",label:"'"}]},{cells:[{view:"keyOption",label:"//",offset:-1},{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:'""',offset:-1},{view:"keyOption",label:"''",offset:-1}]}]}},{view:"keyButton",batch:"html",label:'""',pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"`"},{view:"keyOption",label:"'"},{view:"keyOption",label:'"'}]},{cells:[{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:"''",offset:-1},{view:"keyOption",label:'""',offset:-1}]}]}},{view:"keyButton",batch:"css",label:"''",pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"`"},{view:"keyOption",label:'"'},{view:"keyOption",label:"'"}]},{cells:[{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:"''",offset:-1},{view:"keyOption",label:'""',offset:-1}]}]}},{view:"menuIcon",batch:"html",cls:"svg-icon",template:'<svg width="24" height="24" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet"><path d="M178.496 124.737l-14.205-14.205 7.306-30.035-30.441 6.9-13.8-13.8 68.187-17.047-17.047 68.187z"/><path d="M154.956 218.901L33.192 97.138 101.38 80.09l13.8 13.8-48.706 12.176 27.6 27.6 32.064-7.712-8.117 31.658 27.6 27.6 12.176-48.705 14.205 14.206-17.046 68.187z"/></svg>',style:{width:"40px"},on:{onMouseDown:function(){a.vibrate.dt(),e.expandEmmet(),e.focus(!e.isFocused())}}},{view:"menuIcon",batch:"css",cls:"svg-icon",template:'<svg width="24" height="24" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet"><path d="M178.496 124.737l-14.205-14.205 7.306-30.035-30.441 6.9-13.8-13.8 68.187-17.047-17.047 68.187z"/><path d="M154.956 218.901L33.192 97.138 101.38 80.09l13.8 13.8-48.706 12.176 27.6 27.6 32.064-7.712-8.117 31.658 27.6 27.6 12.176-48.705 14.205 14.206-17.046 68.187z"/></svg>',style:{width:"40px"},on:{onMouseDown:function(){a.vibrate.dt(),e.expandEmmet(),e.focus(!e.isFocused())}}},{view:"menuIcon",batch:"css",cls:"uk-flex uk-flex-middle",template:"",style:{paddingTop:"initial",paddingBottom:"initial"},on:{onMouseDown:function(){this.colorPicker.setColor(e.getSelectedText()),this.colorPicker.show()},onInitialized:function(){var t=this,r=UI.createElement("div");this.element.appendChild(r),this.colorPicker=new vb({el:r,theme:"nano",closeOnScroll:!0,comparison:!1,components:{preview:!0,hue:!0,opacity:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1}},strings:{save:"Ok",cancel:"Cancel"}}),this.colorPicker.on("hide",(function(){var r=e.getAllSelectionRanges();r&&r.length&&e.getSession().replace(r[0],t.colorPicker.getColor().toHEXA().toString())}))}}}]},{id:i,cls:"x-editor-keyboard",flexSize:"none",defaultBatch:["tab","arrow","more","close"],cells:[{id:i+"Tab",batch:"tab",view:"menuIcon",flexSize:"flex",iconClass:"ti-shift-right",on:{onMouseDown:function(){a.vibrate.dt(),e.triggerTabPress(),e.focus(!e.isFocused())}}},{id:i+"Up",batch:"arrow",view:"menuIcon",flexSize:"flex",iconClass:"ti-angle-up",on:{onMouseDown:function(){a.vibrate.dt(),e.autoCompleteNavigateUp()||(e.moveCursorUp(),e.focus(!0))}}},{id:i+"Down",batch:"arrow",view:"menuIcon",flexSize:"flex",iconClass:"ti-angle-down",on:{onMouseDown:function(){a.vibrate.dt(),e.autoCompleteNavigateDown()||(e.moveCursorDown(),e.focus(!0))}}},{id:i+"Left",batch:"arrow",view:"menuIcon",flexSize:"flex",iconClass:"ti-angle-left",on:{onMouseDown:function(){a.vibrate.dt(),e.moveCursorLeft(),e.focus(!e.isFocused())}}},{id:i+"Right",batch:"arrow",view:"menuIcon",flexSize:"flex",iconClass:"ti-angle-right",on:{onMouseDown:function(){a.vibrate.dt(),e.moveCursorRight(),e.focus(!e.isFocused())}}},{id:i+"Arrows",batch:"arrows",view:"menuIcon",flexSize:"flex",iconClass:"ti-angle-double-left",on:{onMouseDown:function(){$$(i).showBatch(["tab","arrow","more","close"])}}},{id:i+"Undo",batch:"undo",view:"menuIcon",flexSize:"flex",iconClass:"ti-back-left",on:{onMouseDown:function(){a.vibrate.dt(),e.undo()}}},{id:i+"Redo",batch:"redo",view:"menuIcon",flexSize:"flex",iconClass:"ti-back-right",on:{onMouseDown:function(){a.vibrate.dt(),e.redo()}}},{id:i+"Copy",batch:"copy",view:"menuIcon",flexSize:"flex",iconClass:"ti-layers",on:{onMouseDown:function(){a.vibrate.dt(),e.copyText2()}}},{id:i+"Cut",batch:"cut",view:"menuIcon",flexSize:"flex",iconClass:"ti-cut",on:{onMouseDown:function(){a.vibrate.dt(),e.cutText2()}}},{id:i+"Paste",batch:"paste",view:"menuIcon",flexSize:"flex",iconClass:"ti-clipboard",on:{onMouseDown:function(){a.vibrate.dt(),e.pasteText2()}}},{id:r,batch:"menu",view:"menuIcon",flexSize:"flex",iconClass:"ti-plus",on:{onMouseDown:function(e,r,n){UI.preventEvent(n);var i=$$(t);i&&!i.isOpened()&&setTimeout((function(){i.open(),i.positionNextTo(i.element.parentNode,i.pos,0,0)}),325)}}},{id:i+"Ctrl",batch:"arrow",view:"menuIcon",flexSize:"flex",template:"⌘",on:{onInitialized:function(){var t=this;e.observable.subscribe((function(e){var r=e.action,n=e.isCtrlOn;"ctrlStateChange"===r&&(n?UI.addClass(t.el,"uk-active"):UI.removeClass(t.el,"uk-active"))}))},onMouseDown:function(){var t=!e.isCtrlOn();e.setCtrl(t)}}},{id:i+"HideKeyboard",batch:"close",view:"menuIcon",flexSize:"flex",icon:"triangle-down"},{id:i+"More",batch:"more",view:"menuIcon",flexSize:"flex",iconClass:"ti-angle-double-right",on:{onMouseDown:function(){$$(i).showBatch(["arrows","redo","undo","copy","cut","paste","menu"])}}}]}],on:{onInitialized:function(){this.optionsKey=$$(r),this.leftKey=$$(i+"Left"),this.rightKey=$$(i+"Right"),this.upKey=$$(i+"Up"),this.downKey=$$(i+"Down"),this.tabKey=$$(i+"Tab"),this.changeMode("js")}},hideMenu:function(){$$(t).close()},showExtraKeys:function(){$$(n).show()},hideExtraKeys:function(){$$(n).hide()},changeMode:function(e){$$(n).showBatch(e)},showKeys:function(){$$(i).show()},hideKeys:function(){$$(i).hide()}}}}),m.module("editor").__init__((function(e){e.scrollingStates={},e.activeActionBar=null})).__init__((function(e){e.TouchCursors=function(t){var r=t.$ace,n=r.renderer,i=t.element,a=this;a.$touching=!1,a.editor=t,n.$keepTextAreaAtCursor=!1,a.caretCursor=UI.new({cls:"x-caret-cursor",hidden:!0,position:"absolute"},i),a.leftCursor=UI.new({cls:"x-left-cursor",hidden:!0,position:"absolute"},i),a.rightCursor=UI.new({cls:"x-right-cursor",hidden:!0,position:"absolute"},i),a.actionBar=UI.new({cls:"x-action-bar",animation:"fade",hidden:!0,position:"absolute",cells:[{view:"touchIcon",batch:"cut",iconClass:"ti-cut",on:{onTouchEnd:function(){t.cutText2(),a.actionBar.hide()}}},{view:"touchIcon",batch:"copy",iconClass:"ti-layers",on:{onTouchEnd:function(){t.copyText2(),a.actionBar.hide()}}},{view:"touchIcon",batch:"paste",iconClass:"ti-clipboard",on:{onTouchEnd:function(){t.pasteText2(),a.actionBar.hide()}}},{view:"touchIcon",batch:"select",iconClass:"ti-align-justify",on:{onTouchEnd:function(){a.actionBar.hide(),t.selectAll();var e=t.getAllSelectionRanges().pop();e&&t.scrollToLine(e.end.row)}}},iR.imeKeyboardOnly({view:"touchIcon",batch:"ime",iconClass:"ti-world",on:{onTouchEnd:function(){Ew.switchKeyboardIME()}}})]},i),r.on("blur",(function(){a.caretCursor.hide()})),r.on("focus",(function(){a.updateTextSelectionCursors()})),a.caretCursor.element.addEventListener("touchmove",(function(e){a.$touching=!0,function e(t){if(t){var i,o,u,s,c,f=n.$cursorLayer,l=f.element.getBoundingClientRect(),h=f.config.offset,d=r.selection.getRange(),m=r.session.getLength();for(s=0;s<m&&!((u=f.getPixelPosition({row:s+1,column:0},!0).top-h+22)>=t.clientY);s++);d.start.row=d.end.row=s;var v=r.session.getLine(s).length,p=n.$textLayer.$fontMetrics.$characterSize.height;for(c=0;c<v&&(o=(i=f.getPixelPosition({row:s,column:c},!0)).left+l.left+3,u=i.top-h+p+22,!(o>=t.clientX&&u>=t.clientY));c++);d.start.column=d.end.column=c,r.selection.setRange(d);var g=r.selection.lead,b=g.row,w=g.column;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:f.getPixelPosition({row:b,column:w})},a.updateTextSelectionCursors()}}(e.changedTouches[0]),e.cancelable&&UI.preventEvent(e)})),a.rightCursor.element.addEventListener("touchmove",(function(e){UI.preventEvent(e),a.$touching=!0,function e(t){if(t){var i,o,u,s,c,f=n.$cursorLayer,l=f.element.getBoundingClientRect(),h=f.config.offset,d=r.selection.getRange(),m=r.session.getLength();for(s=d.start.row;s<m&&!((u=f.getPixelPosition({row:s+1,column:0},!0).top-h+18)>=t.clientY);s++);d.end.row=s;var v=r.session.getLine(s).length,p=d.start.row==s?d.start.column+1:0,g=n.$textLayer.$fontMetrics.$characterSize.height;for(c=p;c<v&&(o=(i=f.getPixelPosition({row:s,column:c},!0)).left+l.left+18,u=i.top-h+g+18,!(o>=t.clientX&&u>=t.clientY));c++);d.end.column=c,r.selection.setRange(d);var b=r.selection.lead,w=b.row,k=b.column;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:f.getPixelPosition({row:w,column:k})},a.updateTextSelectionCursors()}}(e.changedTouches[0])})),a.leftCursor.element.addEventListener("touchmove",(function(e){UI.preventEvent(e),a.$touching=!0,function e(t){if(t){var i,o,u,s,c,f=n.$cursorLayer,l=f.element.getBoundingClientRect(),h=f.config.offset,d=r.selection.getRange();for(s=d.end.row;s>=0&&!((u=f.getPixelPosition({row:s,column:0},!0).top-h+18)<=t.clientY);s--);d.start.row=s;var m=d.end.row==s?d.end.column-1:r.session.getLine(s).length,v=n.$textLayer.$fontMetrics.$characterSize.height;for(c=0;c<m&&(o=(i=f.getPixelPosition({row:s,column:c},!0)).left+l.left,u=i.top-h+v+18,!(o>=t.clientX&&u>=t.clientY));c++);d.start.column=c,r.selection.setRange(d);var p=r.selection.anchor,g=p.row,b=p.column;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:f.getPixelPosition({row:g,column:b})},a.updateTextSelectionCursors()}}(e.changedTouches[0])})),n.on("afterRender",a.updateTextSelectionCursors.bind(a));var o=null,u=!1,s=0,c=0;function f(e,t){t||document.hasFocus()&&UI.preventEvent(e),null!==o&&(clearTimeout(o),o=null)}function l(){var e=a.scrollTarget,t=Date.now();if(e&&a.cursorScroll){var r=.005*(t-a.cursorScroll),i=0,o=0,u=Math.max(0,.5*window.innerWidth-50),s=Math.max(0,.5*window.innerHeight-35),c=Math.min(u,80),f=Math.min(u,80),h=Math.min(s,80),d=Math.min(s,160),m=e.scrollPos,v=m.top-h,p=m.left-c,g=m.top+d,b=m.left+f,w=n.session,k=w.getScrollTop(),y=w.getScrollLeft(),R=n.$size;k>v&&v>=0?o=Math.min(r*(v-k),-1):k+R.height<g&&(o=Math.max(r*(g-k-R.height),1)),y>p&&p>=0?i=Math.min(r*(p-y),-1):y+R.width<b&&(i=Math.max(r*(b-y-R.width),1)),(i||o)&&(i&&w.setScrollLeft(y+i),o&&w.setScrollTop(k+o),e.afterScroll())}a.cursorScroll&&(a.cursorScroll=t,requestAnimationFrame(l))}function h(e){a.cursorScroll||(a.cursorScroll=Date.now(),requestAnimationFrame(l)),f(e)}function d(){a.cursorScroll=0,a.$touching=!1,a.updateTextSelectionCursors()}i.addEventListener("touchmove",(function(e){var t=e.changedTouches[0],r=-(t.clientX-s),n=-(t.clientY-c);(Math.abs(n)>10||Math.abs(r)>10)&&null!==o&&(clearTimeout(o),o=null)})),i.addEventListener("touchstart",(function(f){var l=f.changedTouches[0];s=l.clientX,c=l.clientY;var h=f.target;if(UI.hasClass(h,"ace_gutter-cell"))UI.removeClass(n.$gutter,"invisible-fold-widget");else if(!UI.hasClass(h,"ace_fold-widget")&&!UI.hasClass(h,"ace_fold")){var d=h.lensCommand;if(d)return r.execCommand(d.id,d.arguments),void UI.preventEvent(f);a.cursorScroll=0,document.hasFocus()&&UI.preventEvent(f),UI.addClass(n.$gutter,"invisible-fold-widget"),n.$gutter.dispatchEvent(new CustomEvent("mouseout")),null!==o&&(clearTimeout(o),o=null);var m=f.changedTouches[0],v=n.pixelToScreenCoordinates(m.clientX,m.clientY);o=setTimeout((function(){if("start"===e.scrollingStates[i.id]){u=!0,r.selection.moveCursorToScreen(v.row,v.column),r.selection.clearSelection();var n=r.selection.getWordRange(),o=r.getSession().getTextRange(n);if(!/^[\s;:,{}()[\].]+$/.test(o)){var s=r.selection.getCursor().column;(o.length<=3||n.start.column<s&&n.end.column>s)&&r.selection.selectWord()}if(t.isFocused()||t.focus(!0),!r.getSelectedText()){var c=t.getCursorElement(),f=a.actionBar,l=r.renderer;e.Wr(f,t);var h=f.element.getBoundingClientRect(),d=c.getBoundingClientRect(),m=d.left/2;m=(m=m<8?8:m)+h.width>l.$size.width-8?l.$size.width-8-h.width:m,f.element.style.left=m+"px",f.element.style.top=(d.top<120?d.bottom+32:d.top-h.height-16)+"px"}e.vibrate.dt()}}),675)}})),a.caretCursor.element.addEventListener("touchstart",h),a.caretCursor.element.addEventListener("touchend",d),a.leftCursor.element.addEventListener("touchstart",h),a.leftCursor.element.addEventListener("touchend",d),a.rightCursor.element.addEventListener("touchstart",h),a.rightCursor.element.addEventListener("touchend",d),i.addEventListener("touchend",(function(o){var s=o.target&&UI.hasClass(o.target,"ace_content");if(f(o,!s),a.$touching=!1,s)if(u)u=!1;else if("start"===e.scrollingStates[i.id]){var c=o.changedTouches[0],l=n.pixelToScreenCoordinates(c.clientX,c.clientY);r.selection.clearSelection(),r.selection.moveCursorToScreen(l.row,l.column),t.focus(!t.isFocused())}})),i.addEventListener("contextmenu",UI.preventEvent),i.addEventListener("click",(function(){r.isFocused()||r.focus()}))},e.TouchCursors.prototype={updateTextSelectionCursors:function(){var t=this.editor,r=this.caretCursor,n=this.leftCursor,i=this.rightCursor,a=this.actionBar,o=t.$ace,u=o.getSelectedText(),s=o.selection.getRange(),c=o.renderer;if(c&&c.$cursorLayer){var f=c.gutterWidth,l=c.$cursorLayer.config.offset,h=c.$textLayer.$fontMetrics.$characterSize.height,d=c.$cursorLayer.getPixelPosition(s.start,!0),m=c.$cursorLayer.getPixelPosition(s.end,!0),v=d.top+h-l,p=m.top+h-l,g=Math.round(c.scrollLeft);if(u&&u.length>0)if(r.hide(),n.show(),n.element.style.left=d.left-18+f-g+"px",n.element.style.top=v+"px",i.show(),i.element.style.left=m.left+f-g+"px",i.element.style.top=p+"px",this.$touching)e.Wr();else{e.Wr(a,t);var b=a.element.getBoundingClientRect(),w=(d.left+f)/2+(m.left+f)/2-b.width/2;w=(w=w<8?8:w)+b.width>c.$size.width-8?c.$size.width-8-b.width:w,a.element.style.left=w+"px",a.element.style.top=(v<120?p+32:v-h-b.height-16)+"px"}else o.isFocused()&&(o.$readOnly||r.show(),r.element.style.left=m.left-9+f-c.scrollLeft+1+"px",r.element.style.top=p+1+"px"),i.hide(),n.hide(),a.hide()}}}})).__init__((function(e){var t=ace.require("ace/lib/event");t.addTouchMoveListener=function(r,n){var i,a,o,u,s,c,f,l=0,h=0,d=e.scrollingStates,m=r.id;"ontouchmove"in r&&(t.addListener(r,"touchstart",(function(e){var t=e.changedTouches[0];c=u=t.clientX,f=s=t.clientY,i=o=Date.now(),l=h=0,d[m]="start"})),t.addListener(r,"touchmove",(function(e){var t=e.changedTouches[0],r=e.wheelX=-(t.clientX-u),i=e.wheelY=-(t.clientY-s),a=Date.now(),c=.001*(a-o+10);l=.5*l+r/c*.5,h=.5*h+i/c*.5,u=t.clientX,s=t.clientY,o=a,(Math.abs(r)>10||Math.abs(i)>10)&&(d[m]="scroll"),n(e)})),t.addListener(r,"touchend",(function(e){var t=e.changedTouches[0];a=Date.now();var r=t.clientX-c,n=t.clientY-f;(Math.abs(r)>20||Math.abs(n)>25)&&a-i>55&&(Math.abs(l)>15||Math.abs(h)>15)&&(i=a,d[m]="scroll",requestAnimationFrame(v))})));function v(){var e,t,r,i,u;(l||h)&&(e=(u=Date.now())-a,t=.001*(u-o),o=u,i=h*t*Math.exp(-e/375),r=l*t*Math.exp(-e/375),Math.abs(i)>1||Math.abs(r)>1?(n({wheelX:r,wheelY:i,timeStamp:u}),requestAnimationFrame(v)):d[m]=!1)}}})).def({Wr:function(e,t){if(this.activeActionBar&&this.activeActionBar.hide(),e){var r=t.$readOnly,n=t.getSelectedText(),i=["select","ime"];n&&i.push("copy"),r||(i.push("paste"),n&&i.push("cut")),e.showBatch(i),e.show(),this.activeActionBar=e}}});var dk,mk,vk,pk,gk,bk,wk,kk,yk,Rk={".js":"javascript",".ts":"typescript",".jsx":"jsx",".tsx":"tsx",".css":"css",".scss":"scss",".sass":"scss",".less":"less",".html":"html",".xhtml":"html",".htm":"html"},xk=function(e){return{line:e.row,character:e.column}},Ak=new(function(){function e(){n(this,e),this.pending={},this.messageId=0,this.queuedMessages=[],this.debouncedDoValidate=UIkit2.Utils.debounce(this.doValidate,1500,!1)}return a(e,[{key:"$postMessage",value:function(e,t){t&&(e.id=++this.messageId,this.pending[this.messageId]=t),e.mode||(e.mode=this.$getModeFromName(e.name)),this.sendToWorker(e)}},{key:"sendToWorker",value:function(e){this.worker?this.worker.postMessage(e):this.queuedMessages.push(e)}},{key:"$getModeFromName",value:function(e){return Rk[Fw.ext(e||"")]}},{key:"addFile",value:function(e,t,r){this.$postMessage({type:"add",name:e,text:t},r)}},{key:"editFile",value:function(e,t,r){this.$postMessage({type:"edit",name:e,edits:t.map((function(e){var t=e.text,r=e.start,n=e.end;return{start:xk(r),end:xk(n),text:t}}))},r)}},{key:"updateFile",value:function(e,t,r){this.$postMessage({type:"update",name:e,text:t},r)}},{key:"removeFolder",value:function(e,t){this.$postMessage({type:"removeFolder",name:e},t)}},{key:"removeFile",value:function(e,t){this.$postMessage({type:"remove",name:e},t)}},{key:"moveFolder",value:function(e,t,r){this.$postMessage({type:"moveFolder",name:e,newName:t,mode:"all"},r)}},{key:"moveFile",value:function(e,t,r,n){this.$postMessage({type:"move",name:e,newName:t,text:r},n)}},{key:"setCurrentDirectory",value:function(e,t){this.$postMessage({type:"setCurrentDirectory",directoryName:e},t)}},{key:"clearFiles",value:function(e){this.$postMessage({type:"clear",mode:"all"},e)}},{key:"getCompletions",value:function(e,t,r,n){this.$postMessage({type:"completion",name:e,position:xk(t),triggerCharacter:r},n)}},{key:"doValidate",value:function(e,t){this.$postMessage({type:"validate",name:e},t)}},{key:"getInfo",value:function(e,t,r){this.$postMessage({type:"info",name:e,position:xk(t)},r)}},{key:"goToDefinition",value:function(e,t,r,n){this.$postMessage({type:"def",name:e,position:xk(t)},(function(e){e&&e.def&&(e.def.forEach((function(e){var t=e.textSpan;t.startPosition=r.indexToPosition(t.start),t.endPosition=r.indexToPosition(t.start+t.length)})),n(e))}))}},{key:"getSignature",value:function(e,t,r,n){this.$postMessage({type:"signature",name:e,position:xk(t),triggerCharacter:r},n)}},{key:"getRefs",value:function(e,t,r){this.$postMessage({type:"ref",name:e,position:xk(t)},r)}},{key:"getRenameLocations",value:function(e,t,r,n){this.$postMessage({type:["rename","renameInfo"],name:e,position:xk(t)},(function(e){e&&e.rename&&(e.rename.forEach((function(e){var t=e.textSpan;t.startPosition=r.indexToPosition(t.start),t.endPosition=r.indexToPosition(t.start+t.length)})),n(e))}))}},{key:"getRenameInfo",value:function(e,t,r){this.$postMessage({type:"renameInfo",name:e,position:xk(t)},r)}},{key:"start",value:function(){var e=this;if(!e.worker){var t=e.pending;e.worker=new Worker("./workers/language.worker.js"),e.worker.onmessage=function(r){var n=r.data;"log"==n.type?$LOG.log(n.message):"debug"==n.type?$LOG.debug(n.message):"warn"==n.type?$LOG.warn(n.message):"error"==n.type?$LOG.error(n.message):n.id&&t[n.id]&&(t[n.id](n),delete t[n.id]),e.queuedMessages.length&&(e.queuedMessages.forEach((function(t){e.worker.postMessage(t)})),e.queuedMessages.length=0)},e.worker.onerror=function(e){for(var r in t)t[r](null,e);t={}}}e.stopped=!1}},{key:"stop",value:function(){this.worker&&(this.worker.terminate(),this.worker=null,this.stopped=!0)}}]),e}());requestAnimationFrame((function(){return Ak.start()})),m.module("gitClient").require("addGitAuth","prompt","progress","path").__init__((function(e,t){var r=t.addGitAuth,n=t.prompt,i=t.progress,a=t.path;Object.assign(e,{addGitAuth:r,prompt:n,progress:i,path:a}),e.Emitter={emit:function(e,t){if(e.includes("::progress"))return i.ProgressReporter.throttledReportProgress(t)}},Hh.set("emitter",e.Emitter)})).def({Hr:function(e){var t=e.method,r=e.params,n=e.closeProgress,i=void 0!==n&&n,a=e.immediate,o=void 0!==a&&a,u=this;return r.emitterPrefix="::",Bg[t].call(Bg,r).then((function(e){return i&&u.progress.ProgressReporter.close(o),e})).catch((function(e){i&&u.progress.ProgressReporter.close(o);var r="string"==typeof e?e:e&&e.message;return $LOG.warn("[git:".concat(t,"] ").concat(r)),Promise.reject(e)}))},Lt:function(e,t){var r=this;return this.Hr({method:"getOidAtPath",params:{dir:e,path:t}}).then((function(t){return t?r.Hr({method:"readObject",params:{dir:e,oid:t,encoding:"utf8"}}).then((function(e){return e.object})):null}))},Vr:function(e,t){return this.Hr({method:"currentBranch",params:{dir:e,fullname:t}})},Kr:function(e){var t=this,r=e.dir,n=e.prop,i=e.value;return this.Vr(r).then((function(a){return t.qr(void 0!==i||Object.prototype.hasOwnProperty.call(e,"value")?{dir:r,path:"branch.".concat(a,".").concat(n),value:i}:{dir:r,path:"branch.".concat(a,".").concat(n)})}))},Zr:function(e){return this.Kr({dir:e,prop:"remote"})},Yr:function(e){return this.Kr({dir:e,prop:"merge"})},Jr:function(e,t){return this.Kr({dir:e,prop:"remote",value:t})},Qr:function(e,t){return this.Kr({dir:e,prop:"merge",value:t})},Xr:function(e){return this.Hr({method:"log",params:{dir:e}}).then(Vw("git_log","git_core"),Kw("git_log","git_core"))},tn:function(e,t,r,n){var i=Object.assign({dir:e,remote:r,ref:n,noGitSuffix:!0,newSubmoduleBehavior:!0},t||{});return $LOG.log("[git:pull] ".concat(t?t.username:"?","@").concat(r,"/").concat(n)),this.Hr({method:"pull",params:i,closeProgress:!0})},rn:function(e,t,r){return Promise.all([this.nn(e,t).catch((function(){return null})),this.nn(e,"remotes/".concat(r,"/").concat(t)).catch((function(){return null}))]).then((function(e){var t=k(e,2),r=t[0],n=t[1];return{localRef:r,remoteRef:n,isAhead:r!==n}}))},in:(yk=r(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.an(t);case 2:if(n=e.sent,r&&(i=n.find((function(e){return e.remote===r}))),!i){e.next=8;break}return e.abrupt("return",i);case 8:throw new Gb({code:Ub,noUpstream:!r,noRemote:0===n.length});case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return yk.apply(this,arguments)}),un:(kk=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Zr(t);case 2:return r=e.sent,e.abrupt("return",this.in(t,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return kk.apply(this,arguments)}),sn:(wk=r(regeneratorRuntime.mark((function e(t,r,n){var i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,e.prev=1,e.next=4,i.cn(t);case 4:if(!(a=e.sent)||!a.matrix||0!==a.matrix.length){e.next=10;break}return e.next=8,i.ln(t,r.url,n);case 8:e.next=14;break;case 10:return e.next=12,i.hn(t,r,n);case 12:(o=e.sent)&&(u=wb.Objects.SuccessfulFor(wb.Objects.Pull),o.alreadyMerged?(i.prompt.K(u,"Your branch is already up-to-date with the remote."),Ww("pull_up_to_date","git_core")):o.fastForward?(i.prompt.K(u,"Fast-forwarded local branch to the remote."),Ww("pull_fast_forward","git_core")):o.recursiveMerge&&(i.prompt.K(u,"Merged the remote with the local branch. Commit to save the merged files."),Ww("pull_merged","git_core")));case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0.message&&e.t0.name&&i.prompt.K(e.t0.name,e.t0.message),e.t0;case 20:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e,t,r){return wk.apply(this,arguments)}),cn:function(e){var t=this;return t.dn(e).then((function(e){var r=e.changes;return r?t.mn({resolveTo:e,error:{name:"Checkout Error: Uncommitted changes",message:yb({en:"The current working tree is not clean with ".concat(r," change(s). Checkout will lose your current changes."),es:"El árbol de trabajo actual no está limpio con ".concat(r," cambios. ¿Descartar todos los cambios?"),ja:"作業ツリーにコミットしていない".concat(r,"変更があります。変更を破棄しますか？"),pt:"A cópia de trabalho atual não está limpa com ".concat(r," alterações. Você quer descartar as mudanças?"),zh:"该工作树并不干净，并且含有".concat(r,"未暂存的变更。您想放弃更改？"),zhTW:"目前工作目錄有".concat(r,"改動。要放棄變更？")})},ignoreLabel:wb.Elements.RevertAndCheckout,obeyLabel:wb.Elements.Cancel}):e})).then(Vw("git_core_checkout","git_core"),Kw("git_core_checkout","git_core"))},mn:function(e){var t=e.resolveTo,r=e.error,n=e.ignoreLabel,i=e.obeyLabel,a=this;return new Promise((function(e,o){a.prompt.gt(r.name,null,{message:r.message,okLabel:i,cancelLabel:n,cancelColor:"danger",onResult:function(){o(r)},onDismiss:function(){e(t)}})}))},dn:function(e){var t=this;return t.vn(e).then((function(e){var r=t.pn(e);return r.matrix=e,r}))},pn:function(e){for(var t,r=0,n=0,i=0;i<e.length;i++)(t=e[i])[4]&&r++,t[1]!==t[2]&&n++;return{conflicts:r,changes:n}},hn:(bk=r(regeneratorRuntime.mark((function e(t,r,n){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(i=this).path.ot(r.url),e.next=4,i.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(a);case 4:return o=e.sent,e.prev=5,e.next=8,i.tn(t,o,r.remote,n);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(5),"string"!=typeof e.t0||!e.t0.includes("MergeNoCommonAncestryError")){e.next=18;break}i.prompt.K("Remote Diverged","Pull failed because no common ancestor was found between the remote and local branch."),Ww("pull_diverged","git_core_f"),e.next=20;break;case 18:return e.next=20,i.gn(e.t0,"pull");case 20:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e,t,r){return bk.apply(this,arguments)}),gn:(gk=r(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,!t||"string"!=typeof t.message){e.next=9;break}throw i=t.message,a=t.name||"HTTP Error",i.includes("401")?(i="Credentials provided failed for ".concat(r,"."),a="Authentication Error!"):i.includes("404")&&(i="Operation ".concat(r," failed because HTTP URL could not be found."),a="Remote URL Not Found!"),n.prompt.K(a,i),new Error(i);case 9:throw t;case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return gk.apply(this,arguments)}),an:function(e){return this.Hr({method:"listRemotes",params:{dir:e}})},bn:function(e,t){return $LOG.log("[git:add] ".concat(t)),this.Hr({method:"add",params:{dir:e,filepath:t}})},ve:function(e,t){return this.Hr({method:"listFiles",params:{dir:e,ref:t}})},wn:function(e,t){return $LOG.log("[git:rm] ".concat(t)),this.Hr({method:"remove",params:{dir:e,filepath:t}})},nn:function(e,t){return this.Hr({method:"resolveRef",params:{dir:e,ref:t}})},kn:function(e){return Promise.all([this.yn(e).then((function(e){return e.map((function(e){return{name:e,ref:"refs/heads/".concat(e)}}))})),this.Rn(e).then((function(e){return e.reduce((function(e,t){return e.concat(t.branches.map((function(e){return{name:e,remote:t.remote,ref:"refs/remotes/".concat(t.remote,"/").concat(e)}})))}),[])}))]).then((function(e){var t=k(e,2),r=t[0],n=t[1];return r.concat(n)}))},Rn:function(e){var t=this;return t.an(e).then((function(r){return Promise.all(r.map((function(r){var n=r.remote;return t.yn(e,n).then((function(e){return{remote:n,branches:e}}))})))}))},vn:function(e){return this.Hr({method:"statusMatrix",params:{dir:e},closeProgress:!0,immediate:!0})},we:function(e,t){return this.Hr({method:"status",params:{dir:e,filepath:t},closeProgress:!0,immediate:!0})},xn:function(e,t){return this.Hr({method:"fetch",params:{dir:e,remote:t},closeProgress:!0,immediate:!0})},An:(pk=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=this).path.ot(t),e.next=4,r.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(n);case 4:return i=e.sent,e.next=7,r.Sn(t,i);case 7:if(a=e.sent){e.next=12;break}throw new Gb({name:"Connection Error: Repo url not found",message:"Cannot connect to remote repository. Please check your Git credentials or repo url."});case 12:return e.abrupt("return",{remoteInfo:a,auth:i});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return pk.apply(this,arguments)}),Cn:function(e,t,r){var n=t.remote,i=t.url,a=this;return a.Vr(e).then((function(t){return t?a.rn(e,t,n).then((function(o){var u=o.isAhead,s=o.remoteRef;if(u){if(null===s){var c=a.path.ot(i);return a.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(c).then((function(t){return a.Tn(e,t,r,n)}))}return a.An(i).then((function(i){var o=i.remoteInfo,u=i.auth;return o.refs&&o.refs.heads&&o.refs.heads[t]!==s?Promise.reject({name:"Push Error: Requires Update",message:"Your branch is behind the remote. Please pull in changes before push."}):a.Tn(e,u,r,n)}))}return Promise.reject({name:"Push Error: No Commits",message:"Your repo does not have any commits to push."})})):Promise.reject({name:"Push Error: Detached HEAD",message:"Your repo is in a detached HEAD state. Please re-checkout a branch to fix this."})})).catch((function(e){if("string"!=typeof e)return a.gn(e,"push");e.includes("PushRejectedNoCommonAncestry")?a.prompt.K("Remote Diverged","Push rejected because no common ancestor was found with the remote branch."):e.includes("PushRejectedNonFastForward")?a.prompt.K("Requires Update","Your branch is behind the remote. Please pull in changes before push."):e.includes("PushRejectedTagExists")?a.prompt.K("Requires Update","Push rejected because a tag already exists."):e.includes("ReadObjectFail")&&a.prompt.K("Missing Git Object","Push rejected because of a missing git commit object.")}))},Tn:function(e,t,r,n){var i=t||{},a=i.username,o=i.token;return this.Hr({method:"push",params:{dir:e,ref:r,remote:n,noGitSuffix:!0,username:a,token:o},closeProgress:!0,immediate:!0})},Sn:function(e,t){return t=t||{},this.Hr({method:"getRemoteInfo",params:{url:e,username:t.username,token:t.token}})},En:function(e,t){var r=this,n=GitStatusTypes,i=n.CONFLICT,a=n.STAGED,o=n.DELETED,u=t.reduce((function(t,n){var u=n.path,s=n.status;if(!(s&i||s&a)){var c=Fw.relativeTo(u,e);t.push(s&o?r.wn(e,c):r.bn(e,c))}return t}),[]);return Promise.all(u)},In:(vk=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,n.Vr(t);case 3:return i=e.sent,e.next=6,n.rn(t,i,r);case 6:if(!e.sent.isAhead){e.next=22;break}return e.prev=9,e.next=12,n.Hr({method:"listCommitsAndTags",params:{dir:t,start:["HEAD"],finish:["".concat(r,"/HEAD")]}});case 12:return a=e.sent,e.abrupt("return",a.size);case 16:return e.prev=16,e.t0=e.catch(9),e.next=20,n.Hr({method:"log",params:{dir:t}});case 20:return o=e.sent,e.abrupt("return",o.size);case 22:return e.abrupt("return",0);case 23:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(e,t){return vk.apply(this,arguments)}),jn:(mk=r(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vr(t,!0);case 2:return i=e.sent,e.next=5,this.Hr({method:"commit",params:{dir:t,message:r,author:n},ref:i,closeProgress:!0});case 5:return a=e.sent,$LOG.log("[git:commit] ".concat(a)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return mk.apply(this,arguments)}),zn:function(e,t){var r=this;return r.cn(e).then((function(){return r.On(e,t)}))},Fn:function(e,t,r){return this.Hr({method:"checkout",params:{dir:e,ref:t,filepaths:r,newSubmoduleBehavior:!0},closeProgress:!0})},On:function(e,t){return this.Hr({method:"checkout",params:{dir:e,ref:t,newSubmoduleBehavior:!0},closeProgress:!0})},Pn:function(e,t,r){return this.Hr({method:"branch",params:{dir:e,ref:t,checkout:r},closeProgress:!0})},Mn:function(e,t,r){var n=this;return n.nn(e,"HEAD").then((function(){return n.Pn(e,t,r)}),(function(e){return n.prompt.K("No Commit","Cannot create a dangling branch with no commit."),Promise.reject(e)}))},Ln:function(e,t){return this.Hr({method:"deleteBranch",params:{dir:e,ref:t},closeProgress:!0})},Bn:function(e,t){var r=this;return this.Ln(e,t).then(Vw("git_delete_branch","git_core"),(function(e){return r.prompt.K(wb.Actions.Failed(wb.Actions.Delete(wb.Objects.Branch)),e.message),Promise.reject(e)}))},Dn:function(e,t,r){return this.Hr({method:"addRemote",params:{dir:e,remote:t,url:r},closeProgress:!0})},Un:function(e,t){return this.Hr({method:"deleteRemote",params:{dir:e,remote:t},closeProgress:!0})},yn:function(e,t){return this.Hr({method:"listBranches",params:{dir:e,remote:t}}).then((function(e){var r=e.filter((function(e){return"HEAD"!==e}));return $LOG.log("[git:listBranches:".concat(t||"local","] (").concat(r.join(", "),")")),r}))},qr:function(e){return this.Hr({method:"config",params:e})},$n:function(e,t,r){var n={url:t,dir:e,noGitSuffix:!0,depth:1,newSubmoduleBehavior:!0};return r&&(n.username=r.username,n.token=r.token),this.Hr({method:"clone",params:n,closeProgress:!0})},ln:(dk=r(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=this).path.ot(r),e.next=4,n.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(i);case 4:return a=e.sent,e.prev=5,e.next=8,n.$n(t,r,a);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),e.next=14,n.gn(e.t0,"clone");case 14:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e,t){return dk.apply(this,arguments)}),Nn:function(e){return this.Hr({method:"init",params:{dir:e,noOverwrite:!0},closeProgress:!0})}});var Sk,Ck,Tk,_k,Ek,Ik,jk=function(e){return Promise.all(e).then((function(e){return wa.concat(e.map((function(e){return wa.from(e)})))}))},zk=function(){var e=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ew.appVersion();case 2:return e.t0=e.sent,e.abrupt("return",e.t0>=12);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ok=function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.headers=r.headers||{},e.next=3,zk();case 3:if(!e.sent){e.next=9;break}return r.body&&r.body.byteLength&&(r.headers["X-Request-Body"]=wa.from(r.body).toString("base64")),r.headers["X-Proxy-To"]=t,e.abrupt("return",fetch("/proxy",r));case 9:return n=t.slice(t.indexOf("://")+3),e.abrupt("return",fetch("https://cors.isomorphic-git.org/".concat(n),r));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function Fk(){return(Fk=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m,v,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.method,i=void 0===n?"GET":n,a=t.headers,o=void 0===a?{}:a,!(u=t.body)){e.next=7;break}return e.next=4,jk(u);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:return s=e.t0,e.next=11,Ok(r,{method:i,headers:o,body:s});case 11:c=e.sent,f={},l=c.headers.entries(),h=A(l);try{for(h.s();!(d=h.n()).done;)m=k(d.value,2),v=m[0],p=m[1],f[v]=p}catch(e){h.e(e)}finally{h.f()}return e.next=18,c.arrayBuffer();case 18:return g=e.sent,e.abrupt("return",{url:c.url,method:i,statusCode:c.status,statusMessage:c.statusText,body:[new Uint8Array(g)],headers:f});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Hh.set("fs",Uw),Hh.set("http",(function(e){return Fk.apply(this,arguments)})),Hh.set("iterate",(function(e,t){return Ib({data:Array.from(t),promiseGenerator:function(t){return e(t)},maxConcurrency:10})})),m.module("keyboardShortcuts").def({Gn:function(){var e=$$("mainEditor").$editor.$ace,t=[];if(e){var r=e.commands.platform;e.keyBinding.$handlers.forEach((function(e){var n=e.commands;for(var i in n){var a=n[i],o=a.description,u=a.bindKey,s=a.name,c=u&&u[r],f=UI.capitalize(o||s.replace(/([a-z])([A-Z])/g,"$1 $2")||"");c&&f&&("mac"===r&&(c=c.replace(/Command[-+]/g,"⌘").replace(/Ctrl[-+]/g,"⌃").replace(/Option[-+]/g,"⌥").replace(/Shift[-+]/g,"⇧").replace(/Backspace/g,"⌫")),t.push({name:f,key:c}))}})),t.sort((function(e,t){return-(e.name<t.name)||+(e.name>t.name)}))}return t},cr:function(){return this.He().open()}}),m.module("keyboardShortcuts").def({Wn:function(){return $$("keyboardShortcutsList")},qt:function(){return $$("keyboardShortcutsSearchInput")},He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","full","large","blank"],header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Objects.KeyboardShortcuts),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuToggle",icon:"search",title:"Search Shortcuts",on:{onToggled:function(){var t=e.qt();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"keyboardShortcutsCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"keyboardShortcutsSearchInput",cls:"x-menu-search",view:"searchField",hidden:!0,i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Log),clearSearch:!0,on:{onInput:function(){e.Wn().refresh()}}}]},body:{view:"scroller",nativeScroll:Ew.supported,cells:[{id:"keyboardShortcutsList",view:"list",padding:"small",itemTagClass:"x-file-list-item",selectable:!0,flexSize:"flex",listStyle:"side",filter:function(t){var r=e.qt().getValue().toLowerCase();return t.name.toLowerCase().includes(r)||t.key.toLowerCase().includes(r)},template:function(e){return'<span class="uk-flex-item-1 x-text-overflow-ellipsis">'.concat(e.name,"</span><span>").concat(e.key,"</span>")},data:[]}]},on:{onOpened:function(){e.Wn().setData(e.Gn())}}},document.getElementById("appContainer"))}}),m.module("landing").def({Nn:(Tk=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ew.supported){e.next=2;break}return e.abrupt("return");case 2:return t=this,e.next=5,t.Hn();case 5:if(r=e.sent){e.next=10;break}t.prompt.K({en:"Read Carefully",es:"Lea Cuidadosamente",fr:"Lire attentivement",id:"Bacalah dengan seksama",ja:"慎重に読む",pt:"Leia Cuidadosamente",ru:"Внимательно прочитайте",zh:"仔细读",zhTW:"仔細讀"},{en:"Uninstalling this app will remove all app-related data (including files, projects). Please keep back-up of your projects through GIT to prevent accidental data-loss.",es:"La desinstalación de esta aplicación eliminará todos los relacionados con la aplicación (incluidos archivos, proyectos). Mantenga una copia de seguridad de sus proyectos a través de GIT para evitar la pérdida accidental de datos.",fr:"La désinstallation de cette application supprimera toutes les données liées à l'application (y compris les fichiers, les projets). Veuillez conserver la sauvegarde de vos projets via GIT pour éviter la perte accidentelle de données.",id:"Menghapus instalasi aplikasi ini akan menghapus semua data terkait aplikasi (termasuk file, proyek). Harap simpan cadangan proyek Anda melalui GIT untuk mencegah kehilangan data yang tidak disengaja.",ja:"このアプリをアンインストールすると、アプリ関連（ファイル、プロジェクトなど）がすべて削除されます。偶発的なデータ損失を防ぐために、GITを介してプロジェクトのバックアップを保管してください。",pt:"A desinstalação deste aplicativo removerá todos os aplicativos relacionados (incluindo arquivos, projetos). Mantenha o backup de seus projetos através do GIT para evitar a perda acidental de dados.",ru:"Удаление этого приложения приведет к удалению всех связанных с приложением (включая файлы, проекты). Сохраняйте резервные копии своих проектов через GIT, чтобы предотвратить случайную потерю данных.",zh:"卸载此应用程序将删除所有与应用程序相关的文件（包括文件，项目）。请通过GIT备份您的项目，以防止意外的数据丢失。",zhTW:"卸載此應用程序將刪除所有與應用程序相關的內容（包括文件，項目）。請通過GIT備份您的項目，以防止意外的數據丟失。"},(function(){t.Hn(1)})),e.next=24;break;case 10:if(n=null,e.t0=n,!e.t0){e.next=18;break}return e.next=15,t.Vn();case 15:e.t1=e.sent,e.t2=n,e.t0=e.t1!==e.t2;case 18:if(!e.t0){e.next=22;break}return t.prompt.gt({en:"Special Annoucement"},null,{message:{en:"There is a special announcement. Would you like to go and read it?"},onResult:function(){m.modules.main.Kn().showLanding(),t.qn().switchToTab("update")}}),e.next=22,t.Vn(n);case 22:return e.next=24,t.Hn(r+1);case 24:case"end":return e.stop()}}),e,this)}))),function(){return Tk.apply(this,arguments)}),Vn:(Ck=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,void 0===t){e.next=6;break}return e.next=4,r.model.xe("specialAnnoucementId",t);case 4:e.next=7;break;case 6:return e.abrupt("return",r.model.Re("specialAnnoucementId"));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return Ck.apply(this,arguments)}),Hn:(Sk=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,void 0===t){e.next=6;break}return e.next=4,r.model.xe("userSessionCount",t);case 4:e.next=7;break;case 6:return e.abrupt("return",r.model.Re("userSessionCount")||0);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return Sk.apply(this,arguments)})}),m.module("landing").__new__((function(e){e.annoucements='\n# Android 4.3.6\n\n## Changes\n\n- Add AMOLED mode option to make dark theme use "true black" `#000`\n- Add search bar to Settings tab\n- Add "Font" Setting to change to a preset list of fonts\n- Add link to Discord channel in Settings tab\n- Add ⌘ (Ctrl) key to editor extra keyboard\n  * Ctrl key on many Android keyboards found to be unreliable, this is a reliable alternative\n- Autocomplete: Local autocomplete improved in CSS to find all CSS classes\n- Changes to dark theme colors to reduce blue light\n- Cleaner look on desktop/browser version\n- Change Eruda Console default settings "Lazy Evaluation" and "Async Rendering" to off as it was creating confusion in execution order of JS\n\n## Bug Fixes\n\n- Fix Keybinding setting overriding Emmet keyboard shortcuts\n- Fix CSS completion of `:first-child`, `::before`, etc. inserting repeated first character\n\n## Upcoming\n\n- External storage projects is on the roadmap for the next major release\n\n# Android 4.3.5 / iOS 1.1.2\n\n## Changes\n\n- Add Emmet key to CSS mode [CSS abbreviations](https://docs.emmet.io/css-abbreviations/)\n- Add smarter text completer to all modes (completes local words)\n- Add "Emmet" shortcuts to Keyboard Shortcut list\n- Add a IME keyboard change button to editor context menu\n- Editor remembers cursor, selections, scroll position for last 100 files\n\n## Bug Fixes\n\n- Fixed "Revert All" only resetting commit but not reverting files\n- Fixed CSS mode comment shortcut (Ctrl-/) using HTML commenting\n- Fixed "Revert" file confusing syntax validation and autocompleter sync issues\n- Fixed "Legacy" console not closing + "Legacy Console Input" not working\n- Fixed drawer "No Animation" setting responding to pan gestures but not animating\n\n# Android 4.3.4\n\n## Bug Fixes\n\n- Fixed extra keys not working correctly\n- Fixed Legacy console mode causing crashes on some devices\n- Fixed Legacy console affecting scrolling on some devices\n\n# Android 4.3.3 / iOS 1.1.1\n\n## Changes\n\n- Add "Soft Tabs" setting to switch to using "soft/hard" tabs\n- Add "Show Invisibles" setting to show tabs, spaces, and new lines\n- Add "Legacy" console mode for better compatibility with some projects (Legacy console not supported in side preview window)\n- Add "Vertical Console" to preview menu when using legacy console only\n- Drawer now respects "No Animations" setting\n- Improved initial editor load time\n- Restrict "Tablet Mode" for device widths larger than 480pt\n- Requirements lowered to Chrome 30+, Android 5.0+\n- Move CSS color selection to extra keyboard from context menu\n\n## Bug Fixes\n\n- Fixed git checkout not previously working\n- Fixed editor keyboard backspace issues (for Touchpal Keyboard)\n- Fixed layout problems in older Chrome versions (37-39)\n- Fixed a few layout problems on small screen\n- Fixed TypeScript mode completions (only showing snippets before)\n- Fixed images not previewable until first launch\n- Fixed "Auto" orientation restarting app\n- Fixed doubled cursor issues on older Android versions\n- Fixed blue highlight appearing over app when connecting a physical keyboard\n\n# Android 4.3.0 / iOS 1.1.0\n\n## Major Changes\n\n- New "Keyboard Shortcuts" viewer in Settings\n- New Console toggle in "Preview Panel"\n- New "Tablet Mode"\n- iPad Support\n\n## Minor Changes\n\n- Styling changes to touch mode\n- Switch menu scrolling to native scroll\n- Added Indonesian, French localization\n- [Ctrl-L/Command-L] now shows function signature\n- [Ctrl-M/Command-M] now opens side menu\n- [Ctrl-P/Command-P] now opens preview\n- [Ctrl-Shift-P/Command-Shift-P] now launches preview in tablet mode\n- Changed "Paste" in keyboard menu to "Next Error"\n- Improvements to drawer swipe detection algorithm\n- Removed "Share Link" option as it was no longer working\n\n## Bug Fixes\n\n- Fixed copying text outside of app\n- Fixed pasting text when external clipboard is not empty\n- Fixed "Go to Definition" (Ctrl-B)\n- Fixed "Show Signature" (Ctrl-L)\n- Fixed default file confusion after deletion of index file\n\n# Android 4.2.5 / iOS 1.0.0\n\n## Major Changes\n\n- iOS support is here! App available for iOS 12+\n- Add "One Dark" theme\n- Add color picker to css/less/scss action bar\n\n## Minor Changes\n\n- Emmet key icon change\n- Open in Browser respects Console option\n- Improved text selection\n\n## Bug Fixes\n\n- Fixed editor scroll position offset when keyboard opens\n- Fixed setting "Launch Default" path not working\n\n# Update 4.2.4\n\n- Fix project deletion bug (unable to delete some projects)\n\n# Update 4.2.3\n\n- Improve line selection algorithm (clicking detection)\n\n# Update 4.2.2\n\n- Add camera and audio permissions for projects that require it\n\n# Update 4.2.1\n\n## Minor Changes\n\n- Improved git Differ (with line-by-line revert and fixes to diffing algorithm)\n- In-editor search box will scroll to line on "Find Prev/Next"\n- Minimum Android version bumped to 7.0 (Android M) due to WebView/Chrome version mismatch in 6.0\n\n## Bug fixes\n- More accurate representation of git diffs\n- Improve overall stability of IO operations\n- Fixed IO errors when performing rapid actions (< 50ms)\n- Fixed git changed list not updating when switching projects\n\n# Update 4.2.0\n\n## Minor Changes\n\n- Add "Share URL" option to Remotes List\n- Add header select to Annoucements page\n- Change edit action bar to icons\n\n## Bug fixes\n\n- Fixed Editor trying to open known file types that it cannot open properly\n- Fixed autocomplete for local file editing\n- Fixed breadcrumb dropdown for local file editing\n- Fixed first file not included in navigation history\n- Fixed pushing to remotes not named "origin"\n\n# Update 4.1.0\n\n## Minor Changes\n\n- New buttons added to editor keyboard\n- New icons added to interface\n- Merged Autocomplete/Check-Syntax settings (as they work together now)\n\n## Bug fixes\n\n- Fixed console log problems\n- Fixed emmet not working correctly\n- Fixed redo not responding in rare cases\n\n## Major Changes\n\n# Update 4.0.0\n\n## Major Changes\n\n- Editor and Android app versions merge (no more 0.9.x)\n- Upgrade editor by upgrading Android app, no more auto-updates\n- IDB projects (created in Editor v0.1.0 - v0.8.0) no longer supported\n\n### Autocomplete/Syntax Analysis Rewrite\n\n- Basic (keywords only) autocompletion extended to Python, Java, CoffeeScript, Less, Stylus, and more!\n- Snippets now supported in JavaScript, CSS, HTML, Python, Java, CoffeeScript, and more!\n- CSS4 syntax supported (CSS4 variables, etc.)\n- Improved code-hinting and signature lookup\n\n### Eruda Console\n\n- Default Console option in the app has been replaced with Eruda console\n- Offers greater inspection of app, (i.e. Element, Network inspection)\n- Chrome-like error messages and object inspection in the console\n\n## Minor Changes\n\n- "Auto" Orientation now supported in *Settings* for mobile devices\n- New keybinding options for editor in *Settings*\n- Bug fixes and resource usage improvements\n'})),m.module("landing").require("project","gitClient","cloneRepo","messages","prompt","model","remote").__init__((function(e,t){var r=t.project,n=t.gitClient,i=t.cloneRepo,a=t.messages,o=t.prompt,u=t.model,s=t.remote;Object.assign(e,{project:r,gitClient:n,cloneRepo:i,messages:a,prompt:o,model:u,remote:s}),e.md=window.markdownit({html:!0}),e.labIndex={},e.filters={},e.Nn()})).def({qn:function(){return $$("landingTab")},Wn:function(){return $$("landingProjectsList")},Zn:function(){return $$("landingSearchBar")},Yn:function(){return $$("landingProjectsSearch")},Jn:function(){return $$("landingScroller")},Qn:function(){return $$("landingAnnoucements")},Xn:function(){return $$("landingAnnoucementHeaders")},ei:function(){var e=this.md.render(this.annoucements);this.Jn().showBatch("annoucements"),this.Zn().showBatch("annoucements");var t=this.Qn().element;t.innerHTML=e;var r=Array.from(t.querySelectorAll("h1")),n=this.Xn();n.setNodes(r),n.setData(r.map((function(e,t){return{label:e.textContent,value:t}})))},ti:function(){return this.Zn().showBatch("projects"),Object.keys(this.labIndex).length?Promise.resolve(this.ri()):this.ni()},ni:(Ik=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.ii().then(Vw("landing_refresh_list","landing"),Kw("landing_refresh_list","landing"));case 3:t.ri();case 4:case"end":return e.stop()}}),e,this)}))),function(){return Ik.apply(this,arguments)}),ri:function(){var e=this,t=e.Wn(),r=e.ai(Object.keys(e.labIndex).map((function(t){return e.labIndex[t]})));t.setData(r),e.Jn().showBatch(r.length?"list":"empty")},oi:function(e,t){return(e=new Date(e.date).getTime())-(t=new Date(t.date).getTime())},ai:function(e){switch(this.filters.category){case"tag":return this.ui(e.filter((function(e){return e.tagged})));default:return this.ui(e).sort(this.oi)}},ui:function(e){var t=this.Yn().getValue().toLowerCase();return t?e.filter((function(e){return e.name.toLowerCase().includes(t)||e.label.toLowerCase().includes(t)})):e},si:function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e},ii:(Ek=r(regeneratorRuntime.mark((function e(){var t,r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.remote.X({url:"labs/index.json",retryCount:1});case 3:return r=e.sent,n=Nw(r)||{},e.next=7,t.model.Re("tagged");case 7:return(i=e.sent)?Object.keys(n).forEach((function(e){n[e].tagged=i.includes(e),n[e].key=e})):Object.keys(n).forEach((function(e){n[e].key=e})),e.abrupt("return",UI.extend(t.labIndex,n));case 10:case"end":return e.stop()}}),e,this)}))),function(){return Ek.apply(this,arguments)}),ci:(_k=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.model.Re("tagged");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:if(n=e.t0,i=n,-1===n.indexOf(t.key)?(t.tagged=!0,i=n.concat([t.key])):(t.tagged=!1,i=n.filter((function(e){return e!==t.key}))),i===n){e.next=12;break}return e.next=12,r.model.xe("tagged",i);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return _k.apply(this,arguments)})}),m.module("landing").__init__((function(e){e.view=UI.new({batch:"landing",flexLayout:"column",cells:[{id:"landingTab",view:"list",cls:"x-horizontal-menu-tab",flexSize:"none",listStyle:"tab",itemTagClass:"x-chrome-tab",data:[{view:"link",style:{width:"3.5em"}},{view:"menuIcon",iconClass:"ti-package",value:"lab"},{view:"menuIcon",iconClass:"ti-bookmark-alt",value:"tag"},{view:"menuIcon",iconClass:"ti-comment-alt",value:"update"},{view:"link",style:{width:"3.5em"}}],setClassToItem:function(e,t){this.each((function(e){var r=this.getItemNode(e.id);r&&UI.removeClass(r,t)}),this);var r=this.getItemNode(e.id);r&&UI.addClass(r,t)},switchToTab:function(t){var r=this.data.find((function(e){return e.value===t})),n=r&&r.value;if(n)switch(this.setClassToItem(this.next(r),"next"),this.setClassToItem(this.previous(r),"previous"),this.setActive("value",n),n){case"lab":return e.filters.category=null,e.ti();case"tag":return e.filters.category="tag",e.ti();case"update":return e.ei()}},on:{onItemClick:function(e){this.switchToTab(e.value)}}},{id:"landingSearchBar",cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",cells:[{id:"landingProjectsSearch",batch:"projects",view:"searchField",cls:"x-menu-search",style:{width:"280px",maxWidth:"80vw",marginLeft:"auto",marginRight:"auto"},clearSearch:!0,i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Labs),on:{onKeyUp:function(t,r,n){"Enter"===n.key&&e.ti()}}},{id:"landingAnnoucementHeaders",batch:"annoucements",view:"select",cls:"x-menu-search",style:{marginLeft:"auto",marginRight:"auto"},data:[],setNodes:function(e){this.nodes=e},on:{onChange:function(){var t=this.nodes;if(t){var r=t[this.getValue()];r&&(e.Qn().element.parentNode.scrollTop=r.offsetTop)}}}}]},{id:"landingScroller",view:"scroller",flexSize:"flex",nativeScroll:Ew.supported,cells:[{batch:"list",id:"landingProjectsList",view:"list",flexSize:"flex",textAlign:"center",itemTagClass:"uk-flex-inline x-lab-item",template:function(t){return UI.new({flexLayout:"column",cells:[{flex:!1,position:"relative",cells:[{view:"icon",cls:"x-tag-icon"+(t.tagged?" uk-text-primary":""),icon:"bookmark",size:"large",on:{onClick:function(r,n,i){UI.preventEvent(i);var a=this.element;e.ci(t).then((function(){t.tagged?UI.addClass(a,"uk-text-primary"):UI.removeClass(a,"uk-text-primary")}))}}},{view:"image",src:"labs/"+t.key+"/tb.nl.png",width:128,height:128}]},{cls:"x-lab-item-desc",flexLayout:"column",cells:[{view:"label",label:t.name},{view:"label",label:t.label,htmlTag:"SMALL"}]}]})},on:{onItemClick:function(t){e.project.fi(t.name,null,null,t)}}},{batch:"empty",cls:"x-empty-block",textAlign:"center",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",htmlTag:"H4",template:yb(wb.Actions.NoItemFound(wb.Objects.Labs))}]},{id:"landingAnnoucements",batch:"annoucements",cls:"x-markdown",padding:"x",style:{paddingBottom:"48px"}}]}]})})),m.module("logger").__new__((function(e){var t=window;function r(r){return t.console&&t.console[r]?function(){var n=e.logs,i=Array.prototype.slice.call(arguments),a=n[0];return a&&a.args[0]===i[0]?(a.times++,a.time=new Date):n.unshift({method:r,time:new Date,args:i,times:1}),n.length=100,t.console[r].apply(t.console,i)}:n}function n(){}t.$LOG={log:r("log"),debug:r("debug"),warn:r("warn"),error:r("error")},e.logs=[]})).def({cr:function(){return this.He().open()}}),m.module("logger").def({Wn:function(){return $$("loggerList")},qt:function(){return $$("loggerSearchInput")},He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["full","large","blank"],header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Objects.LogHistory),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuToggle",icon:"search",title:"Search Logs",on:{onToggled:function(){var t=e.qt();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"loggerCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"loggerSearchInput",cls:"x-menu-search",view:"searchField",hidden:!0,i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Log),clearSearch:!0,on:{onInput:function(){e.Wn().refresh()}}}]},body:{view:"scroller",nativeScroll:Ew.supported,cells:[{id:"loggerList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:function(t){var r=e.qt().getValue();return t.args.join(" ").includes(r)},template:function(e){var t=e.args.map((function(e){return String(e)})).join(" ");return e.message=t+(e.times>1?"(".concat(e.times,")"):""),"<span>[".concat(e.time.toLocaleTimeString(),"] </span><span>").concat(t,"</span>")},data:[]}]},on:{onOpened:function(){e.Wn().setData(e.logs)}}},document.getElementById("appContainer"))}});var Pk,Mk,Lk,Bk,Dk,Uk,$k,Nk,Gk,Wk,Hk,Vk,Kk,qk,Zk,Yk,Jk,Qk,Xk,ey,ty,ry,ny,iy,ay,oy,uy,sy,cy,fy,ly,hy,dy,my,vy,py,gy,by,wy,ky,yy,Ry,xy,Ay,Sy,Cy,Ty,_y,Ey,Iy,jy,zy,Oy,Fy,Py,My,Ly,By,Dy,Uy,$y,Ny,Gy,Wy,Hy,Vy,Ky,qy,Zy,Yy,Jy,Qy,Xy,eR,tR=Object.create(null);m.module("main").def({li:jb(function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w.tmpDirAsync(t);case 2:return n=e.sent,e.next=5,Uw.write(n,r,{atomic:!0});case 5:return e.next=7,Uw.rm(t,{atomic:!0});case 7:return e.next=9,Uw.mv(n,t,{atomic:!0});case 9:return e.next=11,Uw.observable.run({action:"write",path:t,type:"file",updateStatus:!0});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),(function(e){return e}),tR),hi:jb(function(){var e=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw.exists(t);case 2:if(e.sent){e.next=11;break}return e.next=5,$w.tmpDirAsync(t);case 5:return r=e.sent,e.next=8,Uw.exists(r);case 8:if(!e.sent){e.next=11;break}return e.next=11,Uw.mv(r,t,{updateStatus:!0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return e}),tR)}),m.module("main").__init__((function(e){window.$embedMode||e.di()})).def({mi:function(){var e=this.vi().hash.split("#lab:");e[1]&&(this.vi().replace("/#"),this.project.fi(null,null,null,e[1]))},di:function(){this.mi(),window.onhashchange=this.mi.bind(this)}}),m.module("main").__init__((function(e){var t=function(){},r=e.pi.bind(e),n=e.gi.bind(e),i=e.bi.bind(e),a={"Ctrl-m":r,"Meta-m":r,"Ctrl-p":n,"Meta-p":n,"Ctrl-Shift-p":i,"Meta-Shift-p":i,"Ctrl-w":t,"Ctrl-s":t,"Ctrl-f":t,"Ctrl-g":t,"Ctrl-r":t,"Ctrl-Shift-R":t,"Meta-s":t,"Meta-r":t,"Meta-Shift-R":t,"Meta-q":t};document.addEventListener("keydown",(function(t){UI.polyfillKeyboardEvent(t);var r="";t.metaKey&&(r+="Meta-"),t.ctrlKey&&(r+="Ctrl-"),t.shiftKey&&(r+="Shift-"),t.altKey&&(r+="Alt-"),r+=t.key;var n=a[r];n&&(UI.preventEvent(t),n());var i=e.Pt();if(i.isCtrlOn()){var o=t.key,u=t.altKey,s=t.shiftKey,c=i.findKeyCommandForCtrl({keyString:o,altKey:u,shiftKey:s});c&&"null"!==c.command&&(UI.preventEvent(t),i.setCtrl(!1),i.execCommand(c))}})),e.observable.subscribe((function(e){var t=e.action,a=e.editor;if("initEditor"===t){var o=[{name:"toggleMenu",description:"Spck: Toggle Menu",bindKey:{win:"Ctrl-M",mac:"Command-M"},exec:r},{name:"togglePreview",description:"Spck: Toggle/Launch Preview",bindKey:{win:"Ctrl-P",mac:"Command-P"},exec:n}];Ew.supported&&o.push({name:"launchPreview",description:"Spck: Launch Preview",bindKey:{win:"Ctrl-Shift-P",mac:"Command-Shift-P"},exec:i}),a.addCommands(o)}}))})).def({pi:function(){var e=this.wi();e.isVisible()?e.close():e.open()},gi:function(){!UI.hasClass(document.documentElement,"x-tablet")&&UI.hasClass(document.documentElement,"uk-touch")?this.bi():this.ki().dispatch("onClick")},bi:function(){this.yi().dispatch("onClick")}}),m.module("main").require("editor","files","prompt","history","messages","preview","project","model","session","viewer","landing","search","menu","settings","fileTree","memory","share","copyToProject").__new__((function(e){e.observable=new zw})).__init__((function(e,t){var n=t.session,i=t.search,a=t.editor,o=t.path,u=t.model,s=t.files,c=t.prompt,f=t.messages,l=t.viewer,h=t.landing,d=t.preview,m=t.project,v=t.history,p=t.menu,g=t.settings,b=t.fileTree,w=t.memory,k=t.share,y=t.copyToProject;e.historyTracker=new v.HistoryTracker,e.scheduledSaves={},Object.assign(e,{session:n,search:i,editor:a,path:o,model:u,files:s,prompt:c,messages:f,viewer:l,landing:h,preview:d,project:m,history:v,menu:p,settings:g,fileTree:b,memory:w,share:k,copyToProject:y}),g.observable.subscribe((function(t){var r=t.name;t.userTriggered&&"touchTabletMode"===r&&e.Pt().resize()})),w.observable.subscribe((function(e){e.lowOnMemory&&Ak.stop()})),n.observable.subscribe((function(t){var n=t.action,i=t.project;switch(n){case"open":e.yi().show(),e.ki().show(),e.Ri(),Ak.clearFiles(r(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw.readdirDeep(i.dir);case 2:if(!((t=e.sent).length<w.ALLOWED_LANGUAGE_SERVICE_INITIAL_FILES_LIMIT)){e.next=9;break}return n=w.ALLOWED_LANGUAGE_SERVICE_INITIAL_SIZE_LIMIT,e.next=7,Ib({data:t,promiseGenerator:function(){var e=r(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw.size(t);case 2:if(!((r=e.sent)<w.LANGUAGE_SERVICE_FILE_SIZE_LIMIT&&n>0)){e.next=8;break}return e.next=6,Uw.readFile(t,{encoding:"utf8"});case 6:i=e.sent,Uw.isBinaryContent(i)||(Ak.addFile(t,i),n-=r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),useRaf:!0});case 7:e.next=10;break;case 9:$LOG.warn("File threshold exceeded for auto file import.");case 10:case"end":return e.stop()}}),e)}))));break;case"setProject":i||(e.yi().hide(),e.ki().hide(),e.Kn().showLanding(),e.landing.qn().switchToTab("lab"))}})),i.observable.subscribe((function(t){switch(t.action){case"jumpToFile":a.wr(t.path,t.item).then((function(){e.Kn().showEditor()}))}})),a.observable.subscribe(function(){var t=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c,f,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.action,i=r.path,a=r.text,o=r.inode,u=r.row,s=r.column,c=e.Pt(),t.t0=n,t.next="findAllInFiles"===t.t0?5:"replaceInFile"===t.t0?9:"jumpToFile"===t.t0?12:19;break;case 5:return e.wi().open(),e.menu.xi().switchToTab("search",!0),a&&(e.search.findInput().setValue(a),e.search.Ai()),t.abrupt("break",19);case 9:return f=c.getSession(),o===f.inode&&e.editor.Ot(c,f,a),t.abrupt("break",19);case 12:if(l=c.getSession(),o===l.inode){t.next=16;break}return t.next=16,e.Si(i);case 16:h={row:u,column:s},c.navigateTo(h.row,h.column),c.scrollToLine(h.row,!0,!1);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.Ri()})).__init__((function(e,t){var n=t.memory;Uw.observable.subscribe(function(){var t=r(regeneratorRuntime.mark((function t(r){var i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.action,a=r.type,o=r.path,u=r.oldpath,s=e.session.me(),c=e.path.fe,!s||!Fw.childOf(u,s)||c(u)){t.next=24;break}f="file"===a,t.t0=i,t.next="mv"===t.t0?8:"rmdir"===t.t0?22:"rm"===t.t0?22:24;break;case 8:if(!Fw.childOf(o,s)){t.next=22;break}if(!f){t.next=20;break}return t.next=12,n.q(o);case 12:if(!t.sent){t.next=18;break}return t.next=16,Uw.readFile(o,{encoding:"utf8"});case 16:l=t.sent,Uw.isBinaryContent(l)||Ak.moveFile(u,o,l);case 18:t.next=21;break;case 20:Ak.moveFolder(u,o);case 21:return t.abrupt("break",24);case 22:return f?Ak.removeFile(u):Ak.removeFolder(u),t.abrupt("break",24);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Uw.observable.subscribe((function(t){var r=t.action,n=t.oldpath,i=t.path,a=e.session.me(),o=e.path.fe;if(a&&i&&Fw.childOf(i,a)&&!o(i)&&e.preview.useLiveMode&&e.Ci().isVisible()&&e.Ti(),a&&n&&Fw.childOf(n,a)&&!o(n))switch(r){case"mv":case"rm":case"rmdir":if(e.Ei().startsWith(n)){var u=e.Ii();if(u)return Fw.childOf(u,a)?(e.ji(u),e.zi(a,u)):(e.Oi(!0),e.zi(a,null))}}})),e.files.observable.subscribe((function(t){var r=t.action,n=t.path,i=t.showInTree,a=t.skipSessionSave,o=t.preserveHistory,u=t.preview;switch(r){case"update":var s=e.Ii();if(s&&s===n)return e.Si(n,{skipSessionSave:!0});case"open":if(null!==n)return e.Si(n,{preserveHistory:o,skipSessionSave:a,showInTree:i,preview:u}).then((function(){Ww("open_file","files"),UI.support.touch||e.Pt().focus()}));e.Oi()}})),e.preview.onHidePreviewContainer=function(){e.Fi()},e.menu.observable.subscribe((function(t){switch(t.action){case"showMenu":e.Pi();break;case"hideMenu":e.Mi()}}))})).__init__((function(e){var t=Ew.chromeVersion;t>=1&&t<33&&e.prompt.K("Chrome Update Required","This app only works for Chrome 33+.")})).def({Ri:function(){this.historyTracker.reset()},u:function(){return window.localStorage},Li:function(){var e=this.Bi();this.Ci().show(),e.show(),this.Pt().resize()},Fi:function(){var e=this.Bi();this.Ci().hide(),e.hide(),this.Pt().resize()},Pi:function(){var e=this.Di();this.wi().show(),e.show(),this.Pt().resize()},Mi:function(){var e=this.Di();this.wi().hide(),e.hide(),this.Pt().resize()},Ui:function(e){this.historyTracker.push(e),this.$i()},Ni:function(){return $$("mainFileBar")},Gi:function(){return $$("mainSearchIcon")},Kn:function(){return $$("mainContainer")},Wi:function(){return $$("mainEditorContainer")},Ci:function(){return $$("preview")},Hi:function(){return $$("mainMenuToggleIcon")},wi:function(){return $$("menuContainer")},Vi:function(){return $$("menuVerticalTab")},Di:function(){return $$("menuContainerResizer")},Bi:function(){return $$("previewContainerResizer")},Pt:function(){return this._editor||(this._editor=$$("mainEditor").$editor)},Ft:function(){return $$("mainFileBreadcrumb")},yi:function(){return $$("mainLaunchButton")},ki:function(){return $$("mainRunButton")},Ki:function(){return $$("mainNotSavedLink")},vi:function(){var e=window.location;return{origin:e.protocol+"//"+e.hostname+(e.port?":"+e.port:""),hash:e.hash,replace:e.replace.bind(e)}},Ti:UIkit2.Utils.debounce((function(){this.preview.qi(!0)}),1200,!1),Zi:function(){return this.wi().el.getBoundingClientRect().width},Yi:function(){return this.Vi().el.getBoundingClientRect().width},initAsync:($k=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fileName,n=t.fileContent,i=t.externalPath,a=this,!r){e.next=24;break}if(!i){e.next=17;break}if(e.t1=n,e.t1){e.next=9;break}return e.next=8,Ew.getFileContent();case 8:e.t1=e.sent;case 9:if(e.t0=e.t1,e.t0){e.next=12;break}e.t0="";case 12:return o=e.t0,e.next=15,a.Si(r,{externalPath:i,externalContent:o,skipSessionSave:!0});case 15:e.next=24;break;case 17:if(!n){e.next=24;break}return u=a.share.qe(n),e.next=21,a.Ji(r,u);case 21:return s=e.sent,e.next=24,a.Si(s,{skipSessionSave:!0});case 24:case"end":return e.stop()}}),e,this)}))),function(e){return $k.apply(this,arguments)}),Qi:(Uk=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return e.next=3,Ew.launchWebView(r);case 3:if(!e.sent){e.next=5;break}t&&UI.preventEvent(t);case 5:$LOG.log("[launch] ".concat(r)),Ww("launch","n/a");case 7:case"end":return e.stop()}}),e)}))),function(e,t){return Uk.apply(this,arguments)}),Ji:(Dk=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$w.tmpDirAsync(t),e.next=3,Uw.rmdir(Fw.dirname(n));case 3:return e.next=5,Uw.write(n,r).then((function(){return n}));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return Dk.apply(this,arguments)}),Xi:(Bk=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preview.qi();case 2:this.Li();case 3:case"end":return e.stop()}}),e,this)}))),function(){return Bk.apply(this,arguments)}),$i:function(){this.historyTracker.canUndo()?($$("mainBackButton").enable(),$$("mainBackMenuItem").enable()):($$("mainBackButton").disable(),$$("mainBackMenuItem").disable()),this.historyTracker.canRedo()?($$("mainForwardButton").enable(),$$("mainForwardMenuItem").enable()):($$("mainForwardButton").disable(),$$("mainForwardMenuItem").disable())},Ii:function(){var e=this.Pt().getSession().inode;return e?Uw.inodePathSync(e):null},Ei:function(){var e=this.Ft();return Fw.join(this.session.me(),e.getFullPath())||""},ji:function(e){var t=this.Ft();this.Ki().hide(),e?(e=Fw.relativeTo(e,this.session.me()),t.setFullPath(e),t.show()):t.hide()},Si:jb(function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||{},n=this,i=Fw.ext(t),a=n.editor.Rr(i),o=n.viewer.Rr(i),e.next=7,n.hi(t);case 7:if(!a||!o){e.next=17;break}if(!r.preview){e.next=13;break}return e.next=11,n.ea(t,r);case 11:e.next=15;break;case 13:return e.next=15,n.ta(t,r);case 15:e.next=24;break;case 17:if(!o){e.next=22;break}return e.next=20,n.ea(t,r);case 20:e.next=24;break;case 22:return e.next=24,n.ta(t,r);case 24:if(u=this.session.me(),r.skipSessionSave||!u||!t.startsWith(u)){e.next=28;break}return e.next=28,n.zi(u,t);case 28:if(r.showInTree&&n.files.jt().showInTree(t),r.preserveHistory){e.next=34;break}return e.next=32,Uw.inode(t);case 32:s=e.sent,n.Ui(s);case 34:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),(function(e){return e})),ta:function(e,t){var r=this;return r.memory.Y(e,t).then((function(n){if(n)return Promise.all([r.Pt().changeSessionAsync(e,t||{}),$w.tmpDirAsync()]).then((function(t){var n=k(t,2)[1];e.startsWith(n)&&(e=Fw.relativeTo(e,n)),r.Kn().showEditor(),r.ji(e),r.files.jt().markActive(e),r.memory.H()})).catch((function(e){$LOG.error(e),r.messages.$e(e&&e.messageId||"openFileError",null,{locale:$w.locale})}));r.prompt.K("File Size Too Large","File exceeds the maximum size of 5 MB allowed by the editor.")}))},ea:(Lk=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,$w.tmpDirAsync();case 3:return n=e.sent,e.prev=4,e.next=7,Ew.initServer();case 7:return e.next=9,r.viewer.ra(t);case 9:t.startsWith(n)&&(t=Fw.relativeTo(t,n)),r.Kn().showViewer(),r.ji(t),r.files.jt().markActive(t),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),$LOG.error(e.t0),r.messages.$e(e.t0&&e.t0.messageId||"openFileError",null,{locale:$w.locale});case 19:case"end":return e.stop()}}),e,this,[[4,15]])}))),function(e){return Lk.apply(this,arguments)}),na:(Mk=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this).historyTracker.undo(!0),t.$i(),!(r=Uw.inodePathSync(t.historyTracker.current))){e.next=7;break}return e.next=7,t.Si(r,{preserveHistory:!0});case 7:case"end":return e.stop()}}),e,this)}))),function(){return Mk.apply(this,arguments)}),ia:(Pk=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this).historyTracker.redo(!0),t.$i(),!(r=Uw.inodePathSync(t.historyTracker.current))){e.next=7;break}return e.next=7,t.Si(r,{preserveHistory:!0});case 7:case"end":return e.stop()}}),e,this)}))),function(){return Pk.apply(this,arguments)}),Oi:function(e){var t=this;t.historyTracker.canUndo()?t.na().then((function(){e&&(t.historyTracker.clearRedo(),t.$i())}),(function(){return t.aa()})):t.aa()},aa:function(){this.Kn().showEditor(),this.ji(),this.Pt().isCurrentSessionBlank()||this.Pt().openBlankSession(),this.historyTracker.current=null},zi:function(e,t){var r=this.session.ce()||{};return Object.assign(r,{currentFilePath:t?Fw.relativeTo(t,e):null}),this.model.Ce(e,r)},oa:jb((function(e,t){var r=t.scrollTop,n=t.scrollLeft,i=t.selectionRanges,a=this.session.ce();if(a&&a.dir){var o={path:e,scrollTop:r,scrollLeft:n,selectionRanges:i,timestamp:Date.now()},u=(a.sessionInfo||[]).filter((function(e){return e&&e.timestamp})),s=u.find((function(t){return t.path===e}));return s?Object.assign(s,o):(u.push(o),u.sort((function(e,t){return t.timestamp-e.timestamp})),u.length>99&&(u.length=99)),Object.assign(a,{sessionInfo:u}),this.model.Ce(a.dir,a)}}),(function(e){return e})),ua:jb(function(){var e=r(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.prev=1,e.next=4,$w.tmpDirAsync();case 4:if(i=e.sent,t&&!t.startsWith(i)){e.next=9;break}n.Ki().show(),e.next=19;break;case 9:if(!t.startsWith("ext://")){e.next=16;break}return a=t.lastIndexOf("?"),e.next=13,Uw.writeExternal(t.slice(6,a),r);case 13:n.Ki().hide(),e.next=19;break;case 16:return e.next=18,n.li(t,r);case 18:n.Ki().hide();case 19:e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),n.Ki().show(),n.messages.$e("mainSaveFileError",null,{locale:$w.locale}),$LOG.log("[save] ".concat(e.t0?e.t0.message||String(e.t0):"unknown error"));case 26:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(t,r){return e.apply(this,arguments)}}(),(function(e){return e})),sa:function(e,t){var r=this;if(!r.Pt().isCurrentSessionBlank())return $w.tmpDirAsync().then((function(n){return e.startsWith(n)?r.copyToProject.Qt(e):r.ua(e,t)}));r.ca(t)},ca:function(e){this.files.fa(null,e)}}),m.module("main").require("menuIcon","fileTree","fileBreadcrumb").__init__((function(e){var t,n,i;UI.new({fill:"height",flexLayout:"",cells:[{id:"mainMenuToggleIcon",view:"link",cls:"svg-icon x-phone-only",template:SVGIcons.menu,on:{onClick:function(){e.wi().open()}}},e.menu.verticalTabView,e.menu.menuView,{id:"menuContainerResizer",view:"resizer",cls:"x-except-phone",direction:"x",minValue:function(){return 280+e.Yi()},maxValue:function(){return 500+e.Yi()},on:{onHandleResized:function(t){var r=t-e.Yi();e.menu.xi().element.style.width=r+"px",e.Pt().resize()}}},{id:"mainContainer",cells:[{id:"mainEditorContainer",batch:"editor",flexLayout:"column",position:"relative",cells:[{id:"mainFileBar",batch:"bar",flexSize:"",cls:["x-bar","float"],flexAlign:"middle",selectable:!1,cells:[{id:"mainBackButton",view:"menuIcon",cls:["x-bar-item","x-except-phone"],iconClass:"ti-angle-left",disabled:!0,on:{onMouseDown:function(){e.na().then(Vw("previous_file","file_navigation"),Kw("previous_file","file_navigation"))}}},{id:"mainForwardButton",view:"menuIcon",cls:["x-bar-item","x-except-phone"],iconClass:"ti-angle-right",disabled:!0,on:{onMouseDown:function(){e.ia().then(Vw("previous_file","file_navigation"),Kw("previous_file","file_navigation"))}}},{view:"spacer",cls:"x-phone-only",width:36},{id:"mainFileBreadcrumbScroller",view:"scroller",nativeScroll:Ew.supported,scrollDirection:"x",cells:[{id:"mainFileBreadcrumb",view:"fileBreadcrumb",data:[],dropdownEvent:"onPathItemClick",dropdownOptions:{id:"mainBreadcrumbDropdown",pos:"bottom-left",dropdownAnimation:"",marginX:-18,marginY:-5},dropdown:{id:"mainBreadcrumbDropdownContent",flexLayout:"column",cls:"uk-overflow-hidden",cells:[{cls:"x-menu-title-bar",margin:"y-sm",device:"touch",flexSize:"none",cells:[{id:"mainBackMenuItem",view:"link",margin:"left",icon:"chevron-left",flexSize:"flex",label:"Back",wrap:"nowrap",disabled:!0,on:{onClick:function(){e.na(),Ww("previous_file","file_navigation")}}},{id:"mainForwardMenuItem",view:"link",margin:"right",alignIconRight:!0,textAlign:"right",icon:"chevron-right",flexSize:"flex",label:"Next",wrap:"nowrap",disabled:!0,on:{onClick:function(){e.ia(),Ww("next_file","file_navigation")}}}]},{id:"mainFileBreadcrumbDropdownScroller",view:"scroller",nativeScroll:Ew.supported,cells:[{id:"mainFileBreadcrumbDropdownList",view:"list",listStyle:"dropdown",template:function(t){return'<a class="x-text-overflow-ellipsis">'+e.fileTree.Ct(t)+t.label+"</a>"},on:{onItemClick:function(t){if(t.$branch){UI.removeClass($$("mainBreadcrumbDropdown").element,"uk-open");var r=e.files.jt().getParentBranch(t.path);$$("mainBreadcrumbDropdownContent").dispatch("onOpen",[null,null,{parent:r,files:t.$children}])}else e.Si(t.path),Ww("open_file_breadcrumb","file_navigation")}}}]}],on:{onOpen:function(e,t,r){this.element.style.maxHeight="250px";var n=$$("mainFileBreadcrumbDropdownList"),i=r.files.map((function(e){return{path:e.path,label:e.label,file:e.file,$branch:e.$branch,$children:e.$children}}));r.parent&&i.unshift({path:r.parent.path,label:"..",file:!1,$branch:!0,$children:r.parent.$children}),n.setData(i),r.selectedPath&&n.select(n.findOne("path",r.selectedPath))}}},on:{onItemClick:function(t,r){var n=e.session.me();if(n){var i=Fw.join(n,t.path),a=e.files.jt(),o=a.getParentBranch(i),u=a.getParentBranch(o.path);this.dispatch("onPathItemClick",[{parent:u,files:o.$children,selectedPath:i},r.lastChild])}else this.dispatch("onPathItemClick",[{files:[t],selectedPath:t.path},r.lastChild])}}},{id:"mainNotSavedLink",view:"link",textColor:"danger",attributes:kb({en:"Unsaved",es:"Sin Guardar",ja:"未保存",pt:"Não Salvo",ru:"Hеспасенный",zh:"没有保存",zhTW:"沒有保存"}),margin:"x-sm",hidden:!0,on:{onClick:function(){e.Pt().saveCurrentSessionAsync(!0)}}}]},{id:"mainSearchIcon",view:"menuToggle",cls:"x-bar-item",icon:"search",title:"Search File",on:{onToggled:function(){var t=e.Pt();this.isSelected()?(t.execCommand("find"),Ww("file_search","n/a")):t.$ace.searchBox&&t.$ace.searchBox.hide()}}},{id:"mainLaunchButton",view:"link",cls:["x-bar-item","svg-icon"],template:SVGIcons.play,hidden:!0,title:"Launch New Window",style:{color:"#0dbf7f"},launchPath:function(){var t=e.Ii();return Fw.hasExt(t,".html")?t:e.preview.la()},on:{onInitialized:(i=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.element.addEventListener("mousedown",(function(){UI.setAttributes(this,{href:$w.resource(t.launchPath()),target:"_blank",ref:"noopener noreferrer"})}));case 3:t.serverUrl=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),onClick:(n=r(regeneratorRuntime.mark((function t(r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Qi(i,this.launchPath());case 2:case"end":return t.stop()}}),t,this)}))),function(e,t,r){return n.apply(this,arguments)})}},{id:"mainRunButton",view:"menuToggle",cls:["x-bar-item","x-except-phone"],iconClass:"ti-layout-media-right",title:"Side Window",on:{onToggled:(t=r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isSelected()){t.next=7;break}return t.next=3,Ew.initServer();case 3:e.Xi(),Ww("run","n/a"),t.next=9;break;case 7:e.preview.ha().setSrc("about:blank"),e.preview.onHidePreviewContainer();case 9:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}}]},{batch:"editor",id:"mainEditor",view:"touchEditor",editor:{view:"editor",on:{onInitialized:function(){this.observable.subscribe((function(t){var r=t.action,n=t.manual,i=t.sessionInfo,a=t.previous,o=t.writePath,u=t.text,s=t.skipSessionSave;switch(r){case"searchBoxOpen":e.Gi().select();break;case"searchBoxClose":e.Gi().deselect();break;case"sessionChange":if(!s&&a){var c=a.path;e.ua(c,a.text),e.oa(c,a)}break;case"save":n?e.sa(o,u):s||(e.ua(o,u),e.oa(o,i));break;case"focus":$$("mainBreadcrumbDropdown").close()}})),e.observable.run({action:"initEditor",editor:this})}}},on:{onInitialized:function(){this.originalHeight=window.innerHeight},onResize:function(){if(this.isVisible()){var t=e.Pt();if(e.editor.ace.userAgent.isMac||Ew.isIOS?(setTimeout((function(){return t.resize()}),150),setTimeout((function(){return t.resize()}),500)):t.resize(),UI.support.touch){if(this.originalHeight){var r=window.innerHeight-this.originalHeight;t.isFocused()&&(r>100?t.blur():r<-100&&t.focus(!0))}this.originalHeight=window.innerHeight}}}}},e.viewer.view]},e.landing.view],on:{onInitialized:function(){this.showEditor()}},showEditor:function(){this.showBatch("editor"),e.Wi().showBatch(["bar","editor"])},showViewer:function(){this.showBatch("editor"),e.Wi().showBatch(["bar","viewer"])},showLanding:function(){this.showBatch("landing")}},{id:"previewContainerResizer",view:"resizer",cls:"x-except-phone",direction:"x",hidden:!0,minValue:function(){var t=e.Yi();return e.Zi()+t+320},maxValue:function(){return window.innerWidth-320},on:{onHandleResized:function(t){if(t>0){var r=window.innerWidth-t-2;e.Ci().el.style.width=r.toFixed(0)+"px",e.Pt().resize()}}}},e.preview.view]},document.getElementById("appContainer"))})),m.module("menu").require("session","search","projects").__init__((function(e,t){var r=t.session,n=t.search,i=t.projects,a=new zw;Object.assign(e,{observable:a}),a.subscribe((function(t){"hideMenu"===t.action&&e.Vi().deselectAll()})),r.observable.subscribe((function(t){var r=t.action,n=t.project;switch(r){case"open":e.xi().switchToTab("files",!0);break;case"setProject":n||(UI.support.touch?e.xi().switchToTab("projects"):a.run({action:"hideMenu"}))}})),n.observable.subscribe((function(t){switch(t.action){case"blockDrawer":e.wi().$blockDrawerPan=t.block}})),i.observable.subscribe((function(t){switch(t.action){case"blockDrawer":e.wi().$blockDrawerPan=t.block}}))})).def({wi:function(){return $$("menuContainer")},qn:function(){return $$("menuTab")},Vi:function(){return $$("menuVerticalTab")},xi:function(){return $$("menuSwitcher")}}),m.module("menu").require("projects","files","search","settings","menuIcon","keyButton").__init__((function(e,t){var r=t.projects,n=t.files,i=t.search,a=t.settings,o=t.keyButton;e.verticalTabView=UI.new({id:"menuVerticalTab",view:"list",cls:"x-vertical-menu-tab x-except-phone",listStyle:["tab","tab-left"],flexSize:"none",data:[{id:"menuVerticalProjectsTab",cls:"x-vertical-menu-tab__button",view:"menuIcon",iconClass:"ti-archive",value:"projects"},{view:"menuIcon",cls:"x-vertical-menu-tab__button",iconClass:"ti-files",value:"files"},{view:"menuIcon",cls:"x-vertical-menu-tab__button",icon:"search",value:"search"},{view:"menuIcon",cls:"x-vertical-menu-tab__button",icon:"cog",value:"settings"}],on:{onItemClick:function(t){this.isSelected(t)?e.observable.run({action:"hideMenu"}):e.xi().switchToTab(t.value,!0)}}});var u={id:"menuSwitcher",cls:["uk-offcanvas-bar","uk-overflow-hidden"],style:{width:"300px",maxWidth:"90vw"},template:{flexLayout:"column",flexSize:"",fill:"height",cells:[iR.touchOnly({id:"menuTab",view:"list",cls:["x-horizontal-menu-tab","x-phone-only"],listStyle:"tab",itemTagClass:"x-chrome-tab",device:"touch",style:{zIndex:20},data:[{view:"link"},{id:"menuProjectsTab",view:"menuIcon",iconClass:"ti-archive",value:"projects"},{id:"menuFilesTab",view:"menuIcon",iconClass:"ti-files",value:"files"},{id:"menuSearchTab",view:"menuIcon",icon:"search",value:"search"},{id:"menuSettingsTab",view:"menuIcon",icon:"cog",value:"settings"},{view:"link"}],setClassToItem:function(e,t){this.each((function(e){var r=this.getItemNode(e.id);r&&UI.removeClass(r,t)}),this);var r=this.getItemNode(e.id);r&&UI.addClass(r,t)},on:{onItemClick:function(t){e.xi().switchToTab(t.value)}}}),{id:"menuSwitcherContainer",view:"list",cls:"x-min-height-0",flex:!0,flexSize:"flex",itemTagClass:"uk-flex uk-width-1-1",data:[r.view,n.view,i.view,a.view]}]},switchToTab:function(t,r){if(t){var n=e.Vi(),i=e.qn();if(i){var a=i.data.find((function(e){return e.value===t}));i.setClassToItem(i.next(a),"next"),i.setClassToItem(i.previous(a),"previous"),i.setActive("value",t)}if(n.setActive("value",t),$$("menuSwitcherContainer").showBatch(t),r)return e.observable.run({action:"showMenu"})}}};e.menuView=UI.new({id:"menuContainer",view:"drawer",touchOnly:!0,edge:!0,flexSize:"",openable:function(){return!o.activeKey&&!UI.hasClass(document.documentElement,"x-tablet")&&!UI.hasClass(document.body,"no-animation")},closable:function(){return!UI.hasClass(document.documentElement,"x-tablet")&&!UI.hasClass(document.body,"no-animation")},template:u})})),m.module("preview").require("model","session","history","messages").__init__((function(e,t){var r=t.model,n=t.session,i=t.history,a=t.messages;Object.assign(e,{model:r,session:n,history:i,messages:a}),e.historyTracker=new e.history.HistoryTracker,e.session.observable.subscribe((function(t){if("open"===t.action)return e.Ri(),e.da()})),Uw.observable.subscribe((function(t){var r=t.oldpath,n=t.path,i=t.action,a=e.session.me();if(a){var o=!1;switch(i){case"write":o=".html"===Fw.ext(n)&&Fw.childOf(n,a);break;case"mv":case"rm":o=(Fw.childOf(r,a)||Fw.childOf(n,a))&&(".html"===Fw.ext(r)||".html"===Fw.ext(n))}o&&e.da()}})),e.Ri()})).def({onHidePreviewContainer:m.noop,Ri:function(){this.historyTracker.reset()},ma:function(){return $$("previewFileSelect")},ha:function(){return $$("iframe")},va:function(){return $$("previewBackIcon")},pa:function(){return $$("previewForwardIcon")},ga:function(){return $$("previewConsoleIcon")},ba:function(e){this.useLiveMode=e},qi:(Gk=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this).ha().setSrc($w.resource(r.ma().getValue()),t),window.focus(),!(n=r.ga())){e.next=7;break}return e.next=7,n.updateConsoleValueAsync();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return Gk.apply(this,arguments)}),la:function(){var e=this.session.ce();if(e){var t=e.defaultLaunchFilePath,r=e.dir,n=Fw.join(r,t),i=this.ma().getFilePaths();return(n&&i.includes(n)?n:this.ma().getValue())||null}return null},da:(Nk=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=this).session.me(),e.next=4,Uw.readdirDeep(r);case 4:n=e.sent,t.ma().setFilesData(n.filter((function(e){return Fw.hasExt(e,".html")})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return Nk.apply(this,arguments)})}),m.module("preview").require("fileSelect").__init__((function(e){var t,n;e.view=UI.new({id:e.__name__,view:"drawer",cls:"x-except-phone",touchOnly:!0,$blockDrawerPan:!0,hidden:!0,flexSize:"",template:{style:{width:"100%",height:"100%"},cls:"offcanvas-bar",template:{flexLayout:"column",fill:"screen",cells:[{id:"previewActionBar",cls:["uk-form","x-bar","x-menu-icons","x-bar-shadow"],flexAlign:"middle",flexSize:"none",cells:[{id:"previewBackIcon",view:"menuIcon",iconClass:"ti-arrow-left",disabled:!0,on:{onMouseDown:function(){e.ha().back()}}},{id:"previewForwardIcon",view:"menuIcon",iconClass:"ti-arrow-right",disabled:!0,on:{onMouseDown:function(){e.ha().forward()}}},{id:"previewRefreshIcon",view:"menuIcon",icon:"refresh",on:{onMouseDown:function(){e.ha().refresh()}}},iR.consoleSupportOnly({id:"previewConsoleIcon",view:"menuToggle",cls:"svg-icon",template:function(){return this.isSelected()?SVGIcons.noConsole:SVGIcons.console},title:"Console",updateConsoleValueAsync:(n=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ew.getConsole();case 2:if(!e.sent){e.next=5;break}this.select(),this.dispatch("onToggled");case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),on:{onToggled:(t=r(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.render(),r=this.isSelected(),t.next=4,$w.resource("/");case 4:n=t.sent,i=n.startsWith("http")?n:location.origin,e.ha().element.contentWindow.postMessage(r?"eruda-open":"eruda-close",i),Ew.setConsole(r);case 8:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}}),{id:"previewFileSelect",view:"fileSelect",on:{onChange:function(){e.qi()}}}]},{id:"iframe",flexSize:"flex",htmlTag:"IFRAME",style:{background:"white"},refresh:function(){e.qi(!0)},forward:function(){e.historyTracker.redo(!0),this.$i(),this.setSrc(e.historyTracker.current,!0)},back:function(){e.historyTracker.undo(!0),this.$i(),this.setSrc(e.historyTracker.current,!0)},$i:function(){e.historyTracker.canUndo()?e.va().enable():e.va().disable(),e.historyTracker.canRedo()?e.pa().enable():e.pa().disable()},getSrc:function(){return e.historyTracker.current},setSrc:function(t,r){if(t){r||(e.historyTracker.push(t),this.$i());var n=this.element;n.contentWindow&&null!=n.contentWindow.location?n.contentWindow.location=t:n.setAttribute("src",t)}}}]}},style:{width:"33%"}})})),m.module("project").__new__((function(e){e.ranks={html:0,css:10,vue:20,angularjs:30,angular:40,d3:60,backbone:70,react:50,jquery:55,bootstrap:20,semantic_ui:25,mdl:30,bulma:35,uikit:40},e.viewBox={javascript:"0 0 128 128",html:"0 0 128 128",css:"0 0 128 128",vue:"0 0 128 128",angularjs:"0 0 128 128",angular:"0 0 250 250",backbone:"0 0 128 128",d3:"0 0 128 128",react:"0 0 128 128",jquery:"0 0 128 128",bootstrap:"0 0 128 128",mdl:"0 0 24 24",bulma:"0 0 480 480",uikit:"0 0 200 200",semantic_ui:"0 0 256 256"},e.svg={javascript:'<path fill="#F0DB4F" d="M1.408 1.408h125.184v125.185h-125.184z"></path><path fill="#323330" d="M116.347 96.736c-.917-5.711-4.641-10.508-15.672-14.981-3.832-1.761-8.104-3.022-9.377-5.926-.452-1.69-.512-2.642-.226-3.665.821-3.32 4.784-4.355 7.925-3.403 2.023.678 3.938 2.237 5.093 4.724 5.402-3.498 5.391-3.475 9.163-5.879-1.381-2.141-2.118-3.129-3.022-4.045-3.249-3.629-7.676-5.498-14.756-5.355l-3.688.477c-3.534.893-6.902 2.748-8.877 5.235-5.926 6.724-4.236 18.492 2.975 23.335 7.104 5.332 17.54 6.545 18.873 11.531 1.297 6.104-4.486 8.08-10.234 7.378-4.236-.881-6.592-3.034-9.139-6.949-4.688 2.713-4.688 2.713-9.508 5.485 1.143 2.499 2.344 3.63 4.26 5.795 9.068 9.198 31.76 8.746 35.83-5.176.165-.478 1.261-3.666.38-8.581zm-46.885-37.793h-11.709l-.048 30.272c0 6.438.333 12.34-.714 14.149-1.713 3.558-6.152 3.117-8.175 2.427-2.059-1.012-3.106-2.451-4.319-4.485-.333-.584-.583-1.036-.667-1.071l-9.52 5.83c1.583 3.249 3.915 6.069 6.902 7.901 4.462 2.678 10.459 3.499 16.731 2.059 4.082-1.189 7.604-3.652 9.448-7.401 2.666-4.915 2.094-10.864 2.07-17.444.06-10.735.001-21.468.001-32.237z"></path>',html:'<path fill="#E44D26" d="M19.037 113.876l-10.005-112.215h109.936l-10.016 112.198-45.019 12.48z"></path><path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878h-44.937z"></path><path fill="#EBEBEB" d="M64 52.455h-18.212l-1.258-14.094h19.47v-13.762h-34.511l.33 3.692 3.382 37.927h30.799zM64 88.198l-.061.017-15.327-4.14-.979-10.975h-13.817l1.928 21.609 28.193 7.826.063-.017z"></path><path fill="#fff" d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zM63.952 24.599v13.762h33.244l.276-3.092.628-6.978.329-3.692z"></path>',css:'<path fill="#1572B6" d="M18.814 114.123l-10.054-112.771h110.48l-10.064 112.754-45.243 12.543-45.119-12.526z"></path><path fill="#33A9DC" d="M64.001 117.062l36.559-10.136 8.601-96.354h-45.16v106.49z"></path><path fill="#fff" d="M64.001 51.429h18.302l1.264-14.163h-19.566v-13.831h34.681999999999995l-.332 3.711-3.4 38.114h-30.95v-13.831z"></path><path fill="#EBEBEB" d="M64.083 87.349l-.061.018-15.403-4.159-.985-11.031h-13.882l1.937 21.717 28.331 7.863.063-.018v-14.39z"></path><path fill="#fff" d="M81.127 64.675l-1.666 18.522-15.426 4.164v14.39l28.354-7.858.208-2.337 2.406-26.881h-13.876z"></path><path fill="#EBEBEB" d="M64.048 23.435v13.831000000000001h-33.407999999999994l-.277-3.108-.63-7.012-.331-3.711h34.646zM64.001 51.431v13.831000000000001h-15.209l-.277-3.108-.631-7.012-.33-3.711h16.447z"></path>',angularjs:'<path fill="#B3B3B3" d="M63.81 1.026l-59.257 20.854 9.363 77.637 49.957 27.457 50.214-27.828 9.36-77.635z"></path><path fill="#A6120D" d="M117.536 25.998l-53.864-18.369v112.785l45.141-24.983z"></path><path fill="#DD1B16" d="M11.201 26.329l8.026 69.434 44.444 24.651v-112.787z"></path><path fill="#F2F2F2" d="M78.499 67.67l-14.827 6.934h-15.628l-7.347 18.374-13.663.254 36.638-81.508 14.827 55.946zm-1.434-3.491l-13.295-26.321-10.906 25.868h10.807l13.394.453z"></path><path fill="#B3B3B3" d="M63.671 11.724l.098 26.134 12.375 25.888h-12.446l-.027 10.841 17.209.017 8.042 18.63 13.074.242z"></path>',angular:'<g><polygon fill="#DD0031" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2"/><polygon fill="#C3002F" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30"/><path fill="#FFFFFF" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1   L125,52.1z M142,135.4H108l17-40.9L142,135.4z"/></g>',d3:'<path fill="#f69b44" d="M118.16 63.966c5.223-6.256 8.368-14.217 8.368-22.98C126.528 21.097 110.352 5 90.464 5H47.986c10.375 7 18.966 16 24.82 26h17.658c5.55 0 10.064 4.45 10.064 10s-4.515 10-10.064 10H80.047c.82 5 1.26 8.62 1.26 13.098 0 4.41-.433 8.902-1.224 12.902h10.382c5.55 0 10.064 4.95 10.064 10.5S96.013 98 90.464 98H72.92c-1.315 2-2.79 4.74-4.38 6.98C63.137 112.59 56.253 119 48.29 124H90.463c19.335 0 35.16-15.746 36.024-34.876-.017.31-.043.39-.066.698.062-.848.107-1.813.107-2.678-.002-8.766-3.148-16.92-8.37-23.178z"/><path fill="#f69b44" d="M61.03 97.543l.003-.18c.07-.1.138-.292.207-.39.077-.118.152-.275.228-.392.002-.002 0-.03.003-.034 6.14-9.33 9.727-20.41 9.727-32.39C71.197 31.5 44.624 5 11.962 5H1v26h10.962c18.32 0 33.23 14.823 33.23 33.144 0 4.984-1.113 9.675-3.088 13.924-.006.013-.013.36-.02.374C36.79 89.782 25.283 98 11.963 98H1v26h10.962c20.396 0 38.41-10.722 49.068-26.457z"/>',react:'<path fill="#53c1de" d="M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3-12.5 4.8-19.3 11.4-19.3 18.8s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zm-14.8-30.5c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zm-11.2 59.3c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zm-25.6 27.1c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zm25.6-27.1c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zm-54.5-16.2c-1.7-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zm-24.7 29c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5-13.8-4-22.1-10-22.1-15.6zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zm60.8-20.3c1.7 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"></path>',vue:'<path d="m-2.3125e-8 8.9337 49.854 0.1586 14.167 24.47 14.432-24.47 49.547-0.1577-63.834 110.14zm126.98 0.6374-24.36 0.0207-38.476 66.052-38.453-66.052-24.749-0.0194 63.211 107.89zm-25.149-0.008-22.745 0.16758l-15.053 24.647-14.817-24.647-22.794-0.1679 37.731 64.476zM25.997 9.3929l23.002 0.0087M25.997 9.3929l23.002 0.0087" fill="none"></path><path d="m25.997 9.3929 23.002 0.0087l15.036 24.958 14.983-24.956 22.982-0.0057-37.85 65.655z" fill="#35495e"></path><path d="m0.91068 9.5686 25.066-0.1711 38.151 65.658 37.852-65.654 25.11 0.0263-62.966 108.06z" fill="#41b883"></path></svg>',bootstrap:'<path fill="#7d4dc6" d="M75.701 65.603c-2.334-.768-5.694-.603-10.08-.603h-17.621v23h18.844c2.944 0 5.012-.315 6.203-.535 2.099-.376 3.854-1.104 5.264-1.982 1.409-.876 2.568-2.205 3.478-3.881.908-1.676 1.363-3.637 1.363-5.83 0-2.568-.658-4.54-1.975-6.436-1.316-1.896-3.141-2.965-5.476-3.733zM73.282 55.087c2.317-.688 4.064-1.89 5.239-3.487 1.176-1.598 1.763-3.631 1.763-6.044 0-2.286-.549-4.314-1.646-6.054s-2.662-2.413-4.699-3.056c-2.037-.641-5.53-.446-10.48-.446h-15.459v20h16.587c4.042 0 6.939-.38 8.695-.913zM126 18.625c0-9.182-7.443-16.625-16.625-16.625h-91.75c-9.182 0-16.625 7.443-16.625 16.625v91.75c0 9.182 7.443 16.625 16.625 16.625h91.75c9.182 0 16.625-7.443 16.625-16.625v-91.75zm-35.447 66.12c-1.362 2.773-3.047 4.911-5.052 6.415-2.006 1.504-4.521 2.78-7.544 3.548-3.022.769-6.728 1.292-11.113 1.292h-27.844v-69h27.42c5.264 0 9.485.609 12.665 2.002 3.181 1.395 5.671 3.497 7.474 6.395 1.801 2.898 2.702 5.907 2.702 9.071 0 2.945-.8 5.708-2.397 8.308-1.598 2.602-4.011 4.694-7.237 6.292 4.166 1.222 7.37 3.304 9.61 6.248 2.24 2.945 3.36 6.422 3.36 10.432 0 3.227-.681 6.225-2.044 8.997z"></path>',mdl:'<circle cx="12" cy="12" fill="#757575" r="12"/><path d="m3.6 3.6h16.8v16.8h-16.8z" fill="#bdbdbd"/><path d="m20.4 3.6-8.4 16.8-8.4-16.8z" fill="#fff"/><path d="m0 0h24v24h-24z" fill="none"/>',semantic_ui:'<g><path d="M0,0 L256,0 L256,256 L0,256 L0,0 Z" fill="#34BDB2"></path><path d="M168.461,87.041 C154.945,79.199 142.947,73.032 127.251,73.304 C118.271,73.46 110.561,78.341 108.94,87.274 C107.431,95.585 114.819,100.195 122.505,103.025 C135.252,107.719 146.349,112.675 158.874,117.894 C181.643,127.383 193.318,142.75 191.938,162.467 C190.182,187.554 175.084,205.547 151.089,211.479 C119.735,219.231 89.288,207.423 63.563,190.939 C70.056,181.048 77.589,174.296 84.043,164.465 C98.905,170.791 110.581,179.339 126.129,180.672 C137.092,181.612 149.514,181.089 151.977,168.212 C154.197,156.6 144.091,150.375 134.234,146.898 C122.499,142.759 110.786,137.696 99.278,132.996 C78.005,124.307 69.349,107.312 70.806,87.291 C70.806,75.552 80.546,51.825 104.427,44.445 C141.119,33.105 161.335,44.717 187.942,61.816 C180.875,71.162 175.442,77.807 168.461,87.041" fill="#FFFFFF"></path></g>',bulma:'<g stroke="none" stroke-width="1" fill="#00d1b2" fill-rule="evenodd"><polygon id="Path" points="136 296 156 156 236 76 336 176 276 236 356 316 236 396"></polygon></g>',uikit:'<path fill="#58BBE5" d="M136.167,42.291L108.47,59.07l31.695,18.186v47.708l-42.639,23.861l-41.864-23.858V87.989L27.91,73.733    v67.735l68.604,40.44l71.403-40.44V60.56L136.167,42.291z M123.344,35.611l-26.83-15.52L68.532,37.404l27.191,14.958    L123.344,35.611z"/>'}})),m.module("project").require("model","prompt","path","set","templates","messages","session","remote","editor","zipper").__init__((function(e,t){var r=t.model,n=t.prompt,i=t.messages,a=t.templates,o=t.labs,u=t.projects,s=t.files,c=t.path,f=t.set,l=t.session,h=t.remote,d=t.editor,m=t.zipper;Object.assign(e,{model:r,prompt:n,messages:i,templates:a,labs:o,projects:u,files:s,path:c,set:f,session:l,remote:h,editor:d,zipper:m}),e.labLocation="labs/"})).def({cr:function(){return this.He().open()},wa:(Hk=r(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,n.ka(wb.Actions.Enter(wb.Objects.NameFor(wb.Actions.New(wb.Objects.Project))),t.split(/\.zip/i)[0]);case 3:return i=e.sent,e.next=6,n.er({name:i,buildCallbackAsync:function(e){var t=e.dir;return n.zipper.yt(t,r)}}).then(Vw("import_zip","zip"),Kw("import_zip","zip"));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return Hk.apply(this,arguments)}),ka:function(e,t){var n=this;return new Promise((function(i,a){var o;n.prompt.gt(wb.Actions.New(wb.Objects.Project),t||"",{showInput:!0,message:e,onResult:function(e){i(e)},onDismiss:function(){a()},onValidate:(o=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===t.length&&(r=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.NameFor(wb.Objects.Project))),e.abrupt("return",r?Promise.reject(r):t);case 2:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})})}))},er:(Wk=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=void 0===r?"Unknown":r,i=t.buildCallbackAsync,a=void 0===i?function(){}:i,o=t.uniqueName,u=void 0===o||o,s=t.openAfter,c=void 0===s||s,f=t.currentFilePath,l=void 0===f?null:f,h=this,e.next=4,$w.filesDirAsync(n);case 4:if(d=e.sent,!u){e.next=9;break}return e.next=8,h.model.Ee(d);case 8:d=e.sent;case 9:return m={dir:d,currentFilePath:l,modifiedAt:Date.now()},e.prev=10,e.next=13,Uw.mkdir(d);case 13:return e.next=15,a(m);case 15:e.next=24;break;case 17:return e.prev=17,e.t0=e.catch(10),$LOG.error(String(e.t0)),h.messages.$e("createProjectError",null,{locale:$w.locale}),e.next=23,Promise.all([Uw.rmdir(d),$w.trashDirAsync(d).then((function(e){return Uw.rmdir(e)})),$w.metadataDirAsync(d).then((function(e){return Uw.rm(e)}))]);case 23:throw e.t0;case 24:return e.next=26,h.model.Ce(d,m);case 26:if(!c){e.next=29;break}return e.next=29,h.session.oe(d);case 29:return e.abrupt("return",m);case 30:case"end":return e.stop()}}),e,this,[[10,17]])}))),function(e){return Wk.apply(this,arguments)}),fi:function(e,t,n,i){var a,o=this,u=o.templates.frameworks.js[t]||{},s=o.templates.frameworks.css[n]||{},c=i&&i.templates[0]||u.defaultFile;return o.er({name:e,currentFilePath:c,buildCallbackAsync:(a=r(regeneratorRuntime.mark((function e(r){var a,c,f,l,h,d,m,v,p,g,b,w,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.dir,c=[],!i){e.next=9;break}return f=o.labLocation+i.key,e.next=6,Promise.all(i.templates.map((function(e){return o.remote.X({url:Fw.join(f,e),retryCount:1,responseType:"arraybuffer"}).then((function(t){return{path:e,contents:t}}))})));case 6:c=e.sent,e.next=22;break;case 9:return e.next=11,Promise.all([o.templates.et(u),o.templates.et(s)]);case 11:return l=e.sent,h=k(l,2),d=h[0],(m=h[1]).scripts=o.set.ut(m.scripts,d.scripts),d.links=o.set.ut(d.links,m.links),v=u.templates||[],p={js:d,css:m,files:v,stylesheets:v.filter((function(e){return e.stylesheet})),heading:(u.name||"")+(s.name?" + "+s.name:""),text:o.templates.Xe(),cls:s.classes||{}},e.next=21,Promise.all(v.map((function(e){var t=e.src,r=e.path;return o.templates.Qe(t).then((function(e){return{path:r,contents:e(p)}}))})));case 21:c=e.sent;case 22:g=0;case 23:if(!(g<c.length)){e.next=30;break}return b=c[g],w=b.path,y=b.contents,e.next=27,Uw.write(Fw.join(a,w),y);case 27:g++,e.next=23;break;case 30:Ww(i?"lab_"+i.key:"framework_"+(t||"")+"+"+(n||""),"projects");case 31:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})}}),m.module("project").def({ya:function(){return $$("projectTabList")},Ra:function(){return $$("projectNameInput")},xa:function(){return $$("projectCreateButton")},Aa:function(e,t,r){return{id:e,view:"list",listStyle:"side line",cls:"uk-padding-remove",data:t,on:r}},Sa:function(){var e=this,t=e.templates.frameworks.js;return e.Aa("projectAppList",[{view:"card",title:"No JS Framework",label:"Work with a clean slate.",svg:e.svg.javascript,viewBox:e.viewBox.javascript,rank:1}].concat(Object.keys(t).map((function(r){var n=t[r];return{view:"card",value:r,title:n.name,label:n.info,svg:e.svg[r],viewBox:e.viewBox[r],rank:e.ranks[r]}}))).sort((function(e,t){return e.rank-t.rank})).concat([{view:"spacer",height:96}]),{onItemClick:function(t){e.ya().setJsFrameworkItem(t)}})},Ca:function(){var e=this,t=e.templates.frameworks.css;return e.Aa("projectStyleList",[{view:"card",title:"No CSS Framework",label:"Work on a clean canvas.",value:"",svg:e.svg.css,viewBox:e.viewBox.css}].concat(Object.keys(t).sort().map((function(r){var n=t[r];return{view:"card",value:r,title:n.name,label:n.info,svg:e.svg[r],viewBox:e.viewBox[r]}}))).concat([{view:"spacer",height:96}]),{onItemClick:function(t){e.ya().setCssFrameworkItem(t)}})},He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["full","large","blank"],header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexAlign:"middle",cells:[{id:"projectBackButton",view:"menuIcon",iconClass:"ti-arrow-left",margin:"left",style:{fontSize:"1.25em"},on:{onMouseDown:function(){var t=e.ya();t.selectedCssFrameworkItem?t.setJsFrameworkItem(t.selectedJsFrameworkItem):t.selectedJsFrameworkItem?t.navigateToStart(!0):e.$modal.close()}}},{id:"projectTitleSwitcherContainer",view:"list",cls:"uk-switcher",data:[{view:"label",cls:"x-menu-title",label:"JAVASCRIPT FRAMEWORK"},{view:"label",cls:"x-menu-title",label:"CSS FRAMEWORK"},{view:"label",cls:"x-menu-title",label:yb(wb.Actions.Create(wb.Objects.Project))}]},{id:"projectCreateButton",view:"button",margin:"right-sm",label:yb(wb.Actions.Create(wb.Objects.Echo(""))),style:{marginLeft:"auto"},on:{onClick:function(){var t=e.ya();e.fi(e.Ra().getValue(),t.selectedJsFrameworkItem.value,t.selectedCssFrameworkItem.value),e.Ra().reset(),e.$modal.close()}}}]},body:{view:"scroller",nativeScroll:Ew.supported,cells:[{id:"projectTabList",view:"list",flexSize:"none",hidden:!0,listStyle:"breadcrumb",switcherOptions:{connect:"#projectTypeSwitcherContainer, #projectTitleSwitcherContainer",animation:"slide-horizontal",swiping:!1},data:[{},{},{}],on:{onInitialized:function(){UI.delay((function(){this._switcher=UIkit2.switcher(this.element,this.switcherOptions)}),this,null)}},setJsFrameworkItem:function(t){this.selectedJsFrameworkItem=t,this.selectedCssFrameworkItem=null,this._switcher.show(1,!0),e.Ra().setValue(t.title+" Seed"),e.xa().hide()},setCssFrameworkItem:function(t){var r=this.selectedJsFrameworkItem;this.selectedCssFrameworkItem=t,this._switcher.show(2,!0),$$("projectConfirmList").setData([{htmlTag:"DIV",view:"card",title:r.title,svg:r.svg,viewBox:r.viewBox,accessoryIcon:""},{htmlTag:"DIV",view:"card",title:t.title,svg:t.svg,viewBox:t.viewBox,accessoryIcon:""}]),e.xa().show(),setTimeout((function(){e.Ra().getFormControl().focus()}),250)},navigateToStart:function(t){this.selectedJsFrameworkItem=null,this.selectedCssFrameworkItem=null,this._switcher&&this._switcher.show(0,!!t),e.xa().hide()}},{flexSize:"flex",template:{id:"projectTypeSwitcherContainer",view:"list",cls:"uk-switcher",data:[e.Sa(),e.Ca(),{view:"flexgrid",margin:"x y",flexLayout:"column",cells:[{template:yb(wb.Objects.NameFor(wb.Objects.Project)),selectable:!1},{id:"projectNameInput",view:"i18nInput",width:"full",size:"large",margin:"top bottom-lg",i18nPlaceholders:wb.Objects.NameFor(wb.Objects.Project),on:{onKeyUp:function(t,r,n){"Enter"===n.key&&e.xa().dispatch("onClick")}}},{template:'<span class="uk-h6">Packages</span>',margin:"bottom",selectable:!1},e.Aa("projectConfirmList",[])]}]}}]},on:{onOpened:function(){e.ya().navigateToStart()}}},document.getElementById("appContainer"))}}),m.module("viewer").__init__((function(e){e.md=window.markdownit({html:!0});var t=e.Ta.bind(e),r=e.Ea.bind(e),n=e.Ia.bind(e),i=e.za.bind(e),a=e.Oa.bind(e);e.SupportedExtensions={".svg":t,".jpe":t,".jpg":t,".jpeg":t,".png":t,".gif":t,".bmp":t,".md":n,".woff":r,".woff2":r,".eot":r,".otf":r,".ttf":r,".mp4":a,".webm":a,".ogg":a,".mp3":i,".wav":i},e.styleContainer=document.createElement("style"),document.head.appendChild(e.styleContainer)})).def({Rr:function(e){return e in this.SupportedExtensions},ra:(Jk=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=(r=this).SupportedExtensions[Fw.ext(t)])){e.next=8;break}return e.next=5,n(t);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=r.Fa();case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return Jk.apply(this,arguments)}),Ia:(Yk=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Uw.readFile(t,{encoding:"utf8"});case 3:n=e.sent,$$("viewerMarkdown").element.innerHTML=r.md.render(n),r.view.showBatch("markdown");case 6:case"end":return e.stop()}}),e,this)}))),function(e){return Yk.apply(this,arguments)}),Ta:(Zk=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$w.resource(t),this.view.showBatch("image"),$$("viewerImage").set("src",r);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Zk.apply(this,arguments)}),Oa:(qk=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$w.resource(t),this.view.showBatch("video"),$$("viewerVideo").config.src=r,$$("viewerVideo").render();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return qk.apply(this,arguments)}),za:(Kk=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=$w.resource(t),this.view.showBatch("audio"),$$("viewerAudio").config.src=r,$$("viewerAudio").render();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Kk.apply(this,arguments)}),Ea:(Vk=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,n=$w.resource(t),r.styleContainer.firstChild&&r.styleContainer.removeChild(r.styleContainer.firstChild),r.styleContainer.appendChild(document.createTextNode("@font-face {font-family: 'CustomV Font'; src: url('".concat(n,"');}"))),r.view.showBatch("font"),$$("viewerFont").element.style.fontFamily="CustomV Font";case 6:case"end":return e.stop()}}),e,this)}))),function(e){return Vk.apply(this,arguments)}),Fa:function(){this.view.showBatch("invalid")}}),m.module("viewer").__init__((function(e){var t={".3g2":"video/3gpp2",".3gp":"video/3gpp",".avi":"video/x-msvideo",".flv":"video/x-flv",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".m1v":"video/mpeg",".m2v":"video/mpeg",".m4u":"video/vnd.mpegurl",".m4v":"video/mp4",".mj2":"video/mj2",".mjp2":"video/mj2",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".mp4":"video/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".ogv":"video/ogg",".qt":"video/quicktime",".smv":"video/x-smv",".webm":"video/webm",".wm":"video/x-ms-wm",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".aac":"audio/x-aac",".adp":"audio/adpcm",".au":"audio/basic",".flac":"audio/x-flac",".kar":"audio/midi",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m3u8":"application/vnd.apple.mpegurl",".m4a":"audio/mp4",".mid":"audio/midi",".midi":"audio/midi",".mka":"audio/x-matroska",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".rmi":"audio/midi",".s3m":"audio/s3m",".snd":"audio/basic",".spx":"audio/ogg",".wav":"audio/x-wav",".weba":"audio/webm",".wma":"audio/x-ms-wma",".xm":"audio/xm",".bmp":"image/bmp",".gif":"image/gif",".ico":"image/x-icon",".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpe":"image/jpeg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".svg":"image/svg+xml",".svgz":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".webp":"image/webp",".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".js":"text/javascript",".sass":"text/x-sass",".scss":"text/x-scss",".styl":"text/x-styl",".txt":"text/plain",".yaml":"text/yaml",".yml":"text/yaml",".md":"text/markdown",".eot":"application/vnd.ms-fontobject",".epub":"application/epub+zip",".gz":"application/x-gzip",".hdf":"application/x-hdf",".json":"application/json",".jsonml":"application/jsonml+json",".latex":"application/x-latex",".mp4s":"application/mp4",".ogx":"application/ogg",".otf":"application/x-font-otf",".pdf":"application/pdf",".ps":"application/postscript",".psf":"application/x-font-linux-psf",".rar":"application/x-rar-compressed",".snf":"application/x-font-snf",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tex":"application/x-tex",".tgz":"application/x-gzip",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".unityweb":"application/vnd.unity",".woff":"application/x-font-woff",".woff2":"application/x-font-woff",".xml":"application/xml",".xsl":"application/xml",".zip":"application/zip"};e.view=UI.new({id:e.__name__,batch:e.__name__,view:"scroller",nativeScroll:Ew.supported,singleView:!0,style:{paddingTop:"48px"},cells:[{batch:"image",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{id:"viewerImage",view:"image",valign:"middle"}},{id:"viewerFont",batch:"font",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{valign:"middle",style:{fontSize:"32px",lineHeight:"36px"},template:"<p>A B C D E F</p><p>G H I J K L M</p><p>N O P Q R S</p><p>T U V W X Y Z</p><p>a b c d e f</p><p>g h i j k l m</p><p>n o p q r s</p><p>t u v w x y z</p><p>1 2 3 4 5</p><p>6 7 8 9 0</p>"}},{batch:"markdown",id:"viewerMarkdown",cls:"x-markdown",padding:"x",style:{paddingBottom:"24px"}},{id:"viewerAudio",batch:"audio",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:function(e){var r=e.src;if(r){var n=t[Fw.ext(r)];return"<audio class='x-no-outline' controls>\n                <source src='".concat(r,"' type='").concat(n,"'>\n                Your browser does not support the audio tag.\n              </audio>")}return"<audio class='x-no-outline' controls>Your browser does not support the audio tag.</audio>"}},{id:"viewerVideo",batch:"video",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:function(e){var r=e.src;if(r){var n=t[Fw.ext(r)];return"<video class='x-no-outline' width='320' height='240' controls>\n                <source src='".concat(r,"' type='").concat(n,"'>\n                Your browser does not support the video tag.\n              </video>")}return"<video class='x-no-outline' width='320' height='240' controls>Your browser does not support the video tag.</audio>"}},{batch:"invalid",flex:!0,flexSize:"flex",flexAlign:"middle center",template:"File type not supported.",htmlTag:"H4"}]})})),m.module("fontPicker").require("remote","prompt","editor").__init__((function(e,t){var r=t.remote,n=t.prompt,i=t.editor;Object.assign(e,{remote:r,prompt:n,editor:i}),e.styleContainer=document.createElement("style"),document.head.appendChild(e.styleContainer);var a=Ew.supported?"https://spck.io/ext/fonts":"ext/fonts";e.data=[{fontId:"",name:"Noto Mono (Default)",fontFamily:"NotoMono"},{fontId:"b612",name:"B612 Mono",fontFamily:"B612 Mono",url:"https://fonts.googleapis.com/css?family=B612+Mono&text=B612Mo%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/B612Mono-Regular.ttf")},{fontId:"courier_prime",name:"Courier Prime",fontFamily:"Courier Prime",url:"https://fonts.googleapis.com/css?family=Courier+Prime'&text=CoriePrim%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/CourierPrime-Regular.ttf")},{fontId:"cousine",name:"Cousine",fontFamily:"Cousine",url:"https://fonts.googleapis.com/css?family=Cousine&text=Cosie%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/Cousine-Regular.ttf")},{fontId:"dm",name:"DM Mono",fontFamily:"DM Mono",url:"https://fonts.googleapis.com/css?family=DM+Mono&text=DMo%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/DMMono-Regular.ttf")},{fontId:"inconsolata",name:"Inconsolata",fontFamily:"Inconsolata",url:"https://fonts.googleapis.com/css?family=Inconsolata&text=Icosat%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/Inconsolata-Regular.ttf")},{fontId:"nova",name:"Nova Mono",fontFamily:"Nova Mono",url:"https://fonts.googleapis.com/css?family=Nova+Mono&text=NoaM%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/NovaMono-Regular.ttf")},{fontId:"pt",name:"PT Mono",fontFamily:"PT Mono",url:"https://fonts.googleapis.com/css?family=PT+Mono&text=PTMo%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/PTMono-Regular.ttf")},{fontId:"source_code_pro",name:"Source Code Pro",fontFamily:"Source Code Pro",url:"https://fonts.googleapis.com/css?family=Source+Code+Pro&text=SorceCdPBItai%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/SourceCodePro-Regular.ttf")},{fontId:"source_code_pro_semibold_ital",name:"Source Code Pro: Bold Italic",fontFamily:"Source Code Pro",downloadUrl:"".concat(a,"/SourceCodePro-SemiBoldItalic.ttf")},{fontId:"share_tech",name:"Share Tech Mono",fontFamily:"Share Tech Mono",url:"https://fonts.googleapis.com/css?family=Share+Tech+Mono&text=ShareTchMo%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/ShareTechMono-Regular.ttf")},{fontId:"space",name:"Space Mono",fontFamily:"Space Mono",url:"https://fonts.googleapis.com/css?family=Space+Mono&text=SpaceMo%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/SpaceMono-Regular.ttf")},{fontId:"vt323",name:"VT323",fontFamily:"VT323",url:"https://fonts.googleapis.com/css?family=VT323&text=VT323%7B%5B%5Ev%27%5D%3A()%3D%3Enul%7D",downloadUrl:"".concat(a,"/VT323-Regular.ttf")}];var o=e.u().editorFontId;o&&e.Pa(o)})).def({u:function(){return window.localStorage},Ma:(ry=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=this).He(),e.next=4,t.La(t.data);case 4:return e.next=6,t.Ba(t.data);case 6:r.open();case 7:case"end":return e.stop()}}),e,this)}))),function(){return ry.apply(this,arguments)}),Pa:(ty=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,t){e.next=7;break}return r.styleContainer.firstChild&&r.styleContainer.removeChild(r.styleContainer.firstChild),r.u().editorFontId="",r.Ba(),r.editor._r(),e.abrupt("return");case 7:return e.next=9,$w.metadataDirAsync(".fonts");case 9:return n=e.sent,e.next=12,Uw.read(Fw.join(n,t),{encoding:"base64"});case 12:(i=e.sent)?(r.styleContainer.firstChild&&r.styleContainer.removeChild(r.styleContainer.firstChild),r.styleContainer.appendChild(document.createTextNode("@font-face {font-family: 'SpckEditorCustomFont'; src: url('data:font/ttf;base64,".concat(i,"');}"))),r.u().editorFontId=t,r.Ba(),r.editor._r()):r.prompt.K(wb.ErrorMessages.NotExistsFor(wb.Objects.Font));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return ty.apply(this,arguments)}),La:(ey=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w.metadataDirAsync(".fonts");case 2:return r=e.sent,e.next=5,Uw.readdir(r);case 5:(n=e.sent)?t.forEach((function(e){e.downloaded=n.includes(e.fontId)})):t.forEach((function(e){e.downloaded=!1}));case 7:case"end":return e.stop()}}),e)}))),function(e){return ey.apply(this,arguments)}),Ba:function(e){var t=this.Wn();if(t){e?t.setData(e):t.deselectAll();var r=this.u().editorFontId||"",n=t.findOne("fontId",r);n&&t.select(n)}},Da:(Xk=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,$w.metadataDirAsync(".fonts");case 3:return n=e.sent,i=Fw.join(n,t.fontId),e.next=7,r.remote.X({url:t.downloadUrl,responseType:"arraybuffer",noCache:!1,retryCount:1});case 7:return a=e.sent,e.next=10,Uw.write(i,a);case 10:return e.next=12,r.La(r.data);case 12:r.Wn().refreshItem(t);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return Xk.apply(this,arguments)}),Ua:(Qk=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,$w.metadataDirAsync(".fonts");case 3:return n=e.sent,i=Fw.join(n,t.fontId),e.next=7,Uw.rm(i);case 7:return e.next=9,r.La(r.data);case 9:r.Wn().refreshItem(t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return Qk.apply(this,arguments)})}),m.module("fontPicker").require("editor").__init__((function(e,t){var r=t.editor;e.editor=r})).def({Wn:function(){return $$("fontPickerList")},$a:function(){return $$("fontPickerSearchInput")},He:function(){var e=this;if(e.$modal)return e.$modal;var t="ace-"+e.editor.zt();return e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",center:!1,closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["full","large","blank"],style:{zIndex:1900},header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Objects.Font),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuToggle",icon:"search",title:"Search Fonts",on:{onToggled:function(){var t=e.$a();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"fontPickerCloseButton",view:"menuIcon",icon:"close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"fontPickerSearchInput",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Remote),clearSearch:!0,on:{onInput:function(){e.Wn().refresh()}}}]},body:{id:"fontPickerContainer",view:"scroller",nativeScroll:Ew.supported,cells:[{textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",margin:"x top-sm",attributes:kb({en:"Downloading fonts require an internet connection.",es:"La descarga de fuentes requiere una conexión a Internet.",fr:"Le téléchargement de polices nécessite une connexion Internet.",id:"Mengunduh font memerlukan koneksi internet.",ja:"フォントのダウンロードにはインターネット接続が必要です。",pt:"O download de fontes requer uma conexão à Internet.",ru:"Загрузка шрифтов требует подключения к интернету.",zh:"下载字体需要互联网连接。",zhTW:"下載字體需要互聯網連接。"})},{view:"label",margin:"x y",textColor:"warning",attributes:kb({en:'Warning: Recommended to use "Noto Mono" if your code contains non-latin characters. Editor cursor may be misaligned by unsupported unicode characters!',es:'Advertencia: Se recomienda usar "Noto Mono" si su código contiene caracteres no latinos. ¡El cursor del editor puede estar desalineado por caracteres Unicode no compatibles!',fr:"Avertissement: recommandé d'utiliser \"Noto Mono\" si votre code contient des caractères non latins. Le curseur de l'éditeur peut être désaligné par des caractères Unicode non pris en charge!",id:'Peringatan: Disarankan untuk menggunakan "Noto Mono" jika kode Anda mengandung karakter non-latin. Kursor editor mungkin tidak sejajar dengan karakter unicode yang tidak didukung!',ja:"警告：コードに非ラテン文字が含まれている場合は、「能登モノ」を使用することをお勧めします。 エディターのカーソルが、サポートされていないUnicode文字によって正しく位置合わせされていない可能性があります！",pt:'Aviso: recomendado o uso de "Noto Mono" se o seu código contiver caracteres não latinos. O cursor do editor pode estar desalinhado por caracteres unicode não suportados!',ru:"Предупреждение: рекомендуется использовать «Noto Mono», если ваш код содержит нелатинские символы. Курсор редактора может быть смещен неподдерживаемыми символами Юникода!",zh:"警告：如果您的代码包含非拉丁字符，建议使用“ Noto Mono”。 编辑器光标可能由于不支持的Unicode字符而未对齐！",zhTW:"警告：如果您的代碼包含非拉丁字符，建議使用“ Noto Mono”。 編輯器光標可能由於不支持的Unicode字符而未對齊！"})}],style:{opacity:.7}},{id:"fontPickerList",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(r){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",cells:[r.url?{template:"<link rel='stylesheet' href='".concat(r.url,"'>")}:null,{view:"label",htmlTag:"H5",label:r.name,style:{color:"inherit"}},{view:"label",cls:t,htmlTag:"DIV",text:"large",label:"{[<span class='ace_string'>&apos;^v^&apos;</span>]:()<span class='ace_storage ace_type'>=></span><span class='ace_constant ace_language'>null</span>}"}],style:{minWidth:0,fontFamily:r.fontFamily}},r.downloadUrl?{flexSize:"none",cls:["x-menu-icons","x-uk-active-hidden"],cells:[r.downloaded?{view:"menuIcon",iconClass:"ti-trash",on:{onMouseDown:function(t,n,i){UI.preventEvent(i),e.Ua(r)}}}:{view:"menuIcon",iconClass:"ti-download",on:{onMouseDown:function(t,n,i){UI.preventEvent(i),e.Da(r)}}}]}:null]}}},filter:function(t){return t.name.toLowerCase().includes(e.$a().getValue().toLowerCase())},data:[],on:{onItemClick:function(t){!t.downloaded&&t.downloadUrl?e.Da(t).then((function(){return e.Pa(t.fontId)})):e.Pa(t.fontId),Ww("settings","change_font")}}}]}},document.getElementById("appContainer"))}}),m.module("addGitAuth").require("git").__init__((function(e,t){var r=t.git;e.git=r})).__init__((function(e){var t;e.CredentialManager={prompt:function(t){return new Promise((function(r,n){e.Na(t,(function(){e.git.M(t).then(r,n)}),n)}))},getItemAsync:(t=r(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.git.M(r);case 2:if(!(n=t.sent).username||!n.token){t.next=7;break}return t.abrupt("return",{username:n.username,token:n.token});case 7:return t.abrupt("return",this.prompt(r));case 8:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)}),getItemAsyncWithoutPrompt:function(t){return e.git.O(t).then((function(r){return r?e.git.M(t):null}))},setItemAsync:function(t,r,n,i){return e.git.L(t,r,n,i)}}})).def({Na:function(e,t,r){var n=this.He();if(e){var i=this.Ga();i.setValue(e),i.dispatch("onChange")}n.open({onResult:t,onDismiss:r})},Wa:(ny=r(regeneratorRuntime.mark((function e(){var t,r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=this).Ha().getValue(),n=t.Va().getValue(),i=t.Ka().getValue(),a=t.Ga().getValue(),e.next=7,t.CredentialManager.setItemAsync(a,r,i,n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return ny.apply(this,arguments)})}),m.module("addGitAuth").def({Ga:function(){return $$("addGitAuthHostSelect")},Ka:function(){return $$("addGitTokenInput")},Ha:function(){return $$("addGitUsernameInput")},Va:function(){return $$("addGitAuthorEmailInput")},He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,cls:"x-prompt",view:"modal",closeButton:!1,bgClose:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:wb.Elements.GitCredentials,collapsable:!1},{flexSize:"none",cells:[{view:"label",textColor:"muted",label:yb({en:"Provider",es:"Proveedor",ja:"プロバイダー",pt:"Provedor",ru:"Поставщик",zh:"提供者",zhTW:"提供者"})},{id:"addGitAuthHostSelect",view:"select",textColor:"primary",margin:"x",style:{border:"none",padding:"0"},data:[{value:"git",label:"Default"},{value:"github.com",label:"GitHub",optgroup:"Host"},{value:"bitbucket.org",label:"BitBucket",optgroup:"Host"},{value:"gitlab.com",label:"GitLab",optgroup:"Host"}],on:{onChange:function(){var t=this.getValue();$$("addGitAuthMessage").showBatch(t),e.$modal.updateFieldsForProviderAsync(t)}}}]}]},body:{flexLayout:"column",margin:"top",cells:[{id:"addGitUsernameInput",view:"i18nInput",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:wb.Placeholders.Username,on:{onKeyUp:function(t,r,n){"Enter"==n.key&&e.Ka().focus()}}},{id:"addGitTokenInput",view:"i18nInput",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:{en:"Password/Token",es:"Contraseña/Token",ja:"パスワード/Token",pt:"Senha/Token",ru:"Пароль/Token",zh:"密码/Token",zhTW:"密碼/Token"},on:{onKeyUp:function(t,r,n){"Enter"==n.key&&this.getValue()&&e.Va().focus()}}},{id:"addGitAuthorEmailInput",view:"i18nInput",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:wb.Objects.AuthorEmail,type:"email",on:{onKeyUp:function(e,t,r){"Enter"==r.key&&$$("addGitAuthOkButton").dispatch("onClick")}}},{id:"addGitAuthMessage",margin:"top-sm left-sm",cells:[{batch:"github.com",htmlTag:"SPAN",template:"Create a <a href='https://github.com/settings/tokens' rel='noopener noreferrer' target='_blank'>GitHub token</a>."},{batch:"gitlab.com",htmlTag:"SPAN",template:"How to create a <a href='https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html' rel='noopener noreferrer' target='_blank'>GitLab token</a>."},{batch:"bitbucket.org",htmlTag:"SPAN",template:"How to create a <a href='https://confluence.atlassian.com/bitbucket/app-passwords-828781300.html' rel='noopener noreferrer' target='_blank'>BitBucket token</a>."}],on:{onInitialized:function(){this.showBatch(e.Ga().getValue())}}}]},footer:{flexAlign:"right",cells:[{id:"addGitAuthCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){e.$modal.close()}}},{id:"addGitAuthOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){e.Wa().then((function(){e.onModalResult&&(e.onModalResult(),e.onModalDismiss=null),e.$modal.close()}))}}}]},on:{onOpened:function(t,r,n){this.updateFieldsForProviderAsync(e.Ga().getValue()),e.onModalResult=n&&n.onResult,e.onModalDismiss=n&&n.onDismiss},onClosed:function(){e.onModalDismiss&&e.onModalDismiss()}},updateFieldsForProviderAsync:function(t){return e.git.M(t).then((function(t){e.Ka().setValue(t.token),e.Ha().setValue(t.username),e.Va().setValue(t.email)}))}},document.getElementById("appContainer"))}}),m.module("checkoutBranch").require("gitClient","session","prompt").__init__((function(e,t){var r=t.gitClient,n=t.session,i=t.prompt;Object.assign(e,{gitClient:r,session:n,prompt:i})})).def({select:function(){return $$("checkoutBranchSelect")},qa:(uy=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.gitClient.an(t);case 3:return n=e.sent,e.next=6,Promise.all(n.map((function(e){return r.gitClient.xn(t,e.remote)})));case 6:return e.next=8,r.Za(t);case 8:r.prompt.K(wb.Objects.Fetch,"Successfully updated all remote branches.");case 9:case"end":return e.stop()}}),e,this)}))),function(e){return uy.apply(this,arguments)}),Ya:function(e){return e.filter((function(e){return"HEAD"!==e.name})).map((function(e){return{label:e.name,value:e.name,optgroup:e.remote?"Remote: ".concat(e.remote):"Local"}}))},Za:(oy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Promise.all([r.gitClient.kn(t),r.gitClient.Vr(t)]);case 3:n=e.sent,i=k(n,2),a=i[0],o=i[1],r.select().setData(r.Ya(a)),r.select().setValue(o);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return oy.apply(this,arguments)}),Ja:(ay=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.He(),e.next=3,this.Za(t);case 3:r.open(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return ay.apply(this,arguments)}),Qa:(iy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dir,n=t.branch,i=t.noChecks,a=this,e.next=4,i?a.gitClient.On(r,n):a.gitClient.zn(r,n);case 4:return e.next=6,a.session.De(r);case 6:return e.next=8,a.session.Pe(a.session.ce());case 8:case"end":return e.stop()}}),e,this)}))),function(e){return iy.apply(this,arguments)})}),m.module("checkoutBranch").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,style:{zIndex:1900},header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:wb.Elements.Checkout,collapsable:!1}]},body:{cls:"uk-form",margin:"top",flexAlign:"middle",cells:[{id:"checkoutBranchSelect",view:"select",flexSize:"flex",data:[],style:{maxWidth:"calc(100% - 56px)"}},{view:"menuIcon",icon:"refresh",title:"Fetch All Remotes",margin:"x-sm",flexSize:"none",on:{onMouseDown:function(){var t=e.$modal.projectDir;t&&e.qa(t)}}}]},footer:{flexAlign:"right",cells:[{id:"checkoutBranchCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){e.$modal.close()}}},{id:"checkoutBranchOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=e.$modal.projectDir;t&&e.Qa({dir:t,branch:e.select().getValue()}),e.$modal.close()}}}]},on:{onOpened:function(e,t,r){this.projectDir=r}}},document.getElementById("appContainer"))}}),m.module("cloneRepo").require("gitClient","git","addGitAuth","initRepo","project").__init__((function(e,t){var r=t.gitClient,n=t.git,i=t.addGitAuth,a=t.initRepo,o=t.project;Object.assign(e,{gitClient:r,git:n,addGitAuth:i,initRepo:a,project:o})})).def({Xa:function(e){this.He().open({onResult:e})},eo:function(e,t){var n,i=this;return i.project.er({name:e,buildCallbackAsync:(n=r(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.dir,r.git=!0,e.next=4,i.gitClient.ln(n,t);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}).then(Vw("clone_git_repo","git_core"),Kw("clone_git_repo","git_core"))}}),m.module("cloneRepo").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:wb.Elements.CloneRepo,collapsable:!1}]},body:{flexLayout:"column",cells:[{view:"link",htmlTag:"SPAN",margin:"y-sm",template:"".concat(yb(wb.Actions.Set(wb.Objects.Credentials),"a")," to access for ").concat(wb.Elements.PrivateRepository,"."),on:{onClick:function(t,r,n){"A"===n.target.tagName&&(e.$modal.close(),e.addGitAuth.Na())}}},{id:"cloneRepoUrlInput",view:"i18nInput",width:"full",size:"large",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:wb.Placeholders.HttpsUrl,on:{onKeyUp:function(e,t,r){this.validate((function(){"Enter"==r.key&&$$("cloneRepoOkButton").dispatch("onClick")}))}},validate:function(t){var r=this.getValue(),n=e.git.j(r);r?n?(this.raiseConcern(null),t&&t(n)):this.raiseConcern("Please enter a valid HTTPS repo url."):this.raiseConcern(null)}}]},footer:{flexAlign:"right",cells:[{id:"cloneRepoCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){e.$modal.close()}}},{id:"cloneRepoOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=$$("cloneRepoUrlInput");t.setValue(e.git.T(t.getValue())),t.validate((function(t){e.$modal.close(),e.eo(t.repoName,t.url)}))}}}]},on:{onOpened:function(){$$("cloneRepoUrlInput").setValue("")}}},document.getElementById("appContainer"))}}),m.module("commitMessage").require("git","gitClient","path").__init__((function(e,t){var r=t.git,n=t.gitClient,i=t.path;Object.assign(e,{git:r,gitClient:n,path:i})})).def({ro:(sy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.prev=1,e.next=4,r.gitClient.un(t);case 4:i=e.sent,a=i.url,n=r.path.ot(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n=null;case 12:return o=r.He(),r.no().setValue(n||"git"),e.next=16,r.git.M(n);case 16:return u=e.sent,r.io().setValue(""),r.ao().setValue(u.username),r.oo().setValue(u.email),e.abrupt("return",new Promise((function(e,t){o.open({resolve:e,reject:t})})));case 21:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return sy.apply(this,arguments)})}),m.module("commitMessage").def({io:function(){return $$("commitMessageInput")},ao:function(){return $$("commitAuthorName")},oo:function(){return $$("commitAuthorEmail")},uo:function(){return $$("commitMessageOkButton")},no:function(){return $$("commitMessageCredentialSelect")},He:function(){var e,t,n,i=this;return i.$modal?i.$modal:i.$modal=UI.new({id:i.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:wb.Elements.CommitAll,collapsable:!1},{flexSize:"none",cells:[{view:"label",textColor:"muted",label:yb(wb.Objects.Credentials)},{id:"commitMessageCredentialSelect",view:"select",textColor:"primary",margin:"x",style:{border:"none",padding:"0"},data:[{value:"git",label:"Default"},{value:"github.com",label:"GitHub",optgroup:"Host"},{value:"bitbucket.org",label:"BitBucket",optgroup:"Host"},{value:"gitlab.com",label:"GitLab",optgroup:"Host"}],on:{onChange:function(){i.git.M(this.getValue()).then((function(e){i.ao().setValue(e.username),i.oo().setValue(e.email)}))}}}]}]},body:{flexLayout:"column",margin:"top",cells:[{id:"commitMessageInput",view:"i18nInput",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:wb.Objects.CommitMessage,validateAsync:(n=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=(t=this).getValue())||(n=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.CommitMessage)),!n){e.next=8;break}throw t.raiseConcern(n),new Error(n);case 8:return t.raiseConcern(null),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),on:{onKeyUp:function(e,t,r){this.validateAsync().then((function(){"Enter"==r.key&&i.ao().focus()}))}}},{id:"commitAuthorName",view:"i18nInput",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:wb.Objects.NameFor(wb.Objects.Author),validateAsync:(t=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=(t=this).getValue())||(n=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.NameFor(wb.Objects.Author))),!n){e.next=8;break}throw t.raiseConcern(n),new Error(n);case 8:return t.raiseConcern(null),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)}),on:{onKeyUp:function(e,t,r){this.validateAsync().then((function(){"Enter"==r.key&&i.oo().focus()}))}}},{id:"commitAuthorEmail",view:"i18nInput",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:wb.Objects.AuthorEmail,type:"email",validateAsync:(e=r(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=(t=this).getValue())||(n=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.AuthorEmail)),!n){e.next=8;break}throw t.raiseConcern(n),new Error(n);case 8:return t.raiseConcern(null),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)}),on:{onKeyUp:function(e,t,r){this.validateAsync().then((function(){"Enter"==r.key&&i.uo().dispatch("onClick")}))}}}]},footer:{flexAlign:"right",cells:[{id:"commitMessageCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){i.$modal.close()}}},{id:"commitMessageOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){return Promise.all([i.io().validateAsync(),i.ao().validateAsync(),i.oo().validateAsync()]).then((function(e){var t=k(e,3),r=t[0],n=t[1],a=t[2];i.$modal.close(),i.$modal.resolve&&i.$modal.resolve({message:r,author:{name:n,email:a}})}))}}}]},on:{onOpened:function(e,t,r){var n=r.resolve,a=r.reject;Object.assign(this,{resolve:n,reject:a}),i.io().raiseConcern(null),i.ao().raiseConcern(null),i.oo().raiseConcern(null)}}},document.getElementById("appContainer"))}}),m.module("initRepo").require("gitClient","session","model","gitRemotes").__init__((function(e,t){var r=t.gitClient,n=t.session,i=t.model,a=t.gitRemotes;Object.assign(e,{gitClient:r,session:n,gitRemotes:a,model:i})})).def({so:(cy=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.gitClient.Nn(t);case 3:return e.next=5,r.session.De(t);case 5:return e.next=7,r.model.Ce(t,{git:!0});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return cy.apply(this,arguments)})}),m.module("gitBranches").require("string","checkoutBranch","addGitAuth","gitClient","session","prompt").__init__((function(e,t){var r=t.addGitAuth,n=t.gitClient,i=t.checkoutBranch,a=t.string,o=t.session,u=t.prompt;Object.assign(e,{addGitAuth:r,gitClient:n,string:a,checkoutBranch:i,session:o,prompt:u}),o.observable.subscribe((function(t){var r=t.action,n=t.projectDir;if("syncGit"===r)return e.co(n)}))})).def({fo:function(){return $$("gitBranchesOkButton")},lo:function(){return $$("gitBranchesAddInput")},Wn:function(){return $$("gitBranchesList")},ho:function(){return $$("gitBranchesListContainer")},do:function(){return $$("gitBranchesRemoteList")},mo:function(){return $$("gitBranchesRemoteListContainer")},$a:function(){return $$("gitBranchesSearchInput")},vo:function(e){var t=this.po();this.lo().setValue(""),t.open(e)},bo:(dy=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.He(),e.next=3,this.co(t);case 3:r.open(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return dy.apply(this,arguments)}),co:(hy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=this).ho()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Promise.all([r.gitClient.kn(t),r.gitClient.Vr(t,!0).catch((function(){return null}))]);case 6:i=e.sent,a=k(i,2),o=a[0],u=a[1],(s=o.filter((function(e){return!e.remote}))).length?((c=r.Wn()).setData(s),c.deselectAll(),(f=c.findOne("ref",u))&&c.select(f),n.showBatch("list")):n.showBatch("empty"),(l=o.filter((function(e){return!!e.remote}))).length?(r.do().setData(l),r.mo().showBatch("list")):r.mo().showBatch("empty");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return hy.apply(this,arguments)}),wo:(ly=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,new Promise((function(e,t){n.prompt.gt(wb.Actions.Delete(wb.Objects.Branch),null,{message:wb.Actions.DeleteConfirm(wb.Objects.BranchWithName(r)),okColor:"danger",onResult:function(){e()},onDismiss:function(){t()}})}));case 3:return e.next=5,n.gitClient.Bn(t,r);case 5:return e.next=7,n.co(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return ly.apply(this,arguments)}),ko:(fy=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,new Promise((function(e,t){n.prompt.gt(wb.Elements.Checkout,null,{message:wb.Actions.CheckoutConfirm(wb.Objects.BranchWithName(r)),onResult:function(){e()},onDismiss:function(){t()}})}));case 3:return e.next=5,n.checkoutBranch.Qa({dir:t,branch:r});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return fy.apply(this,arguments)})}),m.module("gitBranches").def({po:function(){var e,t=this;return t.$addModal?t.$addModal:t.$addModal=UI.new({id:"gitBranchesAddModal",view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Actions.Create(wb.Objects.Branch)),collapsable:!1}]},body:{flexLayout:"column",cls:"uk-form",margin:"top",cells:[{id:"gitBranchesAddInput",view:"i18nInput",i18nPlaceholders:wb.Objects.NameFor(wb.Objects.Branch),on:{onKeyUp:function(e,r,n){this.validateAsync().then((function(){"Enter"==n.key&&t.fo().dispatch("onClick")}))}},validateAsync:(e=r(regeneratorRuntime.mark((function e(){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=this).getValue()){e.next=8;break}throw i=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.NameFor(wb.Objects.Branch)),r.raiseConcern(i),new Error(i);case 8:if(!(/[~^:\s\\]/.test(n)||n.endsWith("/")||n.includes("..")||n.startsWith(".")||n.toLowerCase().endsWith(".lock"))){e.next=14;break}throw i=wb.ErrorMessages.InvalidFor(wb.Objects.NameFor(wb.Objects.Branch)),r.raiseConcern(i),new Error(i);case 14:return a=t.$addModal.projectDir,e.next=17,t.gitClient.yn(a);case 17:if(!e.sent.includes(n)){e.next=24;break}throw i=wb.ErrorMessages.ExistsFor(wb.Objects.Branch),r.raiseConcern(i),new Error(i);case 24:return r.raiseConcern(null),e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]},footer:{flexAlign:"right",cells:[{id:"gitBranchesCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){t.$addModal.close()}}},{id:"gitBranchesOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var e=t.$addModal.projectDir;t.lo().validateAsync().then(function(){var n=r(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.gitClient.Mn(e,n);case 2:return r.next=4,t.co(e);case 4:t.$addModal.close();case 5:case"end":return r.stop()}}),r)})));return function(e){return n.apply(this,arguments)}}())}}}]},on:{onOpened:function(e,t,r){this.projectDir=r}}},document.getElementById("appContainer"))},He:function(){var e=this;if(e.$modal)return e.$modal;var t=function(t){return t.ref.includes(e.$a().getValue())};return e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],style:{zIndex:1900},header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Objects.Branches),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuToggle",icon:"search",title:"Search Branches",on:{onToggled:function(){var t=e.$a();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"gitBranchesAddButton",view:"menuIcon",icon:"plus",on:{onMouseDown:function(){e.vo(e.$modal.projectDir)}}},{id:"gitBranchesCloseButton",view:"menuIcon",icon:"close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"gitBranchesSearchInput",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Branch),clearSearch:!0,on:{onInput:function(){e.Wn().refresh()}}}]},body:{view:"scroller",nativeScroll:Ew.supported,cells:[{view:"menuTitle",label:wb.Elements.Local,style:{padding:"0.5em 1em"},on:{onToggled:function(t){var r=e.ho();t.visible?r.show():r.hide()}}},{id:"gitBranchesListContainer",flexSize:"none",cells:[{batch:"list",id:"gitBranchesList",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(t){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",label:e.string.st(t.name)},{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",textColor:"muted",label:e.string.st(t.ref)}]},{flexSize:"none",cls:"x-menu-icons",cells:[{view:"menuIcon",icon:"pull",on:{onMouseDown:function(){e.ko(e.$modal.projectDir,t.name)}}},{view:"menuIcon",iconClass:"ti-trash",on:{onMouseDown:function(){e.wo(e.$modal.projectDir,t.name)}}}]}]}}},filter:t,data:[]},{batch:"empty",textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],cells:[{htmlTag:"H4",cls:"x-empty-block",view:"label",attributes:kb(wb.Actions.NoItemFound(wb.Objects.Branches))}]}]},{view:"menuTitle",label:yb(wb.Objects.RemoteBranches),style:{padding:"0.5em 1em"},on:{onToggled:function(t){var r=e.mo();t.visible?r.show():r.hide()}}},{id:"gitBranchesRemoteListContainer",flexLayout:"column",cells:[{batch:"list",id:"gitBranchesRemoteList",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(t){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",label:e.string.st(t.name)},{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",textColor:"muted",label:e.string.st(t.ref)}]},{flexSize:"none",cls:"x-menu-icons",template:{view:"menuIcon",icon:"pull",on:{onMouseDown:function(){e.ko(e.$modal.projectDir,t.name)}}}}]}}},filter:t,data:[]},{batch:"empty",textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],cells:[{htmlTag:"H4",cls:"x-empty-block",view:"label",attributes:kb(wb.Actions.NoItemFound(wb.Objects.RemoteBranches))}]}]}]},on:{onOpened:function(e,t,r){this.projectDir=r}}},document.getElementById("appContainer"))}}),m.module("gitLogger").require("gitClient","prompt").__init__((function(e,t){var r=t.gitClient,n=t.prompt;Object.assign(e,{gitClient:r,prompt:n})})).def({Wn:function(){return $$("gitLoggerList")},qt:function(){return $$("gitLoggerSearchInput")},yo:(my=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.prev=1,e.next=4,Promise.all([r.gitClient.kn(t),r.gitClient.Xr(t)]);case 4:return n=e.sent,i=k(n,2),a=i[0],o=i[1],e.next=10,Promise.all(a.map((function(e){return r.gitClient.nn(t,e.ref)})));case 10:e.sent.forEach((function(e,t){var r=o.find((function(t){return t.oid===e}));r&&(a[t].remote?r.remote=a[t].remote+"/"+a[t].name:r.head=a[t].name)})),u=r.He(),r.Wn().setData(o),u.open(),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(1),r.prompt.K(wb.Actions.Failed(wb.Objects.Echo("Git Log")),e.t0.message||"An error occurred in gathering log info."),e.t0;case 21:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(e){return my.apply(this,arguments)})}),m.module("gitLogger").def({He:function(){var e=this;return e.$modal?e.$modal:e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Objects.LogHistory),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuToggle",icon:"search",title:"Search Files",on:{onToggled:function(){var t=e.qt();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"gitLoggerCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"gitLoggerSearchInput",cls:"x-menu-search",view:"searchField",hidden:!0,i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Log),clearSearch:!0,on:{onInput:function(){e.Wn().refresh()}}}]},body:{view:"scroller",nativeScroll:Ew.supported,cells:[{id:"gitLoggerList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:function(t){var r=e.qt().getValue();return t.message.includes(r)||t.oid.includes(r)},template:function(e){var t=e.author,r=e.oid,n=e.head,i=e.remote,a=e.message,o=t.timestamp,u=t.name,s=t.email,c=new Date(1e3*o).toLocaleString(),f=[];n&&f.push("<span class='uk-badge uk-badge-notification'>HEAD: ".concat(n,"</span>")),i&&f.push("<span class='uk-badge uk-badge-notification uk-badge-danger'>".concat(i,"</span>"));var l=f.length?"<div>".concat(f.join(" "),"</div>"):"";return"".concat(l,"<span class='x-commit-title'>Commit:</span><small class='x-commit-oid uk-margin-small-right'>").concat(r,"</small>\n                <div><span class='x-commit-title'>Author:</span>").concat(u," &lt;").concat(s,"&gt;</div>\n                <div><span class='x-commit-title'>Date:</span>").concat(c,"</div>\n                <div class='x-commit-message'>").concat(a,"</div>")},data:[]}]}},document.getElementById("appContainer"))}}),m.module("gitRemotes").require("gitClient","git","prompt","share","string").__init__((function(e,t){var r=t.gitClient,n=t.git,i=t.prompt,a=t.share,o=t.string;Object.assign(e,{gitClient:r,git:n,prompt:i,share:a,string:o})})).def({Ro:(Ay=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectDir,n=t.afterModalCallback,a=(i=this).po(),e.next=5,new Promise((function(e,t){a.open({resolve:e,reject:t,projectDir:r}),n&&n({resolve:e,reject:t})}));case 5:return o=e.sent,u=o.remote,s=o.url,e.next=10,i.gitClient.Dn(r,u,s);case 10:return e.abrupt("return",i.xo(r));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return Ay.apply(this,arguments)}),Un:(xy=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,n.gitClient.Un(t,r);case 3:return e.abrupt("return",n.xo(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return xy.apply(this,arguments)}),Ao:(Ry=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.So({projectDir:t,remoteOnly:!0,title:wb.Objects.Fetch});case 3:return n=e.sent,i=n.remote,e.next=7,r.gitClient.xn(t,i);case 7:a=wb.Objects.Remote,r.prompt.K(wb.Objects.SuccessfulFor(wb.Objects.Fetch),{en:"Successfully fetched ".concat(a.en.toLowerCase()," [").concat(i,"]."),es:"Recuperada con éxito ".concat(a.es.toLowerCase()," [").concat(i,"]."),ja:"正常にフェッチされました".concat(a.ja," [").concat(i,"]"),pt:"Busca ".concat(a.pt.toLowerCase()," com sucesso [").concat(i,"]."),zh:"成功获取".concat(a.zh," [").concat(i,"]"),zhTW:"成功獲取".concat(a.zhTW," [").concat(i,"]")});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return Ry.apply(this,arguments)}),So:(yy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectDir,n=t.remoteOnly,i=t.title,a=t.afterModalCallback,o=this,e.next=4,n?o.Co(r):o.To(r);case 4:return e.next=6,new Promise((function(e,t){o.upstreamModal.open({resolve:e,reject:t,projectDir:r,remoteOnly:n,title:i}),a&&a()}));case 6:return u=e.sent,s=u.remote,c=u.branch,e.next=11,Promise.all([o.gitClient.Jr(r,s),!n&&o.gitClient.Qr(r,c)]);case 11:return e.abrupt("return",{remote:s,branch:c});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return yy.apply(this,arguments)}),_o:(ky=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.share.We({title:yb(wb.Objects.RemoteUrl),value:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return ky.apply(this,arguments)}),Co:(wy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Promise.all([r.gitClient.Zr(t),r.gitClient.an(t)]);case 3:n=e.sent,i=k(n,2),a=i[0],o=i[1],(u=r.Eo()).setData(o.map((function(e){var t=e.remote;return{label:t,value:t}}))),u.setValue(a||"origin");case 10:case"end":return e.stop()}}),e,this)}))),function(e){return wy.apply(this,arguments)}),To:(by=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Promise.all([r.gitClient.Zr(t),r.gitClient.an(t)]);case 3:return n=e.sent,i=k(n,2),a=i[0],o=i[1],u=r.Io(),s=a||"origin",u.setData(o.map((function(e){var t=e.remote;return{label:t,value:t}}))),u.setValue(s),e.abrupt("return",r.jo(t,s));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return by.apply(this,arguments)}),jo:(gy=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,Promise.all([n.gitClient.Vr(t),n.gitClient.Yr(t),n.gitClient.yn(t,r)]);case 3:i=e.sent,a=k(i,3),o=a[0],u=a[1],s=a[2],(c=n.zo()).setData([o].concat(s).map((function(e){return{label:e,value:e}}))),c.setValue(u||o);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return gy.apply(this,arguments)}),xo:(py=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,Promise.all([r.gitClient.Zr(t),r.gitClient.an(t)]);case 3:n=e.sent,i=k(n,2),a=i[0],(o=i[1]).length?((u=r.Wn()).setData(o),u.deselectAll(),(s=u.findOne("remote",a))&&u.select(s),r.Oo().showBatch("list")):r.Oo().showBatch("empty");case 8:case"end":return e.stop()}}),e,this)}))),function(e){return py.apply(this,arguments)}),Fo:(vy=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.He(),e.next=3,this.xo(t);case 3:r.open(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return vy.apply(this,arguments)})}),m.module("gitRemotes").__init__((function(e){e.upstreamModal=UI.new({id:"gitRemotesUpstreamModal",view:"modal",cls:"x-prompt",closeButton:!1,bgclose:!1,center:!1,style:{zIndex:1900},header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{id:"gitRemotesUpstreamModalTitle",view:"menuTitle",htmlTag:"LABEL",label:"",collapsable:!1},{id:"gitRemotesAddRemoteTitleIcon",cls:"x-menu-icons",view:"menuIcon",icon:"plus",title:"Add Remote",flexSize:"none",on:{onMouseDown:function(){var t=e.upstreamModal.projectDir;t&&e.Ro({projectDir:t}).then((function(){return e.To(t)}))}}}]},body:{id:"gitRemotesUpstreamModalBody",margin:"top",cells:[{batch:"upstream",view:"form",formStyle:"horizontal",fill:"width",fieldset:[{id:"gitRemotesUpstreamRemoteSelect",formLabel:wb.Elements.Remotes,view:"select",style:{maxWidth:"calc(100% - 128px)"},data:[],on:{onChange:function(){e.jo(e.upstreamModal.projectDir,this.getValue())}}},{id:"gitRemotesUpstreamBranchSelect",formLabelAttributes:kb(wb.Objects.Branches),view:"select",style:{maxWidth:"calc(100% - 128px)"},data:[]}]},{batch:"remoteOnly",cells:[{id:"gitRemotesRemoteOnlySelect",flexSize:"flex",view:"select",data:[]},{cls:"x-menu-icons",view:"menuIcon",icon:"plus",margin:"left",title:"Add Remote",flexSize:"none",on:{onMouseDown:function(){var t=e.upstreamModal.projectDir;t&&e.Ro({projectDir:t}).then((function(){return e.Co(t)}))}}}]}]},footer:{flexAlign:"right",cells:[{id:"gitRemotesUpstreamModalCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){e.upstreamModal.close(),e.upstreamModal.reject&&e.upstreamModal.reject()}}},{id:"gitRemotesUpstreamModalOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=e.upstreamModal,r=t.resolve,n=t.projectDir,i=t.remoteOnly;e.upstreamModal.close(),n&&r&&r(i?{remote:e.Eo().getValue()}:{remote:e.Io().getValue(),branch:e.zo().getValue()})}}}]},on:{onOpened:function(t,r,n){var i=n.resolve,a=n.reject,o=n.projectDir,u=n.remoteOnly,s=n.title;Object.assign(this,{resolve:i,reject:a,projectDir:o,remoteOnly:u}),u?(e.Po().showBatch("remoteOnly"),e.Mo().hide()):(e.Po().showBatch("upstream"),e.Mo().show()),s&&(e.Lo().config.label=("string"==typeof s?s:yb(s))+": "+yb(u?wb.Actions.Select(wb.Objects.Remote):wb.Actions.Select(wb.Objects.Upstream)),e.Lo().updateLabel())}}},document.getElementById("appContainer"))})).def({Wn:function(){return $$("gitRemotesList")},$a:function(){return $$("gitRemotesSearchInput")},Lo:function(){return $$("gitRemotesUpstreamModalTitle")},Po:function(){return $$("gitRemotesUpstreamModalBody")},Mo:function(){return $$("gitRemotesAddRemoteTitleIcon")},Io:function(){return $$("gitRemotesUpstreamRemoteSelect")},Eo:function(){return $$("gitRemotesRemoteOnlySelect")},zo:function(){return $$("gitRemotesUpstreamBranchSelect")},fo:function(){return $$("gitRemotesAddModalOkButton")},Bo:function(){return $$("gitRemotesUrlInput")},Ra:function(){return $$("gitRemotesNameInput")},Oo:function(){return $$("gitRemotesContainer")},po:function(){var e,t,n=this;return n.$addModal?n.$addModal:n.$addModal=UI.new({id:"gitRemotesAddModal",view:"modal",cls:"x-prompt",closeButton:!1,bgclose:!1,center:!1,header:{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:yb(wb.Actions.New(wb.Objects.Remote)),collapsable:!1}]},body:{flexLayout:"column",margin:"top",cells:[{id:"gitRemotesNameInput",view:"i18nInput",i18nPlaceholders:wb.Objects.NameFor(wb.Objects.Remote),on:{onKeyUp:function(e,t,r){this.validateAsync().then((function(){"Enter"==r.key&&n.fo().dispatch("onClick")}))}},validateAsync:(t=r(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=this).getValue()){e.next=8;break}throw i=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.NameFor(wb.Objects.Remote)),t.raiseConcern(i),new Error(i);case 8:return e.next=10,n.gitClient.an(n.$addModal.projectDir);case 10:if(!e.sent.map((function(e){return e.remote})).includes(r)){e.next=17;break}throw i=wb.ErrorMessages.ExistsFor(wb.Objects.Remote),t.raiseConcern(i),new Error(i);case 17:return t.raiseConcern(null),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{id:"gitRemotesUrlInput",view:"i18nInput",i18nPlaceholders:wb.Placeholders.HttpsUrl,on:{onKeyUp:function(e,t,r){this.validateAsync().then((function(){"Enter"==r.key&&n.fo().dispatch("onClick")}))}},validateAsync:(e=r(regeneratorRuntime.mark((function e(){var t,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=this).getValue(),i=n.git.j(r),r){e.next=9;break}throw a=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.RemoteUrl),t.raiseConcern(a),new Error(a);case 9:if(i){e.next=15;break}throw a=wb.ErrorMessages.InvalidFor(wb.Objects.RemoteUrl),t.raiseConcern(a),new Error(a);case 15:return t.raiseConcern(null),e.abrupt("return",i.url);case 17:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]},footer:{flexAlign:"right",cells:[{id:"gitRemotesAddModalCancelButton",view:"button",label:wb.Elements.Cancel,on:{onClick:function(){n.$addModal.close(),this.reject&&this.reject()}}},{id:"gitRemotesAddModalOkButton",view:"button",label:wb.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var e=n.Bo(),t=n.Ra();return e.setValue(n.git.T(e.getValue())),t.getValue()||t.setValue("origin"),Promise.all([t.validateAsync(),e.validateAsync()]).then((function(t){var r=k(t,2),i=r[0],a=r[1];return n.gitClient.An(a).then((function(){var e=n.$addModal;e.close(),e.resolve&&e.resolve({remote:i,url:a})}),(function(){e.raiseConcern(yb({en:"Failed to connect. GIT URL may not be valid.",es:"No se pudo conectar. El enlace puede estar roto.",fr:"Échec de connexion. L'URL GIT n'est peut-être pas valide.",id:"Gagal terhubung. URL GIT mungkin tidak valid.",ja:"接続に失敗しました。リンクが壊れている可能性があります。",pt:"Falha ao conectar. O link pode estar quebrado.",ru:"Не удалось подключиться. GIT URL может быть недействительным.",zh:"连接失败。链接可能中断了。",zhTW:"無法連線。連接可能已經中斷。"}))}))}))}}}]},on:{onOpened:function(e,t,r){var i=r.resolve,a=r.reject,o=r.projectDir;n.Ra().setValue(""),n.Bo().setValue(""),Object.assign(this,{resolve:i,reject:a,projectDir:o})}}},document.getElementById("appContainer"))},He:function(){var e=this;if(e.$modal)return e.$modal;var t=e.string;return e.$modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",center:!1,closeButton:!1,headerClass:"uk-flex-item-none",dialogClass:"uk-flex uk-flex-column",dialogStyle:["blank"],style:{zIndex:1900},header:{flexSize:"none",cls:["x-menu-title-bar","x-bar-shadow"],flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",label:wb.Elements.Remotes,collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuToggle",icon:"search",title:"Search Remotes",on:{onToggled:function(){var t=e.$a();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"gitRemotesAddButton",view:"menuIcon",icon:"plus",title:"Add Remote",on:{onMouseDown:function(){var t=e.$modal.projectDir;e.Ro({projectDir:t})}}},{id:"gitRemotesCloseButton",view:"menuIcon",icon:"close",on:{onMouseDown:function(){e.$modal.close()}}}]}]},{id:"gitRemotesSearchInput",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",i18nPlaceholders:wb.Actions.SearchFor(wb.Objects.Remote),clearSearch:!0,on:{onInput:function(){e.Wn().refresh()}}}]},body:{id:"gitRemotesContainer",view:"scroller",nativeScroll:Ew.supported,cells:[{id:"gitRemotesList",batch:"list",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(r){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",label:t.st(r.remote)},{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",textColor:"muted",label:t.st(r.url)}]},{flexSize:"none",cls:"x-menu-icons",cells:[{view:"menuIcon",iconClass:"ti-share",on:{onMouseDown:function(){e._o(r.url)}}},{view:"menuIcon",iconClass:"ti-trash",on:{onMouseDown:function(){e.Un(e.$modal.projectDir,r.remote)}}}]}]}}},filter:function(t){return t.remote.includes(e.$a().getValue())},data:[]},{batch:"empty",textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],cells:[{cls:"uk-h5",view:"label",padding:"large",attributes:kb({en:"No Remotes. Click ＋ to add a remote.",es:"Sin remotos. Haga clic en ＋ para agregar un remoto.",fr:"Pas de Distance. Cliquez sur ＋ pour ajouter une Distance",id:"Tanpa Remote. Klik ＋ untuk menambahkan jarak jauh.",ja:"リモートなし。 ＋をクリックして、リモートを追加します。",pt:"Sem remotos. Clique em ＋ para adicionar um remoto.",ru:"Нет Bнешние. Нажмите ＋, чтобы добавить Bнешние.",zh:"没有远端。单击＋添加远端。",zhTW:"沒有遠端。單擊＋添加遠端。"}),style:{opacity:.5}}]}]},on:{onOpened:function(e,t,r){this.projectDir=r}}},document.getElementById("appContainer"))}}),m.module("fileTreeController").require("model","path","session","fileTree").__init__((function(e,t){var r=t.model,n=t.path,i=t.session;e.model=r,e.path=n,e.session=i})).__init__((function(e){var t;e.FileTreeController=function(e){this.tree=e},e.FileTreeController.prototype={root:function(){return this.tree().findOne("root",!0)},sync:(t=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,i=e.path.fe,a={},t.next=5,Promise.all([Uw.readdirDeep(r,{folders:!0,files:!1}),Uw.readdirDeep(r)]);case 5:o=t.sent,u=k(o,2),s=u[0],c=u[1],s.sort(n.compareObjectsByPathDepth),s.forEach((function(e){if(!i(e)){var t=a[Fw.dirname(e)];a[e]=n.addBranch(e,t)}})),c.forEach((function(e){if(!i(e)){var t=a[Fw.dirname(e)];n.addLeaf(e,t)}}));case 12:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)}),updateParentStatus:function(t){if(t){var r=e.Do(t);r!==t.status&&this.markStatus(t,r)}},compareObjectsByPathDepth:function(e,t){var r=/\//g,n=(e.match(r)||[]).length,i=(t.match(r)||[]).length;return n>i?1:n<i?-1:0},showInTree:function(e){var t=this;e.split("/").forEach((function(e,r,n){t.openBranch(n.slice(0,r+1).join("/"))}))},get:function(e,t){var r=this.tree().findOne("path",e);if(!r&&t)throw new Error("Path ".concat(e," not found."));return r},markActive:function(e){this.tree().deselectAll();var t=this.get(e);t&&this.tree().select(t)},markStatus:function(e,t){if(e){this.tree().updateItemStatus(e,t);var r=e.$parent?this.tree().getItem(e.$parent):null;r&&this.updateParentStatus(r)}},clearAll:function(){this.tree().clearAll()},addRoot:function(e){var t=Fw.basename(e).replace(/«[^»]*»/g,"");return this.add({$branch:!0,$draggable:!1,label:t,name:t,path:e,root:!0,file:!1})},addBranch:function(e,t){if(t=t||this.getParentBranch(e)){var r=Fw.basename(e);return this.add({$branch:!0,$parent:t.id,$draggable:!0,$droppable:!0,label:r,name:r,path:e,root:!1,file:!1})}$LOG.warn("Could not find parent for: "+e)},setFileDefaultFlag:function(e,t){e&&this.tree().updateItem(e,{isDefaultLaunchFile:t})},openBranch:function(e){if(this.get(e))return this.tree().open(this.get(e,!0))},closeBranch:function(e){if(this.get(e))return this.tree().close(this.get(e,!0))},getParentBranch:function(e){return this.get(Fw.dirname(e))},addLeaf:function(e,t){if(t=t||this.getParentBranch(e)){var r=Fw.basename(e),n={$branch:!1,$parent:t.id,$draggable:!0,$droppable:!1,label:r,name:r,path:e,root:!1,file:!0};return this.add(n)}$LOG.warn("Could not find parent for: "+e)},add:function(e){var t=this.get(e.path);return t||(this.tree().add(e),e)},remove:function(e){if(e){var t=e.$parent?this.tree().getItem(e.$parent):null;this.tree().remove(e),t&&this.updateParentStatus(t)}}}})).def({Do:function(e){var t=GitStatusTypes,r=t.EMPTY,n=t.CONFLICT,i=t.SAME,a=t.IGNORED,o=t.ADDED,u=t.CHANGED,s=e.$children.reduce((function(e,t){return e|t.status}),r);return s&n||s&u||s&o||s&a||s&i}}),m.module("files").def({Uo:function(e){var t,n=this,i=Fw.dirname(e);n.prompt.gt(wb.Actions.Rename(wb.Objects.Project),Fw.basename(e),{showInput:!0,onResult:function(t){return n.$o(e,t)},onValidate:(t=r(regeneratorRuntime.mark((function e(t){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(i,"/").concat(t),t){e.next=5;break}a=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.NameFor(wb.Objects.Project)),e.next=14;break;case 5:if(!(o=n.path.nt(t))){e.next=10;break}a=wb.ErrorMessages.InvalidCharsFound(o),e.next=14;break;case 10:return e.next=12,Uw.exists(r);case 12:if(!e.sent){e.next=14;break}a=wb.ErrorMessages.ExistsFor(wb.Objects.Path);case 14:return e.abrupt("return",a?Promise.reject(a):r);case 15:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})},$o:(qy=r(regeneratorRuntime.mark((function e(t,r){var n,i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([$w.metadataDirAsync(t),$w.metadataDirAsync(r),$w.trashDirAsync(t),$w.trashDirAsync(r),$w.tmpDirAsync(t),$w.tmpDirAsync(r)]);case 2:return n=e.sent,i=k(n,6),a=i[0],o=i[1],u=i[2],s=i[3],c=i[4],f=i[5],e.next=12,Promise.all([Uw.exists(a).then((function(e){return e&&Uw.mv(a,o)})),Uw.exists(u).then((function(e){return e&&Uw.mv(u,s)})),Uw.exists(c).then((function(e){return e&&Uw.mv(c,f)}))]);case 12:return e.next=14,this.model.Ce(t,{dir:r});case 14:return e.next=16,Uw.mv(t,r,{updateStatus:!0});case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return qy.apply(this,arguments)}),No:function(e){var t=e.oldpath,r=e.path;try{return Uw.mv(t,r,{updateStatus:!0})}catch(e){throw e.message&&this.prompt.K(wb.Actions.Failed(wb.Actions.Rename(wb.Objects.Path)),e.message),e}},Go:(Ky=r(regeneratorRuntime.mark((function e(){var t,r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,r=GitStatusTypes,n=r.CONFLICT,i=t.metadata.pe(),a=i.filter((function(e){return e.status&n})).length,e.prev=4,!a){e.next=9;break}return e.abrupt("return",Promise.reject({message:"You have ".concat(a," unmerged file(s) in conflict."),name:"Commit Failed",files:i}));case 9:if(0!==i.length){e.next=11;break}return e.abrupt("return",Promise.reject({message:yb({en:"No files were changed or added since the last commit.",es:"No se cambiaron o añadieron ficheros desde la última consignación (commit).",ja:"最後のコミットから変更/追加されたファイルはありません。",pt:"Nenhum arquivo foi alterado ou adicionado desde a última submissão.",ru:"Ни один файл не был изменен или добавлен с момента последней фиксации.",zh:"在上次提交后没有添加或更改过文件",zhTW:"從上次提交以來沒有任何檔案變動或加入"}),name:yb({en:"No Changes",es:"Sin Cambios",ja:"変更なし",pt:"Sem Alterações",zh:"没有变化",zhTW:"沒有變化"}),files:i}));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(4),t.prompt.K(e.t0.name,e.t0.message),e.t0;case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this,[[4,13]])}))),function(){return Ky.apply(this,arguments)}),Wo:(Vy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.Go();case 3:return n=e.sent,e.next=6,r.commitMessage.ro(t);case 6:return i=e.sent,a=i.message,o=i.author,e.next=11,r.gitClient.En(t,n);case 11:return e.next=13,r.gitClient.jn(t,a,o).then(Vw("commit_all","git_core"),Kw("commit_all","git_core"));case 13:return e.next=15,r.session.De(t);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return Vy.apply(this,arguments)}),Ho:(Hy=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.gitClient.Vr(t);case 3:if(n=e.sent){e.next=8;break}r.prompt.K("Revert Failed","Revert failed due to missing HEAD commit. Please perform a checkout to fix this problem."),e.next=12;break;case 8:return i=r.metadata.pe(),e.next=11,r.gitClient.En(t,i);case 11:return e.abrupt("return",r.checkoutBranch.Qa({dir:t,branch:n,noChecks:!0}).then(Vw("git_revert_all","git_core"),Kw("git_revert_all","git_core")));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return Hy.apply(this,arguments)}),Vo:function(){var e=this.historyTracker;e.truncate(0),e.clearRedo()},Ko:function(e){var t=this.historyTracker;t.pushUndo(e),t.truncate(20),t.clearRedo()},qo:function(){var e=this;if(!e.historyTracker.canUndo())return Promise.reject({source:"files.model",fn:"pvUndoLastActionAsync",message:"No undo action exists."});var t,r=e.historyTracker.popUndo(),n=r.action;switch(n){case"delete":t=e.Zo(r);break;case"updatePath":t=e.Yo(r);break;case"addFile":t=e.Jo(r);break;case"addFolder":t=e.Qo(r);break;default:t=Promise.reject({source:"files.model",fn:"pvUndoLastActionAsync",action:n,message:"Undo history action unrecognized"})}return t.then((function(t){e.historyTracker.pushRedo(t)})).then(Vw("undo_action","undo_redo"),Kw("undo_action","undo_redo"))},Xo:function(){var e=this;if(!e.historyTracker.canRedo())return Promise.reject({source:"files.model",fn:"pvRedoLastActionAsync",message:"No redo action exists."});var t,r=e.historyTracker.popRedo(),n=r.action;switch(n){case"delete":t=e.eu(r);break;case"updatePath":t=e.tu(r);break;case"addFile":t=e.nu(r);break;case"addFolder":t=e.iu(r);break;default:t=Promise.reject({source:"files.model",fn:"pvRedoLastActionAsync",action:n,message:"Redo history action unrecognized"})}return t.then((function(t){e.historyTracker.pushUndo(t)})).then(Vw("redo_action","undo_redo"),Kw("redo_action","undo_redo"))},Zo:(Wy=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.oldpath,n=t.path,e.next=3,Uw.mv(n,r,{updateStatus:!0});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return Wy.apply(this,arguments)}),eu:(Gy=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.oldpath,n=t.path,e.next=3,Uw.mv(r,n,{updateStatus:!0});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){return Gy.apply(this,arguments)}),Jo:(Ny=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w.trashDirAsync();case 2:return r=e.sent,e.next=5,Uw.rm(t.path,{tmpDir:r,updateStatus:!0});case 5:return n=e.sent,i=n.oldpath,a=n.path,e.abrupt("return",Object.assign(t,{oldpath:i,path:a}));case 9:case"end":return e.stop()}}),e)}))),function(e){return Ny.apply(this,arguments)}),nu:($y=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Zo(t);case 2:return e.abrupt("return",Object.assign(t,{path:t.oldpath}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return $y.apply(this,arguments)}),Qo:function(e){return this.Jo(e)},iu:function(e){return this.Zo(e)},Yo:(Uy=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.oldpath,e.next=3,this.No({oldpath:r,path:n});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Uy.apply(this,arguments)}),tu:(Dy=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.oldpath,e.next=3,this.No({oldpath:n,path:r});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Dy.apply(this,arguments)}),au:function(e){var t=this.session.me();return this.gitClient.bn(t,Fw.relativeTo(e,t))},ou:(By=r(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=this).session.me(),e.next=4,r.gitClient.Lt(n,Fw.relativeTo(t,n)).then(Vw("git_revert_file","git_core"),Kw("git_revert_file","git_core"));case 4:if(null!==(i=e.sent)){e.next=10;break}return e.next=8,r.uu(t);case 8:e.next=13;break;case 10:return e.next=12,Uw.write(t,i,{updateStatus:!0});case 12:return e.abrupt("return",r.observable.run({action:"update",path:t}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return By.apply(this,arguments)}),su:(Ly=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.gitClient.an(t);case 3:return 0===(n=e.sent).length&&r.prompt.K({en:"No Remote",es:"No Remoto",ja:"リモートなし",pt:"No Remoto",ru:"Нет внешнего",zh:"没有远端",zhTW:"沒有遠端"},{en:"Please add a remote.",es:"Por favor agregue un remoto.",ja:"リモートを追加してください",pt:"Por favor, adicione um remoto.",ru:"Пожалуйста, добавьте внешний.",zh:"请添加一个远端",zhTW:"請添加一個遠端"}),e.abrupt("return",n.length>0);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return Ly.apply(this,arguments)}),hn:(My=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.su(t);case 3:if(!e.sent){e.next=14;break}return e.next=6,r.gitRemotes.So({projectDir:t,title:wb.Objects.Pull});case 6:return n=e.sent,i=n.remote,a=n.branch,e.next=11,r.gitClient.in(t,i);case 11:return o=e.sent,e.next=14,r.gitClient.sn(t,o,a).then(Vw("pull_git_repo","git_core"),Kw("pull_git_repo","git_core"));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return My.apply(this,arguments)}),cu:(Py=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.su(t);case 3:if(!e.sent){e.next=16;break}return e.next=6,r.gitRemotes.So({projectDir:t,title:wb.Objects.Push});case 6:return n=e.sent,i=n.remote,a=n.branch,e.next=11,r.gitClient.in(t,i);case 11:return o=e.sent,e.next=14,r.gitClient.Cn(t,o,a).then(Vw("push_git_repo","git_core"),Kw("push_git_repo","git_core"));case 14:u=wb.Objects.Remote,r.prompt.K(wb.Objects.SuccessfulFor(wb.Objects.Push),{en:"Successfully pushed to ".concat(u.en.toLowerCase()," [").concat(i,"]."),es:"Empujado con éxito a ".concat(u.es.toLowerCase()," [").concat(i,"]."),ja:"".concat(u.ja," [").concat(i,"] にプッシュされました"),pt:"Enviado com sucesso para ".concat(u.pt.toLowerCase()," [").concat(i,"]."),zh:"成功推送到".concat(u.zh," [").concat(i,"]"),zhTW:"成功推送到".concat(u.zhTW," [").concat(i,"]")});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return Py.apply(this,arguments)}),fu:(Fy=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uw,e.t1=t,e.next=4,$w.trashDirAsync();case 4:return e.t2=e.sent,e.t3={tmpDir:e.t2,updateStatus:!0},e.abrupt("return",e.t0.rm.call(e.t0,e.t1,e.t3));case 7:case"end":return e.stop()}}),e)}))),function(e){return Fy.apply(this,arguments)}),uu:(Oy=r(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,r.fu(t);case 3:n=e.sent,i=n.oldpath,a=n.path,r.Ko({action:"delete",label:wb.Elements.Delete,oldpath:i,path:a});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return Oy.apply(this,arguments)}),lu:(zy=r(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,r){e.next=14;break}i=n.editor.Ur(),e.t0=Fw.ext(t),e.next=".html"===e.t0?6:".js"===e.t0?8:".css"===e.t0?10:12;break;case 6:return r=n.templates.Ye(i),e.abrupt("break",14);case 8:return r=n.templates.Ze(i),e.abrupt("break",14);case 10:return r=n.templates.Je(i),e.abrupt("break",14);case 12:return r="",e.abrupt("break",14);case 14:return e.next=16,n.hu(t,r);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return zy.apply(this,arguments)}),du:function(e,t){return this.mu(e,Fw.join(t,Fw.basename(e)),"Move")},mu:(jy=r(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.No({oldpath:t,path:r});case 2:return e.abrupt("return",this.Ko({action:"updatePath",label:n,oldpath:t,path:r}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return jy.apply(this,arguments)}),vu:(Iy=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uw.write(t,r,{updateStatus:!0});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0.message&&this.prompt.K(wb.Actions.Failed(wb.Actions.Create(wb.Objects.File)),e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e,t){return Iy.apply(this,arguments)}),hu:(Ey=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vu(t,r);case 2:this.Ko({action:"addFile",label:yb(wb.Actions.New(wb.Objects.File)),path:t,content:r});case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return Ey.apply(this,arguments)}),pu:(_y=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uw.mkdir(t);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0.message&&this.prompt.K(wb.Actions.Failed(wb.Actions.Create(wb.Objects.Folder)),e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return _y.apply(this,arguments)}),gu:(Ty=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pu(t);case 2:return e.abrupt("return",this.Ko({action:"addFolder",label:yb(wb.Actions.New(wb.Objects.Folder)),path:t}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Ty.apply(this,arguments)}),bu:function(e){var t=this;return new Promise((function(r,n){t.prompt.gt({en:"".concat(e," CONFLICTS FOUND"),es:"".concat(e," CONFLICTOS ENCONTRADOS"),ja:"".concat(e,"対立が見つかりました"),pt:"".concat(e," CONFLITOS ENCONTRADOS"),zh:"发现".concat(e,"个冲突"),zhTW:"發現".concat(e,"個衝突")},null,{message:{en:"Do you want to recreate these ".concat(e," files?")},cancelLabel:{en:"Keep",es:"Manten",ja:"保持",pt:"Manter",zh:"保留",zhTW:"保留"},okLabel:{en:"Recreate",es:"Recrear",ja:"再作成する",pt:"Recriar",zh:"重新创建",zhTW:"重新創建"},onResult:r,onDismiss:n})}))},wu:(Cy=r(regeneratorRuntime.mark((function e(t,n){var i,a,o,u,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=this,a=[],o=0;o<n.length;o++)a.push(i.ku(n[o]).then((function(e){var r=e.data,n=e.name;return{path:Fw.join(t,n),name:n,data:r}})));return u=!1,e.next=6,Promise.all(a);case 6:return s=e.sent,c=s.map((function(e){return e.path})),e.next=10,i.yu(c);case 10:if(!((f=e.sent).length>0)){e.next=14;break}return e.next=14,i.bu(f.length).then((function(){u=!0}),(function(){u=!1}));case 14:return e.next=16,Promise.all(s.map(function(){var e=r(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.path,n=t.data,!f.includes(r)){e.next=9;break}if(!u){e.next=7;break}return e.next=5,i.uu(r);case 5:return e.next=7,i.hu(r,n);case 7:e.next=11;break;case 9:return e.next=11,i.hu(r,n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return Cy.apply(this,arguments)}),yu:(Sy=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return Uw.exists(e)})));case 2:return r=e.sent,e.abrupt("return",r.map((function(e,r){return e?t[r]:null})).filter((function(e){return!!e})));case 4:case"end":return e.stop()}}),e)}))),function(e){return Sy.apply(this,arguments)}),ku:function(e){return new Promise((function(t,r){var n=new FileReader;n.addEventListener("error",(function(){r(n.error)})),n.addEventListener("load",(function(){t({name:e.name,data:n.result})})),n.readAsArrayBuffer(e)}))}}),m.module("files").require("model","path","session","messages","templates","prompt","history","diff","project","gitClient","checkoutBranch","gitBranches","commitMessage","gitRemotes","initRepo","string","fileTreeController","metadata","gitLogger","zipper","memory","share").__init__((function(e,t){var n=t.path,i=t.model,a=t.session,o=t.messages,u=t.templates,s=t.prompt,c=t.editor,f=t.viewer,l=t.history,h=t.diff,d=t.project,m=t.gitClient,v=t.checkoutBranch,p=t.gitBranches,g=t.commitMessage,b=t.gitRemotes,w=t.initRepo,k=t.string,y=t.fileTreeController,R=t.metadata,x=t.gitLogger,A=t.zipper,S=t.memory,C=t.share;Object.assign(e,{path:n,model:i,session:a,messages:o,templates:u,prompt:s,editor:c,viewer:f,history:l,diff:h,project:d,gitClient:m,checkoutBranch:v,gitBranches:p,commitMessage:g,gitRemotes:b,initRepo:w,string:k,fileTreeController:y,metadata:R,gitLogger:x,zipper:A,memory:S,share:C}),e.minimatch=window.minimatch,e.observable=new zw,e.historyTracker=new l.HistoryTracker,e.treeController=new y.FileTreeController(e.sr),e.fileQuery={searchPhrase:""},R.observable.subscribe((function(t){var r=t.path,n=t.action,i=t.status,a=e.jt();switch(n){case"updateStatus":var o=a.get(r);o&&a.markStatus(o,i),e.Ru()}}));var T=e.path.fe;Uw.observable.subscribe((function(t){var r=t.action,n=t.type,i=t.path,o=t.oldpath,u=a.me();if(u){var s=e.jt();if(u){var c=function(e,t){return e&&Fw.childOf(e,t)&&!T(e)};if(c(o,u)||c(i,u))switch(r){case"mv":case"rmdir":case"rm":var f=s.get(o);f&&s.remove(f),$LOG.log("[file:".concat(r,"] ").concat(o))}if(c(o,u)||c(i,u))switch(r){case"mv":"file"===n?s.get(i)||s.addLeaf(i):"folder"===n&&(s.get(i)||(i===u?s.addRoot(i):s.addBranch(i)),s.sync(i)),$LOG.log("[file:sync] ".concat(n,": ").concat(i));break;case"write":s.get(i)||s.addLeaf(i);break;case"mkdir":s.get(u)||s.addRoot(u),Fw.normalizePath(i)!==u&&Fw.relativeTo(i,u).split("/").map((function(e,t,r){var n="".concat(u,"/").concat(r.slice(0,t+1).join("/"));n===u||s.get(n)||s.addBranch(n)}))}}}})),a.observable.subscribe(function(){var t=r(regeneratorRuntime.mark((function t(r){var n,i,a,o,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.action,i=r.project,t.t0=n,t.next="setProject"===t.t0?4:"open"===t.t0?6:26;break;case 4:return e.xu(i),t.abrupt("break",26);case 6:return a=e.jt(),o=i.dir,u=i.currentFilePath,a.clearAll(),e.Vo(),e.Kn().showBatch("list"),a.addRoot(o),t.next=14,a.sync(o);case 14:if(!u){t.next=20;break}return u.startsWith(o)||(u=Fw.join(o,u)),t.next=18,e.observable.run({action:"open",path:u,showInTree:!0,skipSessionSave:!0});case 18:t.next=22;break;case 20:return t.next=22,e.observable.run({action:"open",path:null});case 22:return t.next=24,R.oe(i);case 24:e.Ru(),S.H();case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).def({wi:function(){return $$("menuContainer")},jt:function(){return this.treeController},sr:function(){return $$("filesTree")},Au:function(){return $$("filesGitList")},Kn:function(){return $$("filesContainer")},Su:function(){return $$("fileContextMenu")},Cu:function(){return $$("filesGitInitMenu")},Tu:function(){return $$("filesBranchesRemotesIcon")},_u:function(){return $$("filesBranchesRemotesMenu")},Eu:function(){return $$("filesAddMenuList")},Iu:function(){return $$("filesAddMenuIcon")},ju:function(){var e=this.Iu().dropdownPopup;e&&e.close(),this._dropdownMenu&&this._dropdownMenu.close()},Ru:UIkit2.Utils.debounce((function(){var e=this.metadata.pe();e.sort(),this.Au().setData(e)}),150),xu:function(e){if(e){var t=e.git,r=e.dir;this.Kn().showBatch("list"),$$("filesActionsContainer").showBatch(["search","add"]),$$("filesGitActionsContainer").showBatch(t?"git":"init"),t&&this.gitClient.Vr(r).then((function(e){$$("filesCurrentBranchItem").setValue(yb(wb.Objects.BranchWithName(e||"")))}))}else $$("filesActionsContainer").showBatch(),$$("filesGitActionsContainer").showBatch(),this.Kn().showBatch("empty")},zu:function(e){var t=this.session.ce(),r=t.dir,n=t.defaultLaunchFilePath,i=this.jt();return i.setFileDefaultFlag(e,!0),n&&i.setFileDefaultFlag(i.get(n),!1),this.model.Ce(r,{defaultLaunchFilePath:Fw.relativeTo(e.path,r)})},Ou:function(e,t){var n,i=this;i.prompt.gt(wb.Actions.New(wb.Objects.File),"",{placeholders:wb.Placeholders.EnterNameOrPath,showInput:!0,onResult:(n=r(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.lu(r,t).then(Vw("add_file","files"),Kw("add_file","files"));case 2:return e.next=4,i.observable.run({action:"open",path:r});case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onValidate:i.Fu.bind(i,e.path)})},fa:function(e,t){(e=e||this.jt().root())&&this.Ou(e,t)},Pu:function(e){var t=this;t.prompt.gt(wb.Actions.New(wb.Objects.Folder),"",{placeholders:wb.Placeholders.EnterNameOrPath,showInput:!0,onResult:function(e){return t.gu(e).then(Vw("add_folder","files"),Kw("add_folder","files"))},onValidate:t.Fu.bind(t,e.path)})},Mu:function(e){(e=e||this.jt().root())&&this.Pu(e)},Lu:function(e){var t=this;t.prompt.gt(wb.Actions.Rename(e.file?wb.Objects.File:wb.Objects.Folder),e.label,{placeholders:wb.Placeholders.EnterNameOrPath,showInput:!0,onResult:function(r){return t.mu(e.path,r,"Rename").then(Vw("rename_file","files"),Kw("rename_file","files"))},onValidate:t.Fu.bind(t,Fw.dirname(e.path))})},Bu:function(e){var t=this,r=e.label;t.prompt.gt(wb.Actions.Delete(e.file?wb.Objects.File:wb.Objects.Folder),"",{message:wb.Actions.DeleteConfirm(wb.Objects.Echo(r)),onResult:function(){return t.uu(e.path).then(Vw("delete_file","files"),Kw("delete_file","files"))}})},Du:function(e){var t=this.string.st(Fw.basename(e));this.prompt.gt(wb.Actions.Revert(wb.Objects.File),null,{message:{en:"Revert changes to: ".concat(t,"?"),es:"¿Descartar todos los cambios: ".concat(t,"?"),ja:"".concat(t," へのすべての変更を破棄しますか？"),pt:"Descartar todas as mudanças: ".concat(t),ru:"Вы действительно хотите откатить все изменения в: ".concat(t),zh:"丢弃对 ".concat(t," 的全部修改?"),zhTW:"要放棄所有對 ".concat(t," 的更動嗎?")},onResult:this.ou.bind(this,e)})},Uu:function(e){this.prompt.gt(wb.Elements.RevertAll,null,{message:{en:"Revert all changes back to the HEAD commit? Warning: changes will be permanently lost!",es:"¿Revertir todos los cambios a la confirmación HEAD? Advertencia: ¡los cambios se perderán permanentemente!",ja:"本当すべての変更を取り消して、HEADのリビジョンに戻りますか。変更を破棄して?",pt:"Reverter todas as alterações de volta para o commit HEAD? Aviso: as alterações serão perdidas permanentemente!",zh:"确定要复原中的所有变更并回到HEAD版本？警告：更改将永久丢失!",zhTW:"確定要復原中的所有變更並回到HEAD版本？警告：更改將永久丟失!"},okLabel:wb.Elements.Revert,onResult:this.Ho.bind(this,e)})},Fu:(Zy=r(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fw.join(t,r),0!==r.length){e.next=5;break}n=wb.ErrorMessages.CannotBeEmptyFor(wb.Objects.Path),e.next=14;break;case 5:if(!(a=this.path.nt(r))){e.next=10;break}n=wb.ErrorMessages.InvalidCharsFound(a),e.next=14;break;case 10:return e.next=12,Uw.exists(i);case 12:if(!e.sent){e.next=14;break}n=wb.ErrorMessages.ExistsFor(wb.Objects.Path);case 14:return e.abrupt("return",n?Promise.reject(n):i);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return Zy.apply(this,arguments)}),$u:function(){var e=$$("filesUndoIcon"),t=$$("filesRedoIcon");if(e){var r=this.historyTracker.getLastUndo();r?(e.enable(),e.setLabel(wb.Elements.Undo+": "+r.label)):e.disable()}if(t){var n=this.historyTracker.getLastRedo();n?(t.enable(),t.setLabel(wb.Elements.Redo+": "+n.label)):t.disable()}},Nu:function(e,t){var r=e&&e.path||"";return r.slice(r.indexOf("/")).toLowerCase().includes(t)},Gu:function(e){var t=this,r=t.fileQuery.searchPhrase.toLowerCase(),n=!0;if(r){n=!1;var i=RegExp("("+t.string.ct(r)+")","ig");i.test(e.name)?(e.label=e.name.replace(i,'<span class="x-search-highlight">$&</span>'),t.sr().refreshItem(e)):e.label!==e.name&&(e.label=e.name,t.sr().refreshItem(e)),n=e.$branch?e.$children.some((function(e){return t.Nu(e,r)})):t.Nu(e,r)}else e.label!==e.name&&(e.label=e.name,t.sr().refreshItem(e));return n&&!e.$parentClosed}}),m.module("files").require("fileTree").__init__((function(e,t){var n=t.fileTree,i={id:"filesBarContainer",flexSize:"none",flexLayout:"column",cls:["x-menu-title-bar","x-bar-shadow"],cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:kb(wb.Objects.Files),on:{onToggled:function(e){var t=$$("filesScroller");e.visible?t.show():t.hide()}}},{id:"filesActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"none",cells:[{batch:"search",view:"menuToggle",icon:"search",title:"Search Files",on:{onToggled:function(){var e=$$("filesSearch");this.isSelected()?(e.show(),e.focus()):e.hide()}}},{id:"filesAddMenuIcon",view:"menuIcon",batch:"add",iconClass:"ti-plus",title:"Add Files",dropdownOptions:{pos:"bottom-right",relativeTo:"filesBarContainer",dropdownClass:"x-dropdown-large",dropdownAnimation:"",lazy:!0},dropdown:{id:"filesAddMenuList",view:"list",listStyle:"dropdown",data:[{view:"link",value:"file",iconClass:"ti-file",label:yb(wb.Actions.New(wb.Objects.File))},{view:"link",value:"folder",iconClass:"ti-folder",label:yb(wb.Actions.New(wb.Objects.Folder))},c("filesUploadButton"),{$divider:!0},{id:"filesUndoIcon",view:"link",value:"undo",iconClass:"ti-back-left",label:wb.Elements.Undo,disabled:!0},{id:"filesRedoIcon",view:"link",value:"redo",iconClass:"ti-back-right",label:wb.Elements.Redo,disabled:!0}],on:{onOpen:function(){$$("filesUploadButton").reset(),e.$u()},onItemClick:function(t){if(e.session.ce())switch(t.value){case"file":e.fa();break;case"folder":e.Mu();break;case"undo":e.qo();break;case"redo":e.Xo()}}}}}]}]},{cls:"x-menu-search-container",template:{id:"filesSearch",cls:"x-menu-search",view:"searchField",batch:"search",hidden:!0,flexSize:"none",i18nPlaceholders:wb.Actions.Enter(wb.Objects.NameFor(wb.Objects.File)),clearSearch:!0,on:{onFocus:function(){e.wi().$blockDrawerPan=!0,UI.addClass(this.el,"uk-focus")},onBlur:function(){e.wi().$blockDrawerPan=!1,UI.removeClass(this.el,"uk-focus")},onInput:function(){e.fileQuery.searchPhrase=this.getValue(),e.sr().refresh()}}}}]},a={id:"filesGitBarContainer",flexSize:"none",flexLayout:"column",cls:"x-menu-title-bar shadow collapsed",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:kb({en:"SOURCE CONTROL",es:"CONTROL DE VERSIONES",ja:"ソース管理",pt:"CONTROLE DE VERSÃO",ru:"Управления источником",zh:"源代码控制",zhTW:"源代碼控制"}),visible:!1,on:{onToggled:function(e){var t=$$("filesGitScroller");e.visible?t.show():t.hide()}}},{id:"filesGitActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"none",cells:[{view:"menuIcon",batch:"init",iconClass:"ti-plus",title:"Git Init",on:{onMouseDown:function(){var t=e.session.me();t&&e.initRepo.so(t)}}},{id:"filesBranchesRemotesIcon",view:"menuIcon",batch:"git",icon:"git-fork",title:"Branches/Remotes",dropdownOptions:{pos:"bottom-right",relativeTo:"filesGitBarContainer",dropdownAnimation:"",dropdownClass:"uk-dropdown-close x-dropdown-large",lazy:!0},dropdown:{id:"filesBranchesRemotesMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"git:branches",icon:"git-branch",label:yb(wb.Objects.Branches)},{view:"link",value:"git:checkout",icon:"pull",label:wb.Elements.Checkout},{view:"link",value:"git:remotes",icon:"social",label:wb.Elements.Remotes},{view:"link",value:"git:fetch",icon:"download",label:yb(wb.Objects.Fetch)},{view:"link",value:"git:log",icon:"list",label:yb(wb.Objects.LogHistory)}],on:{onItemClick:function(t){var r=e.session.me();if(r)switch(t.value){case"git:branches":e.gitBranches.bo(r);break;case"git:remotes":e.gitRemotes.Fo(r);break;case"git:fetch":e.gitRemotes.Ao(r);break;case"git:checkout":e.checkoutBranch.Ja(r);break;case"git:log":e.gitLogger.yo(r)}}}}},{view:"menuIcon",batch:"git",icon:"git-branch",title:"Git Operations",dropdownOptions:{pos:"bottom-right",relativeTo:"filesGitBarContainer",dropdownAnimation:"",dropdownClass:"uk-dropdown-close x-dropdown-large"},dropdown:{view:"list",listStyle:"dropdown",data:[{id:"filesCurrentBranchItem",view:"label",cls:"uk-nav-header",label:yb(wb.Objects.BranchWithName(""))},{id:"filesCommitAllMenuItem",view:"link",value:"git:commit",icon:"file-edit",label:wb.Elements.CommitAll},{view:"link",value:"git:pull",icon:"pull",label:yb(wb.Objects.Pull)},{id:"filesPushMenuItem",view:"link",value:"git:push",icon:"push",label:yb(wb.Objects.Push)},{id:"filesRevertAllMenuItem",view:"link",value:"git:revert",iconClass:"ti-back-left",label:wb.Elements.RevertAll}],on:{onOpen:function(){var t=e.session.me();if(t){var r=function(e,t){return t?"".concat(e," <span class='x-menu-alt-text uk-text-primary'>").concat(t,"</span>"):e};e.gitClient.Zr(t).then((function(n){e.gitClient.In(t,n).then((function(e){$$("filesPushMenuItem").setLabel(r(yb(wb.Objects.Push),e))}))}));var n=e.Au().data,i=n?n.length:0;$$("filesCommitAllMenuItem").setLabel(r(wb.Elements.CommitAll,i)),$$("filesRevertAllMenuItem").setLabel(r(wb.Elements.RevertAll,i))}},onItemClick:function(t){var r=e.session.me();if(r)switch(t.value){case"git:commit":return e.Wo(r);case"git:revert":return e.Uu(r);case"git:pull":return e.hn(r);case"git:push":return e.cu(r)}}}}}]}]}]};e.lazyDropdownMenu=function(){return e._dropdownMenu?e._dropdownMenu:e._dropdownMenu=UI.new({view:"dropdown",dropdownAnimation:"",dropdownClass:"x-dropdown-large",dropdown:{id:"fileContextMenu",view:"list",data:[{id:"pasteItemContextButton",view:"link",value:"paste",iconClass:"ti-clipboard",label:wb.Elements.Paste,batch:"pastable"},{$divider:!0,batch:"pastable"},{id:"newFileContextButton",view:"link",value:"new",iconClass:"ti-file",label:yb(wb.Actions.New(wb.Objects.File)),batch:"folder"},{id:"newFolderContextButton",view:"link",value:"folder",iconClass:"ti-folder",label:yb(wb.Actions.New(wb.Objects.Folder)),batch:"folder"},c("uploadFileContextButton"),{$divider:!0,batch:"folder"},{id:"cutItemContextButton",view:"link",value:"cut",iconClass:"ti-cut",label:wb.Elements.Cut,batch:"cutable"},{id:"renameItemContextButton",view:"link",value:"rename",iconClass:"ti-pencil",label:wb.Elements.Rename,batch:"renameable"},{id:"deleteItemContextButton",view:"link",value:"delete",iconClass:"ti-trash",label:wb.Elements.Delete,batch:"editable"},{id:"exportItemContextButton",view:"link",value:"export",iconClass:"ti-share",label:wb.Elements.Export,batch:"exportable"},{$divider:!0,batch:"git:divider"},{view:"link",value:"diff",iconClass:"ti-exchange-vertical",label:yb(wb.Actions.View(wb.Objects.Diff)),batch:"git:changed"},{view:"link",value:"resolve-conflict",icon:"check",label:wb.Elements.MarkResolved,batch:"git:conflict"},{view:"link",value:"revert",iconClass:"ti-back-left",label:wb.Elements.Revert,batch:"git:changed"},{$divider:!0,batch:"file"},{view:"link",value:"edit",iconClass:"ti-pencil-alt",label:wb.Elements.Edit,batch:"file:edit"},{view:"link",value:"preview",iconClass:"ti-image",label:yb(wb.Objects.Preview),batch:"file:preview"},{id:"setAsDefaultItemContextButton",view:"link",value:"default",icon:"star",label:wb.Elements.LaunchDefault,batch:"file:default"}],on:{onOpen:function(t,r,n){var i=["renameable"];if(this.masterConfig=n,n.root||(i.push("editable"),i.push("cutable")),n.file){var a=Fw.ext(n.path||""),o=e.editor.Rr(a),u=e.viewer.Rr(a),s=!1;i.push("file"),n.status&GitStatusTypes.CHANGED&&(e.path.it(n.path)||(i.push("git:changed"),s=!0)),n.status&GitStatusTypes.CONFLICT&&(i.push("git:conflict"),s=!0),s&&i.push("git:divider"),n.isDefaultLaunchFile||".html"!=a||i.push("file:default"),!o&&u||i.push("file:edit"),u&&i.push("file:preview")}else{if(this.source){var c=this.source.path,f=n.path;c===f||f.startsWith(c)||i.push("pastable")}i.push("folder")}i.push("exportable"),this.showBatch(i),$$("uploadFileContextButton").reset()},onClose:function(){this.masterConfig=null},onItemClick:(t=r(regeneratorRuntime.mark((function t(r){var n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(n=this).masterConfig,a=i&&i.path,t.t0=r.value,t.next="cut"===t.t0?6:"paste"===t.t0?9:"edit"===t.t0?14:"export"===t.t0?16:"preview"===t.t0?18:"folder"===t.t0?20:"new"===t.t0?22:"rename"===t.t0?24:"delete"===t.t0?26:"diff"===t.t0?28:"revert"===t.t0?30:"resolve-conflict"===t.t0?32:"default"===t.t0?34:36;break;case 6:return n.source=i,Ww("cut_file","files"),t.abrupt("break",36);case 9:return o=n.source&&n.source.path,e.jt().get(o)&&(o===a||a.startsWith(o)||(e.du(o,a),i.$branch&&i.$closed&&e.sr().open(i))),n.source=null,Ww("paste_file","files"),t.abrupt("break",36);case 14:return e.observable.run({action:"open",path:a}),t.abrupt("break",36);case 16:return i.file?e.zipper.kt(a):e.zipper.vt(a),t.abrupt("break",36);case 18:return e.observable.run({action:"open",path:a,preview:!0}),t.abrupt("break",36);case 20:return e.Mu(i),t.abrupt("break",36);case 22:return e.fa(i),t.abrupt("break",36);case 24:return i.root?e.Uo(a):e.Lu(i),t.abrupt("break",36);case 26:return e.Bu(i),t.abrupt("break",36);case 28:return e.diff.Mt(a),t.abrupt("break",36);case 30:return e.Du(a),t.abrupt("break",36);case 32:return e.au(a),t.abrupt("break",36);case 34:return e.zu(i),t.abrupt("break",36);case 36:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})}}},document.body);var t};var o={id:"filesTree",view:"fileTree",batch:"list",flexSize:"flex",dataTransfer:"path",data:[],filter:e.Gu.bind(e),allowDrag:!0,context:!0,draggable:function(){return!UI.support.touch},droppable:function(e){return!e.file},on:{onAdd:function(e){e.$closed=e.$branch&&e.$depth>0},onItemContext:function(t,r,n){n&&UI.preventEvent(n);var i=e.lazyDropdownMenu();i.open(t),i.position(n.clientY+2,n.clientX),i.moveWithinBoundary()},onItemDragStart:function(){e.wi().$blockDrawerPan=!0},onItemDragEnd:function(){e.wi().$blockDrawerPan=!1},onItemDrop:function(t,r){e.du(r.path,t.path),t.$branch&&t.$closed&&e.sr().open(t)},onItemClick:function(t,r,n){if(UI.preventEvent(n),e.ju(),"I"==n.target.tagName&&UI.hasClass(n.target,"menu")){var i=e.lazyDropdownMenu();i.open(t),i.positionNextTo(r,"bottom-right",this.config.dropdownMarginX,this.config.dropdownMarginY),i.moveWithinBoundary(),this.toggle(t)}else t.$branch||e.observable.run({action:"open",path:t.path})}}},u={id:"filesContainer",batch:"projects",flex:!1,flexLayout:"",flexSize:"",cells:[{batch:"empty",cls:"x-empty-block",textAlign:"center",template:{view:"label",htmlTag:"H4",template:yb(wb.Actions.NoItemFound(wb.Objects.Files))}},o,{batch:"list",view:"spacer",height:128}],on:{onInitialized:function(){this.showBatch()}}},s={id:"filesGitList",view:"list",cls:"x-file-git-list",listStyle:"side",itemTagClass:"x-file-list-item",template:function(t){var r=t.status,i=t.path,a=e.session.me(),o=n.At(r),u=Fw.basename(i),s=Fw.dirname(Fw.relativeTo(i,a)),c="."!==s?"<span class='x-git-ignored x-git-list-dir x-text-overflow-ellipsis'>".concat(s,"</span>"):"",f="<span class='x-git-list-name x-text-overflow-ellipsis ".concat(o,"'>").concat(u,"</span>");return"<div class='uk-flex-item-1'>".concat(f).concat(c,"</div>").concat("<i title='Revert' class='x-menu-icon ti-back-left revert'></i>")},on:{onItemClick:function(t,r,n){var i=t.path;UI.preventEvent(n),"I"==n.target.tagName?UI.hasClass(n.target,"revert")&&e.Du(i):e.diff.Mt(i)}}};function c(t){return{id:t,view:"link",uploader:"multiple",value:"upload",batch:"folder",iconClass:"ti-upload",label:yb(wb.Actions.Upload(wb.Objects.File)),reset:function(){this._uploader.value=""},on:{onClick:function(t,r,n){this.reset(),this.parentConfig=e.Su().masterConfig,e.session.me()||UI.preventEvent(n)},onFileChange:function(t,r){var n=e.session.me();if(n){var i=this.parentConfig?this.parentConfig.path:n;e.wu(i,r.files),Ww("upload_files","files")}}}}}e.view=UI.new({batch:"files",fill:"height",flexLayout:"column",cls:["x-height-auto","x-max-width-100"],cells:[i,{id:"filesScroller",view:"scroller",nativeScroll:Ew.supported,flexSize:"flex",cells:[u],on:{onScroll:function(){e.ju()}}},a,{id:"filesGitScroller",view:"scroller",nativeScroll:Ew.supported,hidden:!0,flexSize:"flex",cells:[s],on:{onScroll:function(){e.ju()}}}]})})),m.module("projects").def({Wu:UIkit2.Utils.debounce((function(){this.Hu()}),100,!1),Hu:(Yy=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.model.Te();case 3:(r=e.sent).sort((function(e,t){return t.modifiedAt-e.modifiedAt})),t.container().showBatch(r.length>0?"list":"empty"),t.Wn().setData(r),t.Vu();case 8:case"end":return e.stop()}}),e,this)}))),function(){return Yy.apply(this,arguments)})}),m.module("projects").require("prompt","project","messages","session","date","path","zipper","cloneRepo","addGitAuth","checkoutBranch","gitClient","model","landing","string","files").__init__((function(e,t){var r=t.prompt,n=t.project,i=t.messages,a=t.session,o=t.date,u=t.addGitAuth,s=t.path,c=t.cloneRepo,f=t.zipper,l=t.main,h=t.checkoutBranch,d=t.gitClient,m=t.model,v=t.landing,p=t.string,g=t.files;Object.assign(e,{prompt:r,project:n,messages:i,session:a,date:o,addGitAuth:u,path:s,cloneRepo:c,zipper:f,main:l,checkoutBranch:h,gitClient:d,model:m,landing:v,string:p,files:g,observable:new zw}),a.observable.subscribe((function(t){var r=t.action;"open"!==r&&"close"!==r||e.Vu()})),m.observable.subscribe((function(t){var r=t.type;"project"!==r&&"projects"!==r||e.Wu()}))})).def({Vu:function(){var e=this.Wn();e.refresh(),e.deselectAll();var t=e.findOne("dir",this.session.me());t&&e.select(t)},Yn:function(){return $$("projectsSearch")},container:function(){return $$("projectsContainer")},Wn:function(){return $$("projectsList")},Ku:function(){this._projectMenu&&this._projectMenu.close()},qu:function(e){var t,n=this,i=String(Math.random()).slice(2,5),a=n.string.st(Fw.basename(e));n.prompt.gt(wb.Actions.Delete(wb.Objects.Project),"",{message:{en:"Type '".concat(i,"' to confirm. '").concat(a,"' will be permanently deleted. It can NOT be recovered!"),es:"Escriba '".concat(i,"' para confirmar. '").concat(a,"' se borrará permanentemente. ¡No se podrá recuperar!"),ja:"「".concat(i,"」と入力して確認します。「").concat(a,"」 は完全に削除されます。削除後は取り消す事はできません！"),pt:"Digite '".concat(i,"' para confirmar. '").concat(a,"' será excluído permanentemente."),zh:"输入「".concat(i,"」 进行确认。「").concat(a,"」将被永久删除。这个操作不能恢复！"),zhTW:"輸入「".concat(i,"」 進行確認。「").concat(a,"」會被永久刪除而「無法還原」！")},showInput:!0,onValidate:(t=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onResult:function(t){if(t!==i)return n.prompt.It("What you typed did not match '".concat(i,"'.")),!0;n.model.je(e).then((function(){n.messages.$e("deleteProjectMessage",{name:a},{locale:$w.locale})}))}})}}),m.module("projects").__new__((function(e){var t={cls:["x-menu-title-bar","x-bar-shadow"],id:"projectsBarContainer",flexSize:"none",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:kb(wb.Objects.Projects),htmlTag:"LABEL",collapsable:!1},{id:"projectsActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"projectsSearchButton",view:"menuToggle",icon:"search",title:"Search Projects",on:{onToggled:function(){var t=e.Yn();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"projectsGitButton",view:"menuIcon",icon:"git-fork",title:"Git Clone",dropdownOptions:{pos:"bottom-right",relativeTo:"projectsBarContainer",dropdownClass:"x-dropdown-large",dropdownAnimation:"",lazy:!0},dropdown:{id:"projectsGitListMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"git:clone",icon:"git-fork",label:wb.Elements.CloneRepo},{view:"link",value:"git:auth",iconClass:"ti-lock",label:wb.Elements.GitCredentials}],on:{onItemClick:function(t){switch(t.value){case"git:auth":e.addGitAuth.Na();break;case"git:clone":e.cloneRepo.Xa()}}}}},{id:"projectsAddButton",view:"menuIcon",iconClass:"ti-plus",title:"Add Project",dropdownOptions:{pos:"bottom-right",relativeTo:"projectsBarContainer",dropdownClass:"x-dropdown-large",dropdownAnimation:"",lazy:!0},dropdown:{id:"projectsAddListMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"new",iconClass:"ti-archive",label:yb(wb.Actions.New(wb.Objects.Project))},{id:"projectsImportZipButton",view:"link",value:"import:zip",iconClass:"ti-zip",label:yb(wb.Actions.Import(wb.Objects.Echo("ZIP"))),uploader:!0,on:{onClick:function(){this._uploader.value=""},onFileChange:function(t,r){var n=r.files[0];n&&m.modules.files.ku(n).then((function(t){var r=t.name,n=t.data;return e.project.wa(r,n)}),(function(t){return e.prompt.$e(wb.ErrorMessages.DecodeError,t)}))}}},{$divider:!0},{view:"link",value:"update",iconClass:"ti-comment-alt",label:yb({en:"Change Log",es:"Registro de Cambios",ja:"変更ログ",pt:"Histórico de Mudanças",ru:"Журнал изменений",zh:"改动日志",zhTW:"變更日誌"})},{view:"link",value:"lab",iconClass:"ti-package",label:yb(wb.Actions.View(wb.Objects.Labs))}],on:{onItemClick:function(t){switch(t.value){case"new":e.project.cr();break;case"update":e.main.Kn().showLanding(),e.landing.qn().switchToTab("update");break;case"lab":e.main.Kn().showLanding(),e.landing.qn().switchToTab("lab")}}}}}]}]},{cls:"x-menu-search-container",template:{id:"projectsSearch",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",i18nPlaceholders:wb.Actions.Enter(wb.Objects.NameFor(wb.Objects.Project)),clearSearch:!0,on:{onFocus:function(){e.observable.run({action:"blockDrawer",block:!0}),UI.addClass(this.el,"uk-focus")},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1}),UI.removeClass(this.el,"uk-focus")},onInput:function(){e.projectQuery.searchPhrase=this.getValue(),e.Wn().refresh()}}}}]},r={id:"projectsContainer",batch:"projects",flex:!1,flexLayout:"",flexSize:"",cells:[{id:"projectsList",view:"list",batch:"list",flexSize:"flex",listStyle:"side",filter:function(t){var r=e.projectQuery.searchPhrase.toLowerCase(),n=Fw.basename(t.dir).replace(/«[^»]*»/g,""),i=!0;if(r)if(i=n.toLowerCase().includes(r)){var a=RegExp("("+e.string.ct(r)+")","ig");t.label=n.replace(a,'<span class="x-search-highlight">$&</span>'),t.$dirty=!0}else t.$dirty=n!==t.label,t.label=n;else t.$dirty=t.label!==n,t.label=n;t.$dirty&&(this.refreshItem(t),t.$dirty=!1);return i},template:function(t){var r=t.dir,n=t.modifiedAt,i=t.git,a=t.label,o="".concat(i?"GIT ":"").concat(Fw.isIDB(r)?"IDB":""),u=e.date.tt.bind(e.date);return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{view:"image",htmlTag:"SVG",margin:"right-sm",width:40,height:40,on:{onInitialized:function(){jdenticon.update(this.el,r)}}},{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",flex:!0,htmlTag:"DIV",label:"<span class='x-text-overflow-ellipsis'>".concat(a,"</span>")+(o?"<small class='uk-text-muted uk-margin-small-left'>".concat(o,"</span>"):"")},{view:"label",text:"small",htmlTag:"DIV",attributes:kb({en:"Modified "+u(n),es:"Modificado "+u(n,"es"),fr:"Modifié "+u(n,"fr"),id:"Dimodifikasi "+u(n,"id"),ja:"修正済み"+u(n,"ja"),pt:"Modificado "+u(n,"pt"),ru:"Изменено "+u(n,"ru"),zh:"修改于"+u(n,"zh"),zhTW:"修改"+u(n,"zhTW")})}]},{view:"menuIcon",tagClass:"",icon:"more-vertical",on:{onMouseDown:function(){var r=e.Zu();r.open(t),r.positionNextTo(this.el,"bottom-right"),r.moveWithinBoundary()},onClick:function(e,t,r){UI.preventEvent(r)}}}]}}},on:{onItemClick:function(t){var r=t.dir;return e.session.oe(r)}}},{batch:"empty",cls:"x-empty-block",textAlign:"center",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",htmlTag:"H4",template:yb(wb.Actions.NoItemFound(wb.Objects.Projects))}]},{batch:"list",view:"spacer",height:128}]};e.view=UI.new({batch:"projects",fill:"height",cls:["x-height-auto","x-max-width-100"],flexLayout:"column",cells:[t,{id:"projectsScroller",view:"scroller",nativeScroll:Ew.supported,flexSize:"flex",cells:[r],on:{onScroll:function(){e.Ku()}}}]}),e.projectQuery={searchPhrase:""}})).def({Zu:function(){var e=this;return e.$projectMenu?e.$projectMenu:e.$projectMenu=UI.new({view:"dropdown",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"link",value:"download",iconClass:"ti-zip",label:yb(wb.Actions.Export(wb.Objects.Echo("ZIP")))},{view:"link",value:"rename",iconClass:"ti-pencil",label:wb.Elements.Rename},{view:"link",value:"delete",iconClass:"ti-trash",label:wb.Elements.Delete}],on:{onItemClick:function(t){var r=this.project&&this.project.dir;if(r)switch(t.value){case"download":e.zipper.vt(r);break;case"rename":e.files.Uo(r);break;case"delete":e.qu(r)}},onOpened:function(e,t,r){this.project=r}}}},document.body)}}),m.module("search").require("prompt","path","session","editor","messages","string","searchSettings").__init__((function(e,t){var r=t.path,n=t.prompt,i=t.session,a=t.editor,o=t.messages,u=t.string,s=t.searchSettings;Object.assign(e,{path:r,prompt:n,session:i,editor:a,messages:o,string:u,searchSettings:s,observable:new zw}),e.entityMap={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39","/":"&#x2F","`":"&#x60","=":"&#x3D"},e.session.observable.subscribe((function(t){"open"===t.action&&e.Ri()})),e.searchSettings.observable.subscribe((function(t){switch(t.action){case"updateSettings":e.Ai()}})),e.Ri()})).def({Yu:function(){return 500},Ri:function(){this.searchResults=[],this.searchTerm=null,this.running=!1,this.sr()&&(this.sr().setData([]),this.container().clearResults(),this.replaceInput().setValue(""),this.findInput().setValue(""))},wi:function(){return $$("menuContainer")},statusLabel:function(){return $$("searchStatusLabel")},findInput:function(){return $$("searchFindInput")},replaceInput:function(){return $$("searchReplaceInput")},sr:function(){return $$("searchTree")},container:function(){return $$("searchContainer")},progress:function(){return $$("searchProgress")},isMatchCaseOn:function(){return $$("searchCaseSensitiveIcon").isSelected()},isMatchWholeWordOn:function(){return $$("searchWholeWordIcon").isSelected()},isRegExOn:function(){return $$("searchRegExIcon").isSelected()},clearAll:function(){this.sr().clearAll()},Ju:function(e,t,r,n){return e=t?e:this.string.ct(e),e=n?"\\b"+e+"\\b":e,new RegExp(e,r?"gm":"igm")},Qu:function(){var e=this.searchResults||[];return this.running?(this.messages.$e("searchBusyError",null,{locale:$w.locale}),!1):0!==e.length},Xu:function(e){var t=this,r=t.searchResults;if(t.Qu()){for(var n,i,a={},o=0;o<r.length;o++)i=r[o],n=a[i.path]||[],a[i.path]=n,n.push({range:{start:i.start,end:i.end},text:e});return t.running=!0,Ib({data:Object.keys(a),promiseGenerator:function(e){return t.editor.Gt({changes:a[e],path:e})},useRaf:!0}).then((function(){return t.running=!1,t.Ai()}),(function(e){return t.running=!1,Promise.reject(e)})).then(Vw("search_replace","search"),Kw("search_replace","search"))}},ts:function(){var e=this;if(e.Qu()){var t=e.string.st(e.replaceInput().getValue()||""),r=e.string.st(e.searchTerm||"");e.prompt.gt(wb.Elements.ReplaceAll,null,{message:{en:"Replace all occurrences of 「".concat(r,"」 with 「").concat(t,"」?"),es:"Reemplaza todas las ocurrencias 「".concat(r,"」 con 「").concat(t,"」?"),ja:"すべての「".concat(r,"」を「").concat(t,"」に置き換えますか？"),pt:"Substituir todas as ocorrências 「".concat(r,"」 com 「").concat(t,"」?"),zh:"替换「".concat(e.searchTerm,"」为「").concat(t,"」?"),zhTW:"取代「".concat(e.searchTerm,"」為「").concat(t,"」?")},onResult:function(){e.Xu(e.replaceInput().getValue())},type:"confirm"})}},rs:function(){var e=this,t=e.sr(),r={},n=e.searchResults;if(0!==n.length){var i=(n=n.filter((function(n){var i=n.path;if(r[i]=1,t.getItem(i)||t.add({$branch:!0,file:!0,id:i,path:i,cls:"x-search-branch",label:Fw.basename(i)}),n.nodeId){var a=t.getItem(n.nodeId);t.updateItem(a,{label:e.as(n.line,n.match,n.start.row),row:n.start.row,column:n.start.column})}else n.nodeId=t.add({$branch:!1,$parent:i,search:!0,cls:"x-search-item",label:e.as(n.line,n.match,n.start.row),path:n.path,row:n.start.row,column:n.start.column,file:n.file});return!0}))).length,a=Object.keys(r).length;e.statusLabel().setValue(yb({en:"".concat(i," results in ").concat(a," files"),es:"".concat(i," resultados en ").concat(a," archivos"),ja:"".concat(i,"は").concat(a,"つのファイルになります"),pt:"".concat(i," resultados em ").concat(a," arquivos"),zh:"".concat(i,"文件中有").concat(a,"个结果"),zhTW:"".concat(i,"文件中有").concat(a,"個結果")}))}else e.container().displayNoResults()},us:function(e,t,r,n,i){for(var a,o=[],u=0;u<i&&(a=t.exec(e));u++){var s=this.ss(e,a.index,a[0].length,n);o.push({start:this.cs(e,a.index),end:this.cs(e,t.lastIndex),range:s,line:e.slice(s.start,s.end),match:{start:a.index-s.start,end:t.lastIndex-s.start},path:r})}return o},Ai:function(){var e=this,t=e.findInput().getValue(),r=e.isMatchWholeWordOn(),n=e.isMatchCaseOn(),i=e.isRegExOn();if("string"!=typeof t||0===t.length)return Promise.reject("Invalid search pattern.");var a=e.Ju(t,i,n,r),o=e.session.me(),u=e.Yu(),s=e.searchSettings.lr();if(!o)return Promise.reject("No current project.");e.searchTerm=t;var c=e.searchResults=[],f=e.progress();return e.sr().clearAll(),e.statusLabel().setValue(yb({en:"Searching…",es:"Buscando…",ja:"検索中…",pt:"A procurar…",zh:"搜索…",zhTW:"搜尋中…"})),f.setValue(0),f.reveal(),Uw.readdirDeep(o).then((function(t){var r=(t=t.filter((function(t){return!e.path.fe(t)&&!e.path.it(t)&&(!s||s.includes(t))}))).length,n=0,i=0;return Ib({data:t,promiseGenerator:function(t){return c!==e.searchResults?($LOG.log("Search aborted."),Promise.reject("Search aborted.")):((i=++n/r*100)-f.getValue()>5&&f.setValue(i),Uw.readFile(t,{encoding:"utf8"}).then((function(r){var n=e.us(r,a,t,32,u);return c.push.apply(c,n),c.length>=u?(c.length=u,$LOG.log("[search] Max results reached."),Promise.reject("Exceeded max number of results.")):c!==e.searchResults?($LOG.log("Search aborted."),Promise.reject("Search aborted.")):void(n.length&&e.rs())})))},maxConcurrency:1,retryAttempts:0,useRaf:!0})})).then(Vw("search_find_display","search"),Kw("search_find_display","search")).then((function(){e.ls(),e.rs()}),(function(t){return e.ls(),e.rs(),Promise.reject(t)}))},ls:function(){var e=this.progress();e.setValue(100),setTimeout((function(){e.conceal(),e.setValue(0)}),500)},ss:function(e,t,r,n){n=(n=n||1e4)>r?n-r:0;var i=t+r,a=e.slice(Math.max(t-n,0),t),o=e.slice(i,i+n);return a=(a=a.split(/[\n\r]/).pop()).replace(/^\s+/,""),o=(o=o.split(/[\n\r]/).shift()).replace(/\s+$/,""),a.length+o.length>n&&(a=a.slice(Math.max(0,a.length-Math.floor(n/2))),o=o.slice(0,n-a.length)),{start:t-a.length,end:i+o.length}},cs:function(e,t){var r=(e=e.slice(0,t)).split(/\r\n|\r|\n/g);return{row:r.length-1,column:r.pop().length}},as:function(e,t,r){var n=this,i=t?t.start:-1,a=t?t.end:-1;return"<small class='x-search-item-row uk-text-muted'>".concat(r+1,"</small>")+e.split("").map((function(e,t){var r=n.entityMap[e]||e;return t===i&&(r='<span class="x-search-highlight">'+r),t===a-1&&(r+="</span>"),r})).join("")}}),m.module("search").require("fileTree").__init__((function(e){var t=UI.new({id:"searchBarContainer",flexSize:"none",flexLayout:"column",cells:[{cls:"x-menu-title-bar",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:wb.Elements.Find,on:{onToggled:function(e){var t=$$("searchFindInput");e.visible?(t.show(),t.focus()):t.hide()}}},{cls:"x-menu-icons",flexSize:"none",cells:[{id:"searchRegExIcon",view:"menuToggle",outline:!0,cls:["ace_icon","regex","x-search-modifier-icon"],title:"Use RegEx"},{id:"searchCaseSensitiveIcon",view:"menuToggle",outline:!0,cls:["ace_icon","case-sensitive","x-search-modifier-icon"],title:"Match Case"},{id:"searchWholeWordIcon",view:"menuToggle",outline:!0,cls:["ace_icon","whole-word","x-search-modifier-icon"],title:"Match Whole Word"},{id:"searchSettingsIcon",view:"menuIcon",iconClass:"ti-filter",title:"Filter Files",style:{fontSize:"1em",marginRight:"6pt"},on:{onMouseDown:function(){e.searchSettings.cr()}}}]}]},{cls:"x-menu-search-container",template:{id:"searchFindInput",cls:"x-menu-search",view:"searchField",i18nPlaceholders:wb.Actions.Find(wb.Objects.Text),clearSearch:!0,updateSearchAsync:function(){return e.Ai()},on:{onKeyUp:function(e,t,r){"Enter"===r.key&&this.updateSearchAsync()},onFocus:function(){e.observable.run({action:"blockDrawer",block:!0})},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1})}}}},{cls:"x-menu-title-bar",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:wb.Elements.Replace,on:{onToggled:function(e){var t=$$("searchReplaceInput");e.visible?(t.show(),t.focus()):t.hide()}}}]},{cls:"x-menu-search-container",template:{id:"searchReplaceInput",view:"searchField",cls:"x-menu-search",i18nPlaceholders:wb.Actions.Replace(wb.Objects.Text),clearSearch:!0,on:{onKeyUp:function(t,r,n){"Enter"===n.key&&e.ts()},onFocus:function(){e.wi().$blockDrawerPan=!0},onBlur:function(){e.wi().$blockDrawerPan=!1}}}},{cls:["x-menu-title-bar","x-bar-shadow"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:wb.Elements.FindResults,on:{onToggled:function(e){var t=$$("searchContainer");e.visible?t.show():t.hide()}}},{flexSize:"none",cells:[{id:"searchStatusLabel",view:"label",label:"",htmlTag:"SMALL",margin:"x"}]}]},{id:"searchProgress",view:"progress",size:"mini",color:"primary"}]}),r={id:"searchContainer",batch:"search",flexLayout:"column",cells:[{id:"searchTree",view:"fileTree",batch:"list",flexSize:"flex",allowDrag:!1,indentWidth:8,data:[],draggable:function(){return!1},orderAfter:function(e,t){var r=e.$parent==t.id,n=e.$depth<t.$depth,i=e.$parent==t.$parent;return r||n||i&&(e.$branch<t.$branch||e.row>t.row&&!e.$branch&&!t.$branch||e.label.toLowerCase()>t.label.toLowerCase()&&e.$branch&&t.branch)},on:{onAdded:function(){this.$count>1&&e.container().showBatch(["list"])},onItemClick:function(t){t.search&&e.observable.run({action:"jumpToFile",path:t.path,item:t})}}},{batch:"empty",cls:"x-empty-block",textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],template:{id:"searchEmptyMessage",htmlTag:"H4",view:"label",attributes:kb({en:"Find & Replace in Files",es:"Buscar y Reemplazar en Archivos",ja:"複数のファイルから検索",pt:"Localizar e Substituir em Ficheiros",ru:"Найти и Заменить в файлах",zh:"在多个文件中查找…",zhTW:"多重檔案尋找"})}},{batch:"list",view:"spacer",height:256}],clearResults:function(){e.statusLabel().setValue("&nbsp"),this.showBatch(["empty"])},displayNoResults:function(){e.statusLabel().setValue("0 results")}};e.view=UI.new({batch:"search",fill:"screen",cls:["x-height-auto","x-max-width-100"],flexLayout:"column",cells:[t,{id:"searchScroller",view:"scroller",nativeScroll:Ew.supported,flexSize:"flex",cells:[r]}]})})),m.module("settings").__init__((function(e){e.supportAnimation=UIkit2.support.animation,e.supportTransition=UIkit2.support.transition})).def({hs:function(e){e?(UI.removeClass(document.body,"no-animation"),UIkit2.support.animation=this.supportAnimation,UIkit2.support.transition=this.supportTransition):(UI.addClass(document.body,"no-animation"),UIkit2.support.animation=!1,UIkit2.support.transition=!1)}}),m.module("settings").require("editor","session","preview","addGitAuth","keyboardShortcuts","fontPicker","messages","vibrate","path").__init__((function(e,t){var r=t.editor,n=t.session,i=t.preview,a=t.addGitAuth,o=t.messages,u=t.vibrate,s=t.path;Object.assign(e,{editor:r,session:n,preview:i,addGitAuth:a,messages:o,vibrate:u,path:s,darkThemes:["monokai","ayu-mirage","dracula","one-dark"],observable:new zw})})).def({ds:function(){var e={},t=this.vs();UI.extend(e,this.ps().getValues()),UI.extend(e,this.gs().getValues()),UI.extend(e,this.bs().getValues());var r=this.ws();return r&&UI.extend(e,r.getValues()),t&&UI.extend(e,t.getValues()),e.dark=this.darkThemes.includes(e.appearanceTheme),e},ks:function(){[this.vs(),this.ws(),this.gs(),this.bs(),this.ps(),this.ys(),this.Rs()].forEach((function(e){e&&e.getFieldset().refresh()}))},xs:(Xy=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uw,e.next=3,$w.settingsConfigPathAsync();case 3:return e.t1=e.sent,e.t2=JSON.stringify(this.ds()),e.t3={atomic:!0},e.next=8,e.t0.write.call(e.t0,e.t1,e.t2,e.t3);case 8:case"end":return e.stop()}}),e,this)}))),function(){return Xy.apply(this,arguments)}),As:(Qy=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ds(),e.prev=1,e.t0=UI,e.t1=t,e.t2=JSON,e.t3=Uw,e.next=8,$w.settingsConfigPathAsync();case 8:return e.t4=e.sent,e.t5={encoding:"utf8"},e.next=12,e.t3.readFile.call(e.t3,e.t4,e.t5);case 12:e.t6=e.sent,e.t7=e.t2.parse.call(e.t2,e.t6),e.t0.extend.call(e.t0,e.t1,e.t7),e.next=20;break;case 17:e.prev=17,e.t8=e.catch(1),$LOG.log("[settings] deserialize error");case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return Qy.apply(this,arguments)}),Ss:function(e){this.darkThemes.includes(e)?(UI.addClass(document.documentElement,"dark"),Ew.setTheme("dark")):(UI.removeClass(document.documentElement,"dark"),Ew.setTheme("light")),this.editor.Sr(e)},Cs:function(e){this.editor.Fr(e)},Ts:function(e){this.editor.Dr(e)},Es:function(e){this.editor.Br(e)},Is:function(e){this.editor.Lr(e)},zs:function(e){this.editor.Mr(e)},Os:function(e){this.editor.Er("ace"===e?null:e)},Fs:function(e){$w.locale=e;var t=e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();document.documentElement.setAttribute("lang",t),Object.keys(UI.components).map((function(e){return UI.components[e]})).filter((function(e){return e.i18nPlaceholders})).forEach((function(t){var r=t.config.i18nPlaceholders;t.set("placeholder",r[e]||r.en||"")}))},Ps:function(e){e?UI.addClass(document.documentElement,"amoled"):UI.removeClass(document.documentElement,"amoled")},Ms:(Jy=r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.As();case 3:r=e.sent,t.Ls(r),t.Bs(r),t.Ds(r),t.Us(r),t.$s(r);case 9:case"end":return e.stop()}}),e,this)}))),function(){return Jy.apply(this,arguments)}),$s:function(e){var t=this.ws();t&&t.setValues(e),e.mobileConsole&&this.Ns(e.mobileConsole)},Ns:function(e){var t=Ew.chromeVersion;if("eruda"===e&&t>=1&&t<55)this.messages.$e("requiresChromeVersion",{version:55,actual:t},{locale:$w.locale}),this.setValue("legacy");else{var r=this.preview.ga();"legacy"===e?r.hide():r.show(),Ew.setConsoleMode(e)}},Bs:function(e){this.gs().setValues(e),this.hs(e.appearanceAnimations),e.appearanceAmoled&&this.Ps(e.appearanceTheme),e.appearanceTheme&&this.Ss(e.appearanceTheme),e.appearanceLanguage&&this.Fs(e.appearanceLanguage)},Ls:function(e){var t=this.ps();t.setValues(e),t.getFieldset().$components.forEach((function(t){m.isDefined(e[t.name])&&t.dispatch("onChange")}))},Ds:function(e){this.bs().setValues(e),this.preview.ba(e.previewUseLiveMode)},Us:function(e){var t=this.vs();t&&(t.setValues(e),t.getFieldset().$components.forEach((function(t){m.isDefined(e[t.name])&&t.dispatch("onChange")})))}}),m.module("settings").__init__((function(e,t){var n=t.logger,i=t.addGitAuth,a=t.cookieBanner,o=t.fontPicker,u=t.keyboardShortcuts,s=t.editor;function c(t){var r=$$(t.id),n=e.searchQuery.searchPhrase;if(r&&n){var i=$w.locale||"en",a=r.label.getAttribute("data-i18n-"+i)||r.label.getAttribute("data-i18n-en");return a&&a.toLowerCase().includes(n.toLowerCase())}return!0}e.searchQuery={searchPhrase:""};var f,l,h,d={id:"settingsEditorForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[{formLabelAttributes:kb({en:"Autocomplete / Check Syntax",es:"Autocompletar / Verificar Sintaxis",id:"Pelengkapan Otomatis / Sintaks",ja:"自動補完    / 構文を確認する",pt:"Autocompletar / Verificar Sintaxe",ru:"Автозавершение / Проверьте синтаксис",zh:"自动补全     / 检查语法",zhTW:"自動補全     / 檢查語法"}),view:"toggle",name:"editorAutocomplete",checked:!0,on:{onChange:function(t,r,n){s.Cr(this.getValue()),s.yr(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Font Size",es:"Tamaño de Fuente",fr:"Taille de Police",id:"Ukuran Font",ja:"フォントサイズ",pt:"Tamanho da Fonte",ru:"Pазмер шрифта",zh:"字号",zhTW:"字型"}),view:"select",name:"editorFontSize",data:[{value:"10px",label:"10px"},{value:"11px",label:"11px"},{value:"12px",label:"12px"},{value:"13px",label:"13px"},{value:"14px",label:"14px"},{value:"15px",label:"15px"},{value:"16px",label:"16px"}],on:{onInitialized:function(){this.setValue(window.innerWidth<=480?"12px":"14px")},onChange:function(t,r,n){e.Cs(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb(wb.Objects.Font),view:"link",cls:"x-link",label:wb.Elements.Open,on:{onClick:function(){o.Ma()}}},{formLabelAttributes:kb({en:"Indent Guide",es:"Guías de Sangría",fr:"Guides d'indentation",id:"Penanda Indentasi",ja:"インデントガイド",pt:"Guia de Indentação",ru:"Подсказки для отступов",zh:"缩进对齐线",zhTW:"縮排對齊線"}),view:"toggle",name:"editorIndentGuides",checked:!0,on:{onChange:function(t,r,n){s.Pr(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Keybindings",es:"Atajos de teclado",fr:"Liaison de touches",id:"Pengikat kunci",ja:"キーバインド",pt:"Combinações de teclas",ru:"Сочетания клавиш",zh:"键绑定",zhTW:"鍵綁定"}),view:"select",name:"editorKeybinding",data:[{value:"ace",label:"Ace"},{value:"ace/keyboard/sublime",label:"Sublime"},{value:"ace/keyboard/vscode",label:"VSCode"}],on:{onInitialized:function(){this.setValue(null)},onChange:function(t,r,n){e.Os(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Line Numbers",es:"Números de Línea",fr:"Numéros de Ligne",id:"Nomor Baris",ja:"行番号を表示",pt:"Números de Linha",ru:"Hомера строк",zh:"显示行号",zhTW:"顯示行號"}),view:"toggle",name:"editorLineNumbers",checked:!0,on:{onChange:function(t,r,n){e.zs(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Show Invisibles",es:"Mostrar Invisibles",fr:"Caractères Invisibles",ja:"不可視文字を表示",pt:"Mostrar Invisíveis",ru:"Показать невидимые",zh:"显示隐藏字符",zhTW:"顯示隱藏字元"}),view:"toggle",name:"editorShowInvisibles",checked:!1,on:{onChange:function(t,r,n){e.Ts(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Use Soft Tabs",fr:"Tabulations souples",ja:"ソフトタブ",zh:"软制表符（Soft Tab）",zhTW:"軟定位點"}),view:"toggle",name:"editorSoftTabs",checked:!0,on:{onChange:function(t,r,n){e.Es(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Tab Size",es:"Tamaño de Tab",fr:"Largeur de l'indentation",id:"Lebar Indent",ja:"タブ幅",pt:"Tamanho do Tab",ru:"Ширина отступа",zh:"Tab 长度",zhTW:"Tab 長度"}),view:"select",name:"editorTabSize",data:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"8",label:"8"}],on:{onInitialized:function(){this.setValue("2")},onChange:function(t,r,n){e.Is(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Word Wrap",es:"Ajuste de Línea",fr:"Renvoi à la Ligne",id:"Bungkus Baris",ja:"自動折り返し",pt:"Quebra de Linha",ru:"Перенос строк",zh:"自动换行",zhTW:"自動換行"}),view:"toggle",name:"editorWordWrap",checked:!0,on:{onChange:function(t,r,n){s.Tr(this.getValue()),n&&e.xs()}}}]},m={id:"settingsMobileForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[iR.orientationSupportOnly({formLabelAttributes:kb({en:"Orientation",es:"Orientación",id:"Orientasi",ja:"デバイスの向き",pt:"Orientação",ru:"Oриентация",zh:"方向",zhTW:"設備方向"}),view:"select",name:"mobileOrientation",data:[{value:"portrait",label:"Portrait"},{value:"landscape",label:"Landscape"},{value:"auto",label:"Auto"}],on:{onInitialized:(f=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Ew.getOrientation();case 3:e.t1=e.sent,e.t0.setValue.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),onChange:function(){Ew.setOrientation(this.getValue())}}}),iR.consoleModeSupportOnly({formLabelAttributes:kb({en:"Console",es:"Consola",ja:"コンソール",pt:"Console",ru:"консоль",zh:"控制台",zhTW:"控制台"}),view:"select",name:"mobileConsole",data:[{value:"eruda",label:"Eruda"},{value:"legacy",label:"Legacy"}],on:{onInitialized:function(){this.setValue(Ew.chromeVersion>=55?"eruda":"legacy")},onChange:function(t,r,n){e.Ns(this.getValue()),n&&e.xs()}}})]},v={id:"settingsTouchForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[{formLabelAttributes:kb({en:"Tablet Mode",es:"Modo Tableta",id:"Mode Tablet",ja:"タブレットモード",pt:"Modo Tablet",ru:"Режим планшета",zh:"平板电脑模式",zhTW:"平板電腦模式"}),view:"toggle",name:"touchTabletMode",checked:!1,on:{onInitialized:(l=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Ew.isTablet();case 3:e.t1=e.sent,e.t0.setValue.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),onChange:function(t,r,n){var i=this.getValue();if(i&&window.innerWidth<=480)e.messages.$e("tabletModeNotAllowed",null,{locale:$w.locale}),this.setValue(!1),e.xs();else{var a=document.documentElement;i&&UI.support.touch?UI.addClass(a,"x-tablet"):UI.removeClass(a,"x-tablet"),e.observable.run({action:"change",name:this.config.name,userTriggered:!!n,value:i}),n&&e.xs()}}}},{formLabelAttributes:kb({en:"Haptic Keypress",es:"Táctil Háptica",fr:"Touche Haptique",id:"Tekan Tombol Haptic",ja:"触覚キープレス",pt:"Tecla Táctil",ru:"Tактильная клавиша",zh:"触觉按键",zhTW:"觸覺按鍵"}),view:"toggle",name:"touchHapticKeypress",checked:!0,on:{onChange:function(t,r,n){s.$r(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Keyboard Position",es:"Posición del Teclado",fr:"Position du Clavier",id:"Posisi Keyboard",ja:"キーボードの位置",pt:"Posição do Teclado",ru:"Положение клавиатуры",zh:"键盘位置",zhTW:"鍵盤位置"}),view:"select",name:"touchKeyboardPosition",data:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"}],on:{onInitialized:function(){var e=s.ace.userAgent.isIOS||Ew.isIOS;this.setValue(e?"top":"bottom")},onChange:function(t,r,n){s.zr(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Extra Keyboard",es:"Teclado Extra",fr:"Clavier Supplémentaire",id:"Keyboard Ekstra",ja:"追加のキーボード",pt:"Teclado Extra",ru:"Дополнительная клавиатура",zh:"额外的键盘",zhTW:"額外的鍵盤"}),view:"toggle",name:"touchExtraKeyboard",checked:!0,on:{onChange:function(t,r,n){s.Ir(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Touch Keyboard",es:"Teclado Táctil",fr:"Clavier Tactile",id:"Sentuh Keyboard",ja:"タッチキーボード",pt:"Teclado de Toque",ru:"Сенсорная клавиатура",zh:"软键盘",zhTW:"軟鍵盤"}),view:"toggle",name:"touchKeyboard",checked:!0,on:{onChange:function(t,r,n){s.jr(this.getValue()),n&&e.xs()}}}]},p={id:"settingsGitForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[{formLabelAttributes:kb(wb.Objects.Credentials),view:"link",cls:"x-link",label:wb.Elements.Open,on:{onClick:function(){i.Na()}}}]},g={id:"settingsAppearanceForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[{formLabelAttributes:kb({en:"Animations",es:"Animaciones",id:"Animasi",ja:"アニメーション",pt:"Animações",ru:"Анимации",zh:"动画效果",zhTW:"動畫效果"}),view:"toggle",name:"appearanceAnimations",checked:!0,on:{onChange:function(t,r,n){e.hs(this.getValue()),n&&e.xs()}}},{formLabel:"Language",view:"select",name:"appearanceLanguage",data:[{value:"en",label:"English"},{value:"es",label:"Español"},{value:"fr",label:"Français"},{value:"pt",label:"Portugues"},{value:"ru",label:"Pусский"},{value:"id",label:"Indonesia"},{value:"ja",label:"日本語"},{value:"zh",label:"简体中文"},{value:"zhTW",label:"繁體中文"}],on:{onInitialized:function(){this.setValue({en:"en","en-us":"en","en-ca":"en","en-gb":"en","en-in":"en",es:"es","es-ar":"es","es-gt":"es","es-cr":"es","es-pa":"es","es-do":"es","es-es":"es","es-mx":"es","es-ve":"es","es-co":"es","es-pe":"es","es-ec":"es","es-cl":"es","es-uy":"es","es-py":"es","es-bo":"es","es-sv":"es","es-hn":"es","es-ni":"es","es-pr":"es","es-us":"es",fr:"fr","fr-fr":"fr","fr-be":"fr","fr-CA":"fr","fr-ch":"fr","fr-lu":"fr",id:"id","id-id":"id",ja:"ja","ja-ja":"ja","ja-jp":"ja",pt:"pt","pt-br":"pt",ru:"ru","ru-ru":"ru",zh:"zh","zh-cn":"zh","zh-sg":"zh","zh-hk":"zhTW","zh-tw":"zhTW"}[navigator.language.toLowerCase()]||"en")},onChange:function(t,r,n){e.Fs(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"Theme",es:"Tema",fr:"Thème",id:"Tema",ja:"テーマ",pt:"Temas",ru:"Тема",zh:"主题",zhTW:"佈景主題"}),view:"select",name:"appearanceTheme",data:[{value:"ayu-light",label:"Ayu Light",optgroup:"Light"},{value:"chrome",label:"Chrome",optgroup:"Light"},{value:"xcode",label:"XCode",optgroup:"Light"},{value:"ayu-mirage",label:"Ayu Mirage",optgroup:"Dark"},{value:"dracula",label:"Dracula",optgroup:"Dark"},{value:"monokai",label:"Monokai",optgroup:"Dark"},{value:"one-dark",label:"One Dark",optgroup:"Dark"}],on:{onInitialized:function(){this.setValue("dracula")},onChange:function(t,r,n){e.Ss(this.getValue()),n&&e.xs()}}},{formLabelAttributes:kb({en:"AMOLED Display",es:"Pantalla AMOLED",fr:"Affichage AMOLED",id:"AMOLED",ja:"AMOLED",pt:"Exibição Amolada",ru:"AMOLED",zh:"AMOLED",zhTW:"AMOLED"}),view:"toggle",name:"appearanceAmoled",checked:!1,on:{onChange:function(t,r,n){e.Ps(this.getValue()),n&&e.xs()}}}]},b={id:"settingsPreviewForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[{formLabelAttributes:kb({en:"Live Preview",es:"Previa en Vivo",fr:"Aperçu en Direct",id:"Pratinjau Langsung",ja:"ライブプレビュー",pt:"Visualização ao Vivo",ru:"Предварительный просмотр",zh:"实时预览",zhTW:"實時預覽"}),view:"toggle",name:"previewUseLiveMode",checked:!0,on:{onChange:function(t,r,n){e.preview.ba(this.getValue()),n&&e.xs()}}}]},w={id:"settingsAboutForm",view:"form",margin:"top",formStyle:"horizontal line",fieldsetOptions:{filter:c},fieldset:[{formLabelAttributes:kb({en:"Build",es:"Versión",fr:"Version",id:"Versi",ja:"バージョン",pt:"Versão",ru:"Версия",zh:"版本号",zhTW:"版本號"}),view:"label",label:"",on:{onInitialized:(h=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ew.versionName();case 2:t=e.sent,this.setValue(t||window.$version||"dev");case 4:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})}},{formLabelAttributes:kb(wb.Objects.KeyboardShortcuts),view:"link",cls:"x-link",label:wb.Elements.Open,on:{onClick:function(){u.cr()}}},{formLabelAttributes:kb({en:"Terms Agreement",es:"Términos de Uso",fr:"Conditions d'utilisation",id:"Syarat Penggunaan",ja:"利用条件",pt:"Termos de Uso",ru:"Условия эксплуатации",zh:"使用条款",zhTW:"使用條款"}),view:"link",cls:"x-link",label:wb.Elements.Open,on:{onClick:function(){a.banner.show()}}},{formLabelAttributes:kb(wb.Objects.LogHistory),view:"link",cls:"x-link",label:wb.Elements.Open,on:{onClick:function(){n.cr()}}},{formLabel:"<a class='uk-text-nowrap' href='https://discord.gg/t9fxkR4' rel='noopener noreferrer' target='_blank'>\n            ".concat(wb.Elements.Join," Discord</a>")},{formLabel:"<a class='uk-text-danger uk-text-nowrap' href='https://github.com/spckio/spck-issues/issues' rel='noopener noreferrer' target='_blank'\n            data-i18n-en='Report an Issue' data-i18n-es='Reportar un Problema' data-i18n-ja='問題の報告' data-i18n-pt='Informar um Problema' data-i18n-zh='报告问题' data-i18n-zh-tw='回報問題'></a>"}]};function k(e,t){return{cls:"x-menu-title-bar",view:"menuTitle",attributes:kb(e),on:{onToggled:function(e){var r=$$(t);e.visible?r.show():r.hide()}}}}e.view=UI.new({batch:"settings",id:e.__name__,fill:"height",flexLayout:"column",cls:["x-height-auto","x-max-width-100"],cells:[{cls:["x-menu-title-bar","collapsed"],flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",htmlTag:"LABEL",attributes:kb(wb.Objects.Settings),collapsable:!1},{id:"settingsActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"settingsSearchButton",view:"menuToggle",icon:"search",title:"Search Settings",on:{onToggled:function(){var t=e.Yn();this.isSelected()?(t.show(),t.focus()):t.hide()}}}]}]},{cls:"x-menu-search-container",template:{id:"settingsSearch",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",i18nPlaceholders:wb.Actions.Enter(wb.Objects.NameFor(wb.Objects.Setting)),clearSearch:!0,on:{onFocus:function(){e.observable.run({action:"blockDrawer",block:!0}),UI.addClass(this.el,"uk-focus")},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1}),UI.removeClass(this.el,"uk-focus")},onInput:function(){e.searchQuery.searchPhrase=this.getValue(),e.ks()}}}},{view:"scroller",nativeScroll:Ew.supported,flexSize:"flex",cells:[k({en:"GIT"},"settingsGitForm"),p,k({en:"APPEARANCE",es:"APARIENCIA",fr:"Apparition",id:"PENAMPILAN",ja:"出現",pt:"APARÊNCIA",ru:"Внешность",zh:"外观",zhTW:"出現"},"settingsAppearanceForm"),g,k({en:"Editor",fr:"Éditeur",ja:"エディタ設定",ru:"Pедактор",zh:"编辑器",zhTW:"編輯器"},"settingsEditorForm"),d,k(wb.Objects.Preview,"settingsPreviewForm"),b,iR.mobileOnly(k({en:"MOBILE",es:"MÓVIL",ja:"モバイル",pt:"MÓVEL",ru:"Mобильный",zh:"移动",zhTW:"移動"},"settingsMobileForm")),iR.mobileOnly(m),iR.touchOnly(k({en:"Touch",es:"Toque",id:"Sentuh",ja:"タッ",pt:"Toque",ru:"Cенсорный",zh:"触控功能",zhTW:"觸控功能"},"settingsTouchForm")),iR.touchOnly(v),k({en:"About",es:"Acerca de",id:"Tentang",ja:"について",pt:"Sobre",ru:"О Spck",zh:"关于",zhTW:"關於"},"settingsAboutForm"),w,{view:"spacer",height:64}]}]})})).def({Yn:function(){return $$("settingsSearch")},ps:function(){return $$("settingsEditorForm")},gs:function(){return $$("settingsAppearanceForm")},bs:function(){return $$("settingsPreviewForm")},vs:function(){return $$("settingsTouchForm")},ws:function(){return $$("settingsMobileForm")},ys:function(){return $$("settingsGitForm")},Rs:function(){return $$("settingsAboutForm")}}),m.module("embed").require("main","settings","urlQuery","remote","path","model","project","session","files").__new__((function(e){e.unprocessedEvents=[],e.port=null,window.onmessage=function(t){if(!e.Gs()){var r=t.data,n=t.ports&&t.ports[0],i=(t.origin||"-").split("://").pop();"connect"===r&&n?(n.postMessage("connected"),e.port=n):e.unprocessedEvents.push({port:n,data:r,origin:i}),"loaded"===e.__state__&&(e.unprocessedEvents.forEach((function(t){return e.Ws(t)})),e.unprocessedEvents.length=0)}}})).__init__((function(e,t){var r=t.project,n=t.settings,i=t.urlQuery,a=t.remote,o=t.path,u=t.main,s=t.model,c=t.session,f=t.files,l=i.ht.bind(i);if(Object.assign(e,{project:r,settings:n,remote:a,path:o,main:u,model:s,session:c,files:f,projectName:l("name")||l("project"),useFiles:l("files"),usePreview:l("preview"),theme:l("theme")}),!e.Gs()){e.unprocessedEvents.forEach((function(t){return e.Ws(t)})),e.unprocessedEvents.length=0;var h=u.Pt();h.observable.subscribe((function(t){var r=t.action,n=t.position,i=t.selectionRanges,a=t.selectedText,o=t.path;if(e.port)switch(r){case"focus":case"blur":e.port.postMessage({action:r});break;case"edit":e.port.postMessage({action:"textChange",args:[h.getValue(),o]});break;case"positionChange":e.port.postMessage({action:r,args:[n]});break;case"selectionChange":e.port.postMessage({action:r,args:[{selectedText:a,selectionRanges:i}]})}})),f.observable.subscribe((function(t){var r=t.action,n=t.path;if(e.port)switch(r){case"open":e.port.postMessage({action:"fileOpen",path:n})}})),c.observable.subscribe((function(t){var r=t.action,n=t.project;if(e.port)switch(r){case"open":e.port.postMessage({action:"projectOpen",project:n});break;case"close":e.port.postMessage({action:"projectClose"})}})),e.useFiles||(u.Ni().hide(),u.Vi().hide(),u.Hi().hide(),u.Pt().setScrollMargin(8,24),u.Mi()),e.usePreview||(u.ki().hide(),u.yi().hide(),u.Fi()),e.theme&&n.Ss(theme)}})).def({Gs:function(){return!window.$embedMode||["spck.io","www.spck.io"].includes(window.location.hostname)},Hs:(eR=r(regeneratorRuntime.mark((function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectName,n=t.files,i=t.open,a=t.origin,o=this,e.next=4,o.project.er({name:"«".concat(a,"»").concat(r),currentFilePath:i,uniqueName:!1,buildCallbackAsync:function(e){var t=e.dir;return Promise.all(n.map((function(e){var r=e.path,n=e.text,i=e.url;if(r){var a=Fw.join(t,r);return i?o.remote.X(i).then((function(e){return Uw.write(a,e)})):Uw.write(a,n)}})))}});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return eR.apply(this,arguments)}),Ws:function(t){var r=t.data,n=t.port,i=t.origin,a=this,o=a.main.Pt(),u=a.settings,s=[];if("string"==typeof r&&n)switch(r){case"text":n.postMessage(o.getValue());break;case"theme":n.postMessage(o.getTheme());break;case"mode":n.postMessage(o.getMode());break;case"tabSize":n.postMessage(o.getTabSize());break;case"position":n.postMessage(o.getCursorPosition())}else if("object"===e(r)){var c=r.project,f=r.files,l=r.appendFiles,h=r.open,d=r.editor,m=r.clearProjects,v=a.projectName||c||"Project";if(m&&("boolean"==typeof m?s.push(a.model.ze("RISKY_STUFF")):Array.isArray(m)&&s.push(Promise.all(m.map((function(e){return $w.filesDirAsync(e).then((function(e){return a.model.je(e)}))}))))),f?(f.forEach((function(e,t){if(!e)throw new Error("Found a '".concat(e," entry at position ").concat(t," of files array."))})),s.push($w.filesDirAsync(v).then((function(e){return a.model.Ie(e).then((function(){return l?Promise.all(f.map((function(e){var t=e.path,r=e.text,n=e.url;if(t){var i=Fw.join(dir,t);return n?a.remote.X(n).then((function(e){return Uw.write(i,e)})):Uw.write(i,r)}}))):a.model.je(e).then((function(){return a.Hs({projectName:v,open:h,files:f,origin:i})}))}),(function(){return a.Hs({projectName:v,open:h,files:f,origin:i})}))})))):h&&s.push($w.filesDirAsync(name).then((function(e){return a.main.Si(Fw.join(e,h))}))),d){if("object"!==e(r))throw new Error("Type mismatch: 'editorConfig' property must be an object.");var p=!1,g=d.mode,b=d.fontSize,w=d.tabSize,k=d.text,y=d.gutter,R=d.theme,x=d.position;"string"==typeof R&&(u.Ss(R),p=!0),"string"==typeof g&&o.setMode(g),b&&(u.Cs(b),p=!0),void 0!==w&&(u.Is(w),p=!0),"string"==typeof k&&o.setValue(k,!0),"boolean"==typeof y&&(u.zs(y),p=!0),"object"===x&&(o.navigateTo(x.row,x.column),o.scrollToLine(x.row,!0,!1)),p&&s.push(u.xs().then(u.Ms()))}}return Promise.all(s)}}),UIkit2.support.mutationobserver=null,UI.ready((function(){m.module("views").require("embed","main","urlQuery","cookieBanner","logger");var e=m.modules,t=e.urlQuery,r=e.projects,n=e.session,i=e.model,a=e.main,o=e.prompt,u=e.settings,s=e.menu,c=t.ht.bind(t),f={embedMode:window.$embedMode,fileName:c("fileName"),externalPath:c("externalPath"),fileContent:c("fileContent")};Promise.resolve().then((function(){if("serviceWorker"in navigator)return navigator.serviceWorker.register("service.worker.js").catch($LOG.error.bind($LOG,"[SW ERROR]"))})).then((function(){return m.initialize("views")})).then((function(){return u.Ms()})).then((function(){if(r.Hu(),s.xi().switchToTab("projects"),!f.embedMode&&!f.fileName)return i.Re("currentProjectDir").then((function(e){e?n.oe(e):n.Fe()}),(function(){return o.gt({en:"Incognito mode detected!",es:"Modo de incógnito detectado!",ja:"シークレットモードが検出されました!",pt:"Modo de navegação anônima detectado!",zh:"检测到无痕模式!",zhTW:"檢測到無痕模式!"},null,{message:{en:"Your browser is operating in incognito, and the editor will not function properly in this mode. Please restart in a normal browsing session."},hideCancel:!0}),r.container().showBatch("empty"),n.Fe()}))})).then((function(){setTimeout((function(){UI.removeClass(document.getElementById("appContainer"),"uk-invisible");var e=document.getElementById("preloader");e&&e.parentNode&&document.body.removeChild(e)}),200),a.initAsync(f)}))})),$(document).bind("touchend",(function(e){rR(document.scrollingElement||window)}));var rR=function e(t){var r=void 0===t.scrollTop?"scrollY":"scrollTop",n=Math.ceil(Math.min(30,.35*t[r]));n>1?(t[r]-=n,requestAnimationFrame(e.bind(null,t))):t[r]=0},nR=function(e,t,r){return'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(e,'" height="').concat(e,'" viewBox="').concat(t,'">').concat(r,"</svg>")};window.SVGIcons={menu:nR(24,"0 0 24 24",'<path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>'),play:nR("1.25em","0 0 24 24",'<path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/>'),console:nR(30,"20 -10 128 128",'<path d="m 30.67481,98.91212 h 66.65036 c 7.7149,0 11.6211,-3.85742 11.6211,-11.47463 v -46.8262 c 0,-7.6171 -3.9062,-11.5234 -11.6211,-11.5234 H 30.67481 c -7.7148,0 -11.62108,3.8574 -11.62108,11.5234 v 46.8262 c 0,7.61721 3.90628,11.47463 11.62108,11.47463 z m 0.0977,-5.41992 c -4.0528,0 -6.2989,-2.14844 -6.2989,-6.34761 v -46.2403 c 0,-4.1992 2.2461,-6.3965 6.2989,-6.3965 h 66.45506 c 4.0039,0 6.2988,2.1973 6.2988,6.3965 v 46.2403 c 0,4.19917 -2.2949,6.34761 -6.2988,6.34761 z" />\n<path d="m 39.31149,78.78947 c 0.74732,0.74724 2.16318,0.66863 2.94981,-0.0787 L 55.35808,66.28254 c 1.53386,-1.45517 1.53386,-3.89367 0,-5.34884 L 42.2613,48.50547 c -0.86532,-0.78655 -2.12388,-0.86524 -2.91042,-0.0786 -0.82594,0.78655 -0.90463,2.16311 -0.0395,2.94973 L 52.21162,63.60814 39.31138,75.83976 c -0.82586,0.78654 -0.82586,2.1631 0,2.94972 z" />\n<path d="m 61.50046,79.84637 c 1.65404,0 3.02576,-1.33131 3.02576,-2.98543 0,-1.65404 -1.37172,-2.98535 -3.02576,-2.98535 -1.65412,0 -2.98543,1.33131 -2.98543,2.98535 0,1.65412 1.33131,2.98543 2.98543,2.98543 z m 11.0137,0 c 1.65412,0 2.98542,-1.33131 2.98542,-2.98543 0,-1.65404 -1.3313,-2.98535 -2.98542,-2.98535 -1.65404,0 -3.02575,1.33131 -3.02575,2.98535 0,1.65412 1.37171,2.98543 3.02575,2.98543 z m 10.97345,0 c 1.65404,0 3.02576,-1.33131 3.02576,-2.98543 0,-1.65404 -1.37172,-2.98535 -3.02576,-2.98535 -1.61371,0 -2.98543,1.33131 -2.98543,2.98535 0,1.65412 1.37172,2.98543 2.98543,2.98543 z" />'),noConsole:nR(30,"20 -10 128 128",'<path d="m 98.838938,103.04704 c 1.10381,1.11397 2.862402,1.15923 3.931072,0.10118 1.01698,-1.05938 1.04106,-2.76464 -0.0627,-3.878612 L 29.068041,24.951976 c -1.05204,-1.112647 -2.81069,-1.157913 -3.931075,-0.101176 -1.017779,1.007603 -0.988494,2.817639 0.06359,3.930287 z"/>\n<path d="m 40.95215,29.19568 5.41992,5.41993 h 50.85547 c 4.0039,0 6.29883,2.19728 6.29883,6.39648 v 46.24023 c 0,1.48502 -0.29369,2.70804 -0.8418,3.67579 l 4.19922,4.19726 c 1.36535,-1.86447 2.0625,-4.38734 2.0625,-7.58008 V 40.71912 c 0,-7.6171 -3.90619,-11.52344 -11.62109,-11.52344 z m -19.95898,4.08203 c -1.28273,1.85389 -1.93946,4.32721 -1.93946,7.44141 v 46.82617 c 0,7.61721 3.9063,11.47461 11.6211,11.47461 H 86.73535 L 81.31543,93.59998 H 30.77246 c -4.0528,0 -6.29882,-2.14849 -6.29882,-6.34766 V 41.01209 c 0,-1.39896 0.25399,-2.57022 0.73632,-3.51758 z" />\n<path d="M 51.81153,64.09607 39.30957,75.94764 c -0.82586,0.78654 -0.82586,2.1626 0,2.94922 0.74732,0.74724 2.16455,0.6692 2.95118,-0.0781 L 54.71582,67.0004 Z" />')};var iR={orientationSupportOnly:function(e){return Ew.orientationSupported?e:null},consoleSupportOnly:function(e){return Ew.consoleSupported?e:null},mobileOnly:function(e){return Ew.consoleModeSupported||Ew.orientationSupported?e:null},consoleModeSupportOnly:function(e){return Ew.consoleModeSupported?e:null},touchOnly:function(e){return UIkit2.support.touch?e:null},imeKeyboardOnly:function(e){return Ew.IMESupported?e:null}};window.virtualBack=function(){var e=!1,t=$(".uk-modal.uk-open").attr("id");if(t)$$(t).close(),e=!0;else{var r=$(".uk-offcanvas.uk-active").attr("id");if(r)$$(r).close(),e=!0;else{var n=$$("mainEditor").$editor;n.isTextSelected()&&(n.clearSelection(),e=!0)}}return e}}();